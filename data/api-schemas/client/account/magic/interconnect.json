{
	"id": "https://api.cloudflare.com/schemas/v4/client/account/magic/interconnect.json",
	"title": "Magic Interconnects",
	"description": "Interconnects used with Cloudflare CNI",
	"type": "object",
	"links": [
		{
			"title": "List Interconnects",
			"description": "List Interconnects associated with an account's Magic setup",
			"rel": "collection",
			"href": "accounts/{#/definitions/account_identifier}/magic/cf_interconnects",
			"method": "GET",
			"cfOwnership": "magic-on-ramps",
			"cfPlanAvailability": {
				"free": false,
				"pro": false,
				"business": false,
				"enterprise": true
			},
			"html_id": "magic-interconnects-list-interconnects",
			"uri": "accounts/:account_identifier/magic/cf_interconnects",
			"curl": "curl -X GET \"https://api.cloudflare.com/client/v4/accounts/01a7362d577a6c3019a474fd6f485823/magic/cf_interconnects\" \\\n     -H \"X-Auth-Email: user@example.com\" \\\n     -H \"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41\" \\\n     -H \"Content-Type: application/json\"",
			"response": "{\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"interconnects\": [\n      {\n        \"id\": \"c4a7362d577a6c3019a474fd6f485821\",\n        \"created_on\": \"2017-06-14T00:00:00Z\",\n        \"modified_on\": \"2017-06-14T05:20:00Z\",\n        \"name\": \"pni_ord\",\n        \"interface_address\": \"192.0.2.0/31\",\n        \"description\": \"Tunnel for Interconnect to ORD\",\n        \"health_check\": {\n          \"enabled\": true,\n          \"target\": \"203.0.113.1\",\n          \"type\": \"request\"\n        },\n        \"gre\": {\n          \"cloudflare_endpoint\": \"203.0.113.1\",\n          \"customer_endpoint\": \"203.0.113.1\",\n          \"is_colo_cast\": true\n        },\n        \"mtu\": 1476,\n        \"colo_name\": \"pni_ord\"\n      }\n    ]\n  }\n}"
		},
		{
			"title": "Interconnect Details",
			"description": "Get a specific Interconnect for an account's Magic setup",
			"rel": "self",
			"href": "accounts/{#/definitions/account_identifier}/magic/cf_interconnects/{#/definitions/tunnel_identifier}",
			"method": "GET",
			"cfOwnership": "magic-on-ramps",
			"cfPlanAvailability": {
				"free": false,
				"pro": false,
				"business": false,
				"enterprise": true
			},
			"html_id": "magic-interconnects-interconnect-details",
			"uri": "accounts/:account_identifier/magic/cf_interconnects/:tunnel_identifier",
			"curl": "curl -X GET \"https://api.cloudflare.com/client/v4/accounts/01a7362d577a6c3019a474fd6f485823/magic/cf_interconnects/01a7362d577a6c3019a474fd6f485823\" \\\n     -H \"X-Auth-Email: user@example.com\" \\\n     -H \"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41\" \\\n     -H \"Content-Type: application/json\"",
			"response": "{\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"interconnect\": {\n      \"id\": \"c4a7362d577a6c3019a474fd6f485821\",\n      \"created_on\": \"2017-06-14T00:00:00Z\",\n      \"modified_on\": \"2017-06-14T05:20:00Z\",\n      \"name\": \"pni_ord\",\n      \"interface_address\": \"192.0.2.0/31\",\n      \"description\": \"Tunnel for Interconnect to ORD\",\n      \"health_check\": {\n        \"enabled\": true,\n        \"target\": \"203.0.113.1\",\n        \"type\": \"request\"\n      },\n      \"gre\": {\n        \"cloudflare_endpoint\": \"203.0.113.1\",\n        \"customer_endpoint\": \"203.0.113.1\",\n        \"is_colo_cast\": true\n      },\n      \"mtu\": 1476,\n      \"colo_name\": \"pni_ord\"\n    }\n  }\n}"
		},
		{
			"title": "Update Interconnect",
			"description": "Update a specific Interconnect for an account's Magic setup. Use `?validate_only=true` as an optional query parameter to run validation only without persisting changes",
			"rel": "self",
			"href": "accounts/{#/definitions/account_identifier}/magic/cf_interconnects/{#/definitions/tunnel_identifier}?validate_only={#/definitions/validate_only}",
			"method": "PUT",
			"cfOwnership": "magic-on-ramps",
			"cfPlanAvailability": {
				"free": false,
				"pro": false,
				"business": false,
				"enterprise": true
			},
			"html_id": "magic-interconnects-update-interconnect",
			"uri": "accounts/:account_identifier/magic/cf_interconnects/:tunnel_identifier?validate_only=:validate_only",
			"curl": "curl -X PUT \"https://api.cloudflare.com/client/v4/accounts/01a7362d577a6c3019a474fd6f485823/magic/cf_interconnects/01a7362d577a6c3019a474fd6f485823?validate_only=true\" \\\n     -H \"X-Auth-Email: user@example.com\" \\\n     -H \"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41\" \\\n     -H \"Content-Type: application/json\" \\\n     --data '{\"mtu\":1476,\"interface_address\":\"192.0.2.0/31\",\"description\":\"Tunnel for Interconnect to ORD\",\"gre\":{\"cloudflare_endpoint\":\"203.0.113.1\",\"customer_endpoint\":\"203.0.113.1\",\"is_colo_cast\":true}}'",
			"parameters": {
				"_formatter": {
					"jsonMediaType": {}
				},
				"all_props": {
					"mtu": {
						"type": "integer",
						"example": "1476",
						"description": "Maximum Transmission Unit (MTU) in bytes for the Interconnect. Maximum value 1476 and minimum value 576",
						"default": 1476
					},
					"interface_address": {
						"type": "string",
						"example": "\"192.0.2.0/31\"",
						"description": "A 31-bit prefix (/31 in CIDR notation) supporting 2 hosts, one for each side of the tunnel. Select the subnet from the following private IP space: 10.0.0.0–10.255.255.255, 172.16.0.0–172.31.255.255, 192.168.0.0–192.168.255.255."
					},
					"description": {
						"type": "string",
						"example": "\"Tunnel for Interconnect to ORD\"",
						"description": "An optional description of the Interconnect"
					},
					"gre": {
						"type": "object",
						"example": "{\n  \"cloudflare_endpoint\": \"203.0.113.1\",\n  \"customer_endpoint\": \"203.0.113.1\",\n  \"is_colo_cast\": true\n}",
						"properties": {
							"cloudflare_endpoint": {
								"type": "string",
								"example": "\"203.0.113.1\"",
								"description": "The IP address assigned to the Cloudflare side of the GRE tunnel created as part of the Interconnect"
							},
							"customer_endpoint": {
								"type": "string",
								"example": "\"203.0.113.1\"",
								"description": "The IP address assigned to the Customer side of the GRE tunnel created as part of the Interconnect"
							},
							"is_colo_cast": {
								"type": "boolean",
								"example": "true",
								"description": "This flag is used to support multiple Interconnects to the same colo for a Customer",
								"default": true
							}
						},
						"description": "Configuration specific to GRE Interconnects"
					}
				},
				"required_props": [],
				"optional_props": [
					"mtu",
					"interface_address",
					"description",
					"gre"
				],
				"objects": [],
				"example": "{\n  \"mtu\": 1476,\n  \"interface_address\": \"192.0.2.0/31\",\n  \"description\": \"Tunnel for Interconnect to ORD\",\n  \"gre\": {\n    \"cloudflare_endpoint\": \"203.0.113.1\",\n    \"customer_endpoint\": \"203.0.113.1\",\n    \"is_colo_cast\": true\n  }\n}"
			},
			"response": "{\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"modified\": true,\n    \"modified_interconnect\": {\n      \"id\": \"c4a7362d577a6c3019a474fd6f485821\",\n      \"created_on\": \"2017-06-14T00:00:00Z\",\n      \"modified_on\": \"2017-06-14T05:20:00Z\",\n      \"name\": \"pni_ord\",\n      \"interface_address\": \"192.0.2.0/31\",\n      \"description\": \"Tunnel for Interconnect to ORD\",\n      \"health_check\": {\n        \"enabled\": true,\n        \"target\": \"203.0.113.1\",\n        \"type\": \"request\"\n      },\n      \"gre\": {\n        \"cloudflare_endpoint\": \"203.0.113.1\",\n        \"customer_endpoint\": \"203.0.113.1\",\n        \"is_colo_cast\": true\n      },\n      \"mtu\": 1476,\n      \"colo_name\": \"pni_ord\"\n    }\n  }\n}"
		},
		{
			"title": "Update Many Interconnects",
			"description": "Update many Interconnects for an account's Magic setup. Use `?validate_only=true` as an optional query parameter to run validation only without persisting changes",
			"rel": "self",
			"href": "accounts/{#/definitions/account_identifier}/magic/cf_interconnects?validate_only={#/definitions/validate_only}",
			"method": "PUT",
			"cfOwnership": "magic-on-ramps",
			"cfPlanAvailability": {
				"free": false,
				"pro": false,
				"business": false,
				"enterprise": true
			},
			"html_id": "magic-interconnects-update-many-interconnects",
			"uri": "accounts/:account_identifier/magic/cf_interconnects?validate_only=:validate_only",
			"curl": "curl -X PUT \"https://api.cloudflare.com/client/v4/accounts/01a7362d577a6c3019a474fd6f485823/magic/cf_interconnects?validate_only=true\" \\\n     -H \"X-Auth-Email: user@example.com\" \\\n     -H \"X-Auth-Key: c2547eb745079dac9320b638f5e225cf483cc5cfdda41\" \\\n     -H \"Content-Type: application/json\" \\\n     --data '{\"interconnects\":[{\"id\":\"01a7362d577a6c3019a474fd6f485823\",\"mtu\":1476,\"interface_address\":\"192.0.2.0/31\",\"description\":\"Tunnel for Interconnect to ORD\",\"gre\":{\"cloudflare_endpoint\":\"203.0.113.1\",\"customer_endpoint\":\"203.0.113.1\",\"is_colo_cast\":true}}]}'",
			"parameters": {
				"_formatter": {
					"jsonMediaType": {}
				},
				"all_props": {
					"interconnects": {
						"type": "array",
						"example": "[\n  {\n    \"id\": \"01a7362d577a6c3019a474fd6f485823\",\n    \"mtu\": 1476,\n    \"interface_address\": \"192.0.2.0/31\",\n    \"description\": \"Tunnel for Interconnect to ORD\",\n    \"gre\": {\n      \"cloudflare_endpoint\": \"203.0.113.1\",\n      \"customer_endpoint\": \"203.0.113.1\",\n      \"is_colo_cast\": true\n    }\n  }\n]",
						"items": {
							"allOf": [
								{
									"properties": {
										"id": {
											"$comment": "Must be present as a definition for URI Templating",
											"description": "Account identifier tag",
											"type": "string",
											"maxLength": 32,
											"readOnly": true,
											"example": "01a7362d577a6c3019a474fd6f485823"
										}
									}
								},
								{
									"type": "object",
									"properties": {
										"mtu": {
											"type": "integer",
											"description": "Maximum Transmission Unit (MTU) in bytes for the Interconnect. Maximum value 1476 and minimum value 576",
											"example": 1476,
											"default": 1476
										},
										"interface_address": {
											"type": "string",
											"description": "A 31-bit prefix (/31 in CIDR notation) supporting 2 hosts, one for each side of the tunnel. Select the subnet from the following private IP space: 10.0.0.0–10.255.255.255, 172.16.0.0–172.31.255.255, 192.168.0.0–192.168.255.255.",
											"example": "192.0.2.0/31"
										},
										"description": {
											"type": "string",
											"description": "An optional description of the Interconnect",
											"example": "Tunnel for Interconnect to ORD"
										},
										"gre": {
											"type": "object",
											"description": "Configuration specific to GRE Interconnects",
											"properties": {
												"cloudflare_endpoint": {
													"type": "string",
													"description": "The IP address assigned to the Cloudflare side of the GRE tunnel created as part of the Interconnect",
													"example": "203.0.113.1"
												},
												"customer_endpoint": {
													"type": "string",
													"description": "The IP address assigned to the Customer side of the GRE tunnel created as part of the Interconnect",
													"example": "203.0.113.1"
												},
												"is_colo_cast": {
													"type": "boolean",
													"description": "This flag is used to support multiple Interconnects to the same colo for a Customer",
													"default": true
												}
											}
										}
									}
								}
							]
						}
					}
				},
				"required_props": [
					"id"
				],
				"optional_props": [
					"interconnects"
				],
				"objects": [],
				"example": "{\n  \"interconnects\": [\n    {\n      \"id\": \"01a7362d577a6c3019a474fd6f485823\",\n      \"mtu\": 1476,\n      \"interface_address\": \"192.0.2.0/31\",\n      \"description\": \"Tunnel for Interconnect to ORD\",\n      \"gre\": {\n        \"cloudflare_endpoint\": \"203.0.113.1\",\n        \"customer_endpoint\": \"203.0.113.1\",\n        \"is_colo_cast\": true\n      }\n    }\n  ]\n}"
			},
			"response": "{\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"modified\": true,\n    \"modified_interconnects\": [\n      {\n        \"id\": \"c4a7362d577a6c3019a474fd6f485821\",\n        \"created_on\": \"2017-06-14T00:00:00Z\",\n        \"modified_on\": \"2017-06-14T05:20:00Z\",\n        \"name\": \"pni_ord\",\n        \"interface_address\": \"192.0.2.0/31\",\n        \"description\": \"Tunnel for Interconnect to ORD\",\n        \"health_check\": {\n          \"enabled\": true,\n          \"target\": \"203.0.113.1\",\n          \"type\": \"request\"\n        },\n        \"gre\": {\n          \"cloudflare_endpoint\": \"203.0.113.1\",\n          \"customer_endpoint\": \"203.0.113.1\",\n          \"is_colo_cast\": true\n        },\n        \"mtu\": 1476,\n        \"colo_name\": \"pni_ord\"\n      }\n    ]\n  }\n}"
		}
	],
	"cfLinkErrors": {},
	"html_id": "magic-interconnects",
	"object_definition": {
		"_formatter": {
			"jsonMediaType": {}
		},
		"all_props": {
			"id": {
				"type": "string",
				"example": "\"c4a7362d577a6c3019a474fd6f485821\"",
				"readOnly": true,
				"maxLength": 32,
				"description": "Tunnel identifier tag"
			},
			"created_on": {
				"type": "string",
				"example": "\"2017-06-14T00:00:00Z\"",
				"readOnly": true,
				"format": "date-time",
				"description": "When the tunnel was created"
			},
			"modified_on": {
				"type": "string",
				"example": "\"2017-06-14T05:20:00Z\"",
				"readOnly": true,
				"format": "date-time",
				"description": "When the tunnel was last modified"
			},
			"name": {
				"type": "string",
				"example": "\"pni_ord\"",
				"description": "Name for the Interconnect. It cannot share a name with other tunnels"
			},
			"interface_address": {
				"type": "string",
				"example": "\"192.0.2.0/31\"",
				"description": "A 31-bit prefix (/31 in CIDR notation) supporting 2 hosts, one for each side of the tunnel. Select the subnet from the following private IP space: 10.0.0.0–10.255.255.255, 172.16.0.0–172.31.255.255, 192.168.0.0–192.168.255.255."
			},
			"description": {
				"type": "string",
				"example": "\"Tunnel for Interconnect to ORD\"",
				"description": "An optional description of the Interconnect"
			},
			"health_check": {
				"type": "object",
				"example": "{\n  \"enabled\": true,\n  \"target\": \"203.0.113.1\",\n  \"type\": \"request\"\n}",
				"properties": {
					"enabled": {
						"type": "boolean",
						"example": "true",
						"description": "Flag to run healthchecks for this tunnel (defaults to true)",
						"default": true
					},
					"target": {
						"type": "string",
						"example": "\"203.0.113.1\"",
						"description": "Address to run healthchecks against"
					},
					"type": {
						"type": "string",
						"example": "\"request\"",
						"description": "Type of healthcheck to run (reply or request). Defaults to reply.",
						"default": "reply",
						"enum": [
							"reply",
							"request"
						]
					}
				}
			},
			"gre": {
				"type": "object",
				"example": "{\n  \"cloudflare_endpoint\": \"203.0.113.1\",\n  \"customer_endpoint\": \"203.0.113.1\",\n  \"is_colo_cast\": true\n}",
				"properties": {
					"cloudflare_endpoint": {
						"type": "string",
						"example": "\"203.0.113.1\"",
						"description": "The IP address assigned to the Cloudflare side of the GRE tunnel created as part of the Interconnect"
					},
					"customer_endpoint": {
						"type": "string",
						"example": "\"203.0.113.1\"",
						"description": "The IP address assigned to the Customer side of the GRE tunnel created as part of the Interconnect"
					},
					"is_colo_cast": {
						"type": "boolean",
						"example": "true",
						"description": "This flag is used to support multiple Interconnects to the same colo for a Customer",
						"default": true
					}
				},
				"description": "Configuration specific to GRE Interconnects"
			},
			"mtu": {
				"type": "integer",
				"example": "1476",
				"description": "Maximum Transmission Unit (MTU) in bytes for the Interconnect. Maximum value 1476 and minimum value 576",
				"default": 1476
			},
			"colo_name": {
				"type": "string",
				"example": "\"pni_ord\"",
				"description": "Name for the Interconnect. It cannot share a name with other tunnels"
			}
		},
		"required_props": [],
		"optional_props": [
			"id",
			"created_on",
			"modified_on",
			"name",
			"interface_address",
			"description",
			"health_check",
			"gre",
			"mtu",
			"colo_name"
		],
		"objects": [],
		"example": "{\n  \"id\": \"c4a7362d577a6c3019a474fd6f485821\",\n  \"created_on\": \"2017-06-14T00:00:00Z\",\n  \"modified_on\": \"2017-06-14T05:20:00Z\",\n  \"name\": \"pni_ord\",\n  \"interface_address\": \"192.0.2.0/31\",\n  \"description\": \"Tunnel for Interconnect to ORD\",\n  \"health_check\": {\n    \"enabled\": true,\n    \"target\": \"203.0.113.1\",\n    \"type\": \"request\"\n  },\n  \"gre\": {\n    \"cloudflare_endpoint\": \"203.0.113.1\",\n    \"customer_endpoint\": \"203.0.113.1\",\n    \"is_colo_cast\": true\n  },\n  \"mtu\": 1476,\n  \"colo_name\": \"pni_ord\"\n}",
		"title": "Magic Interconnects",
		"description": "Interconnects used with Cloudflare CNI"
	}
}