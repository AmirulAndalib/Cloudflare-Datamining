<div class="mb2 gray5">10 min read</div>
<div class="post-content lh-copy gray1">
	<p>I love building products that solve real problems for our customers. These days I don’t get to do so as much directly with our Engineering teams. Instead, about half my time is spent with customers listening to and learning from their security challenges, while the other half of my time is spent with other Cloudflare Product Managers (PMs) helping them solve these customer challenges as simply and elegantly as possible. While I miss the deeply technical engineering discussions, I am proud to have the opportunity to look back every year on all that we’ve shipped across our application security teams.</p>
	<p>Taking the time to reflect on what we’ve delivered also helps to reinforce my belief in the Cloudflare approach to shipping product: release early, stay close to customers for feedback, and iterate quickly to deliver incremental value. To borrow a term from the investment world, this approach brings the benefits of <a href="https://www.ellevest.com/magazine/investing/compounding-returns" target="_blank"><em>compounded </em>returns</a> to our customers: we put new products that solve real-world problems into their hands as quickly as possible, and then reinvest the proceeds of our shared learnings immediately back into the product.</p>
	<p>It is these sustained investments that allow us to release a flurry of small improvements over the course of a year, and be recognized by leading industry analyst firms for the capabilities we’ve accumulated and distributed to our customers. Today we’re excited to announce that Frost &amp; Sullivan has named Cloudflare the Innovation Leader in their <a href="https://www.cloudflare.com/lp/frost-radar-holistic-web" target="_blank">Frost Radar™: Global Holistic Web Protection Market Report</a>. Frost &amp; Sullivan’s view that this market “will gradually absorb the markets formed around legacy and point solutions” is consistent with <a href="https://www.sec.gov/Archives/edgar/data/1477333/000119312519222176/d735023ds1.htm" target="_blank">our view of the world</a>, and we’re leading the way in “the consolidation of standalone WAF, DDoS mitigation, and Bot Risk Management solutions” they believe is “poised to happen before 2025”.</p>
	<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2021/01/image4-10.png" class="kg-image" alt="Image © 2020 Frost &amp; Sullivan from Frost Radar™: Global Holistic Web Protection Market Report" loading="lazy">
		<figcaption>Image © 2020 Frost &amp; Sullivan from Frost Radar™: Global Holistic Web Protection Market Report</figcaption>
	</figure>
	<p>We are honored to receive this recognition, based on the analysis of 10 providers’ competitive strengths and opportunities as assessed by Frost &amp; Sullivan. The rest of this post explains some of the capabilities that we shipped in 2020 across our Web Application Firewall (WAF), Bot Management, and Distributed Denial-of-Service product lines—the scope of Frost &amp; Sullivan’s report. Get a copy of the Frost &amp; Sullivan Frost Radar report to see why Cloudflare was named the Innovation Leader <a href="https://www.cloudflare.com/lp/frost-radar-holistic-web" target="_blank">here</a>.</p>
	<h3 id="2020-web-security-themes-and-roundup">2020 Web Security Themes and Roundup</h3>
	<p>Before jumping into specific product and feature launches, I want to briefly explain how we think about building and delivering our web security capabilities. The most important “product” by far that’s been built at Cloudflare <a href="https://blog.cloudflare.com/welcome-to-birthday-week-2020">over the past 10 years</a> is the massive global network that moves bits securely around the world, as close to the speed of light as possible. Building our features atop this network allows us to reject the legacy tradeoff of performance <em>or</em> security. And equipping customers with the ability to <a href="https://blog.cloudflare.com/cloudflare-workers-serverless-week">program and extend the network with Cloudflare Workers</a> and <a href="https://blog.cloudflare.com/announcing-firewall-rules">Firewall Rules</a> allows us to focus on quickly delivering useful security primitives such as functions, operators, and ML-trained data—then later packaging them up in streamlined user interfaces.</p>
	<p>We talk internally about building up the “toolbox” of security controls so customers can express their desired security posture, and that’s how we think about many of the releases over the past year that are discussed below. We begin by providing the saw, hammer, and nails, and let expert builders construct whatever defenses they see fit. By watching how these tools are put to use and observing the results of billions of attempts to evade the erected defenses, we learn how to improve and package them together as a whole for those less inclined to build from components. Most recently we did this with <a href="https://blog.cloudflare.com/introducing-api-shield">API Shield</a>, providing a guided template to create “positive security” models within Firewall Rules using <a href="https://developers.cloudflare.com/firewall/cf-firewall-language/fields" target="_blank">existing primitives</a> plus new data structures for strong authentication such as Cloudflare-managed client SSL/TLS certificates. Each new tool added to the toolbox increases the value of the existing tools. Each new web request—good or bad—improves the models that our threat intelligence and Bot Management capabilities depend upon.</p>
	<h3 id="web-application-firewall-waf-usability-at-scale">Web application firewall (WAF) usability at scale<br></h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image3-6.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Last year we spoke with many customers about our plan to decouple configuration from the zone/domain model and allow rules to be set for arbitrary paths and groups of services across an account. In 4Q2020 we put this granular control in the hands of a few developers and some of our most sophisticated enterprise customers, and we’re currently collecting and incorporating feedback before defaulting the capabilities on for new customers.</p>
	<p>Rules are great, especially with increased flexibility, but without data structures and request enrichment at the edge (such as the Bot Management techniques described below) they cannot act on anything beyond static properties of the request. In 3Q2020 we <a href="https://blog.cloudflare.com/introducing-ip-lists">released our IP Lists capabilities</a> and customers have been steadily uploading their home-grown and third-party subscription lists. These lists can be referenced anywhere in a customer’s account as named variables and then combined with all other attributes of the request, even Bot Management scores, e.g., http.request.uri.path contains “/login” and (not ip.src in $pingdom_probes and cf.bot_management.score &lt; 30) is a Firewall Rule filter that blocks all bots except Pingdom from accessing the login endpoint.</p>
	<p>Requests that are blocked or challenged need to find their way as quickly as possible to our customers’ SOCs for triage, investigation and, occasionally, incident response, so we upgraded our edge-logging framework in 2Q2020 to <a href="https://blog.cloudflare.com/stream-firewall-events-directly-to-your-siem">push real time security-specific logs directly to customer SIEMs</a>. And in 4Q2020, we released the ability to encrypt sensitive payloads within these logs <a href="https://blog.cloudflare.com/encrypt-waf-payloads-hpke">using customer-provided encryption keys and novel encryption algorithms</a> termed “Hybrid Public Key Encryption” (HPKE), and a <a href="https://blog.cloudflare.com/introducing-the-cloudflare-data-localization-suite">data localization suite</a> to provide control over where our customers’ data is stored and protected.</p>
	<p>Built predominantly in 4Q2020 and currently being tested in the Firewall Rules engine is a brand new implementation of our Rate Limiting engine. By moving this matching and enforcement logic from a standalone tool to a component within a <a href="https://blog.cloudflare.com/how-we-made-firewall-rules">performant, memory-safe, expressive engine built in Rust</a>, we have increased the utility of existing functions. Additional examples of improving this library of capabilities include the work completed in 1Q2020 to <a href="https://developers.cloudflare.com/firewall/cf-firewall-language/functions#overview" target="_blank">add HMAC functions</a> and regex-based <a href="https://developers.cloudflare.com/firewall/cf-firewall-language/fields#http-header-fields" target="_blank">HTTP header</a> and <a href="https://developers.cloudflare.com/firewall/cf-firewall-language/fields#http-body-fields" target="_blank">body inspection</a> to the engine.</p>
	<h3 id="bots-and-machine-learning-ml-">Bots and machine learning (ML)</h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image2-3.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>In addition to making edge data sets accessible for request evaluation, we continued to invest heavily within our Bot Management team to provide actionable data so that our customers could decide what (if any) automated traffic they wanted to allow to interact with their applications. Our highest priority for Bot research and development has always been efficacy, and last year was no different. A significant portion of our engineering effort was dedicated to our detection engines — both updating and iterating on existing systems or creating entirely new detection engines from scratch.</p>
	<p>In 1Q2020 we completed a total rewrite of our Machine Learning engine, and are continually focused on improving the efficacy of our ML engines. To do this, we draw on one of our major competitive advantages: the massive amount of data flowing through Cloudflare’s network. The early 2020 upgrade to our ML model nearly doubled the number of features we use to evaluate and score requests. And to help customers better understand why requests are flagged as bots, we have recently complemented the bot likelihood score in our logs with attribution to the specific engine that generated the score.</p>
	<p>Also in 1Q2020, we upgraded our behavioral analysis engine to incorporate more features and increase overall accuracy. This engine conducts histogram-based outlier scoring and is now fully deployed to nearly all Bot Management zones.</p>
	<p>In 2Q2020, we developed a lightweight JavaScript element that further advanced our browser fingerprinting capabilities and aids in detection. Specifically, we now silently challenge browsers and detect if a browser is misrepresenting its User Agent. This technique will be incorporated into our ML models and combined with our heuristics engine for more accurate browser fingerprinting. This feature is entirely optional and can be enabled or disabled by customers through our UI and API. Customers with extremely performance sensitive zones or traffic types that are unsuitable for JavaScript (such as API or some mobile app traffic) can still be accurately scored by our Bot Management engine.</p>
	<p>In addition to detection, we also spent (and will continue to spend) engineering effort on mitigation. Our entire JavaScript and <a href="https://blog.cloudflare.com/moving-from-recaptcha-to-hcaptcha">CAPTCHA challenge</a> platform was rewritten in the last year and deployed to our customer zones in a staged fashion in the second half of 2020. Our new platform is faster and more robust at detecting automated systems attempting to solve the challenges. More importantly, this platform allows us to further invest in new challenge types and modes as we enter 2021.</p>
	<p>The biggest and most well received feature released in 2020 was our <a href="https://blog.cloudflare.com/introducing-bot-analytics">dedicated Bot Management analytics</a>, released in 3Q2020. We now present informative graphs that double as diagnostic tools. Customers have found that analytics are far more than interesting charts and statistics: in the case of Bot Management, analytics are essential to spotting and subsequently eliminating false positives.</p>
	<p>Last but definitely not least, we <a href="https://blog.cloudflare.com/deprecating-cfduid-cookie">announced the deprecation of the __cfduid cookie</a> in 4Q2020 which was used primarily to detect bots but caused confusion for some customers including questions about whether they needed to display a <a href="https://www.cloudflare.com/learning/privacy/what-are-cookies" target="_blank">cookie</a> banner because of what we do.</p>
	<p>To get a sense of the Bot Attack trends we saw in the first half of 2020, take a read through <a href="https://blog.cloudflare.com/bot-attack-trends-for-jan-jul-2020">this blog post</a>. And if you’re curious about how our ML models and heuristic engines work to keep your properties safe, this <a href="https://blog.cloudflare.com/cloudflare-bot-management-machine-learning-and-more">deep dive</a> by Alex Bocharov, Machine Learning Tech Lead on the Bots team, is an excellent guide.</p>
	<h3 id="api-and-iot-security-and-protection">API and IoT security and protection</h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image5-3.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>At the beginning of 4Q2020, we released a product called <a href="https://blog.cloudflare.com/introducing-api-shield">API Shield</a> that was purpose built to secure, protect, and accelerate API traffic — and will eventually provide much of the common functionality expected in traditional API Gateways. The UI for API Shield was built on top of Firewall Rules for maximum flexibility, and will serve as the jump-off point for configuring additional API security features we have planned this year.</p>
	<p>As part of API Shield, every customer now gets a fully managed, domain-scoped private CA generated for each of their zones, and we plan to continue working closely with the SSL/TLS team to expand CA management options based on feedback. Since the release, we’ve seen great adoption from in particular IoT companies focused on locking down their APIs using short-lived client certificates distributed out to devices. Customers can also now upload OpenAPI schemas to be matched against incoming requests from these devices, with bad requests being dropped at the edge rather than passed on to origin infrastructure.</p>
	<p>Another capability we released in 4Q2020 was <a href="https://blog.cloudflare.com/announcing-grpc">support for gRPC-based API traffic</a>. Since that release, customers have expressed significant interest in using Cloudflare as a secure API gateway between easy-to-use customer-facing JSON endpoints and internal-facing gRPC or GraphQL endpoints. Like most customer challenges at Cloudflare, early adopters are looking to solve these use cases initially with Cloudflare Workers, but we’re keeping an eye on whether there are aspects for which we’ll want to provide first-class feature support.</p>
	<h3 id="distributed-denial-of-service-ddos-protections-for-web-applications-and-apis">Distributed Denial-of-Service (DDoS) protections for web applications and APIs</h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image1-6.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>The application-layer security of a web application or API is of minimal importance if the service itself is not available due to a persistent DDoS attack at L3-L7. While mitigating such attacks has long been one of Cloudflare’s strengths, <a href="https://blog.cloudflare.com/beat-an-acoustics-inspired-ddos-attack">attack methodologies evolve</a> and we continued to invest heavily in 2020 to drop attacks more quickly, more efficiently, and more precisely; as a result, automatic mitigation techniques are applied immediately and most malicious traffic is blocked in less than 3 seconds.</p>
	<p>Early in 2020 we responded to a <a href="https://blog.cloudflare.com/rolling-with-the-punches-shifting-attack-tactics-dropping-packets-faster-cheaper-at-the-edge/#edge-analyzed-edge-enforced-mitigations">persistent increase in smaller, more localized attacks</a> by fine-tuning a system that can autonomously detect attacks on any server in any datacenter. In the month prior to us first posting about this tool, it mitigated almost 300,000 network-layer attacks, roughly 55 times greater than the tool we previously relied upon. This new tool, dubbed “dosd”, leverages Linux’s eXpress Data Path (XDP) and allows our system to quickly — and automatically — deploy rules eBPF rules that run on each packet received. We further enhanced our edge mitigation capabilities in 3Q2020 by developing and releasing a protection layer that can <a href="https://blog.cloudflare.com/announcing-flowtrackd">operate even in environments where we only see one side of the TCP flow</a>. These network layer protections help protect our customers who leverage both <a href="https://www.cloudflare.com/magic-transit" target="_blank">Magic Transit</a> to protect their IP ranges and our WAF to protect their applications and APIs.</p>
	<p>To document and provide visibility into these attacks, we released a GraphQL-backed interface in 1Q2020 called <a href="https://blog.cloudflare.com/announcing-network-analytics">Network Analytics</a>. Network Analytics extends the visibility of attacks against our customers’ services from L7 to L3, and includes detailed attack logs containing data such as top source and destination IPs and ports, ASNs, data centers, countries, bit rates, protocol and TCP flag distributions. A litany of improvements made to this graphical rendering engine over the course of 2020 have benefitted all analytics tools using the same front-end. In 4Q2020, <a href="https://blog.cloudflare.com/announcing-spectrum-ddos-analytics-and-ddos-insights-trends">Network Analytics was extended</a> to provide traffic and attack insights into Cloudflare Spectrum-protected applications, which are terminated at L4 (TCP/UDP).</p>
	<p>Towards the end of 4Q2020, we <a href="https://blog.cloudflare.com/announcing-ddos-alerts">released real-time DDoS attack alerting</a> capable of sending emails or pages via PagerDuty to alert security teams of ongoing attacks and mitigations. This capability was released just in time to assist with the onslaught of <a href="https://blog.cloudflare.com/ransom-ddos-attacks-target-a-fortune-global-500-company">ransomware attacks that Cloudflare helped detect and defend against</a>. For additional context on unique attacks we fought off in 2020, consider reading about <a href="https://blog.cloudflare.com/beat-an-acoustics-inspired-ddos-attack">an acoustics inspired attack</a>, a <a href="https://blog.cloudflare.com/mitigating-a-754-million-pps-ddos-attack-automatically">754 million packet-per-second</a>, or a roundup of attacks from <a href="https://blog.cloudflare.com/network-layer-ddos-attack-trends-for-q1-2020">1Q2020</a>, <a href="https://blog.cloudflare.com/network-layer-ddos-attack-trends-for-q2-2020">2Q2020</a>, or <a href="https://blog.cloudflare.com/network-layer-ddos-attack-trends-for-q3-2020">3Q2020</a>.</p>
	<h3 id="wrapping-up-and-looking-towards-2021">Wrapping up and looking towards 2021</h3>
	<p>2020 was a tough year around the world. Throughout what has also been, and continues to be, a period of heightened cyberattacks and breaches, we feel proud that our teams were able to release a steady flow of new and improved capabilities across several critical security product areas reviewed by Frost &amp; Sullivan. These releases culminated in far greater protections for customers at the end of the year than the beginning, and a recognition for our sustained efforts.</p>
	<p>We are pleased to have been named the Innovation Leader in their Frost Radar™: Global Holistic Web Protection Market Report, which “addresses organizations' demand for consolidated, single pane of glass solutions, which not only reduce the security gaps of legacy products but also provide simplified management capabilities”.</p>
	<p>As we look towards 2021 we plan to continue releasing early and often, listening to feedback from our customers, and delivering incremental value along the way. If you have ideas on what additional capabilities you’d like to use to protect your applications and networks, we’d love to hear them below in the comments.</p>
</div>