<div class="post-content lh-copy gray1">
	<!--kg-card-begin: markdown-->
	<p><small>This post is also available in <a href="https://blog.cloudflare.com/zh-cn/gateway-managed-service-provider-zh-cn/">简体中文</a>, <a href="https://blog.cloudflare.com/zh-tw/gateway-managed-service-provider-zh-tw/">繁體中文</a>, <a href="https://blog.cloudflare.com/ja-jp/gateway-managed-service-provider-ja-jp/">日本語</a>, <a href="https://blog.cloudflare.com/de-de/gateway-managed-service-provider-de-de/">Deutsch</a>, <a href="https://blog.cloudflare.com/fr-fr/gateway-managed-service-provider-fr-fr/">Français</a>, <a href="https://blog.cloudflare.com/ko-kr/gateway-managed-service-provider-ko-kr/">한국어</a> and <a href="https://blog.cloudflare.com/es-es/gateway-managed-service-provider-es-es/">Español</a>.</small></p>
	<!--kg-card-end: markdown-->
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/01/image4-18.png" class="kg-image" alt="Cloudflare Zero Trust for managed service providers" loading="lazy"></figure>
	<p>As part of CIO week, we are announcing a new integration between our DNS Filtering solution and our Partner Tenant platform that supports parent-child policy requirements for our partner ecosystem and our direct customers. Our <a href="https://developers.cloudflare.com/tenant/?ref=blog.cloudflare.com" target="_blank">Tenant platform</a>, launched in <a href="https://blog.cloudflare.com/announcing-the-new-cloudflare-partner-platform/">2019</a>, has allowed Cloudflare partners to easily integrate Cloudflare solutions across millions of customer accounts. <a href="https://www.cloudflare.com/products/zero-trust/gateway/?ref=blog.cloudflare.com" target="_blank">Cloudflare Gateway</a>, introduced in <a href="https://blog.cloudflare.com/protect-your-team-with-cloudflare-gateway/">2020</a>, has grown from protecting personal networks to <a href="https://www.cloudflare.com/case-studies/fortune-500-telecommunications-provider/?ref=blog.cloudflare.com" target="_blank">Fortune 500</a> enterprises in just a few short years. With the integration between these two solutions, we can now help Managed Service Providers (MSPs) support large, multi-tenant deployments with parent-child policy configurations and account-level policy overrides that seamlessly protect global employees from threats online.</p>
	<h2 id="why-work-with-managed-service-providers">Why work with Managed Service Providers?</h2>
	<p>Managed Service Providers (MSPs) are a critical part of the toolkit of many CIOs. In the age of disruptive technology, hybrid work, and shifting business models, outsourcing IT and security operations can be a fundamental decision that drives strategic goals and ensures business success across organizations of all sizes. An MSP is a third-party company that remotely manages a customer's information technology (IT) infrastructure and end-user systems. MSPs promise deep technical knowledge, threat insights, and tenured expertise across a variety of security solutions to protect from ransomware, malware, and other online threats. The decision to partner with an MSP can allow internal teams to focus on more strategic initiatives while providing access to easily deployable, competitively priced IT and security solutions. Cloudflare has been making it easier for our customers to work with MSPs to <a href="https://www.cloudflare.com/learning/insights-roadmap-zerotrust/?ref=blog.cloudflare.com" target="_blank">deploy and manage a complete Zero Trust transformation</a>.</p>
	<p>One decision criteria for selecting an appropriate MSP is the provider’s ability to keep the partner’s best technology, security and cost interests in mind. An MSP should be leveraging innovative and lower cost security solutions whenever possible to drive the best value to your organization. Out of date technology can quickly incur higher implementation and maintenance costs compared to more modern and purpose-built solutions given the broader attack surface brought about by hybrid work. In a developing space like <a href="https://www.cloudflare.com/learning/security/glossary/what-is-zero-trust/?ref=blog.cloudflare.com" target="_blank">Zero Trust</a>, an effective MSP should be able to support vendors that can be deployed globally, managed at scale, and effectively enforce global corporate policy across business units. Cloudflare has worked with many MSPs, some of which we will highlight today, that implement and manage Zero Trust security policies cost-effectively at scale.</p>
	<p>The MSPs we are highlighting have started to deploy Cloudflare Gateway DNS Filtering to complement their portfolio as part of a Zero Trust <a href="https://www.cloudflare.com/learning/access-management/what-is-access-control/?ref=blog.cloudflare.com" target="_blank">access control strategy</a>. DNS filtering provides quick time-to-value for organizations seeking protection from ransomware, malware, phishing, and other Internet threats. DNS filtering is the process of using the <a href="https://www.cloudflare.com/learning/dns/what-is-dns/?ref=blog.cloudflare.com" target="_blank">Domain Name System</a> to block malicious websites and prevent users from reaching harmful or inappropriate content on the Internet. This ensures that company data remains secure and allows companies to have control over what their employees can access on company-managed networks and devices.</p>
	<p>Filtering policies are often set by the Organization with consultation from the service provider. In some cases, these policies also need to be managed independently at the account or business unit level by either the MSP or the customer. This means it is very common for a parent-child relationship to be required to balance the deployment of corporate level rules from customization across devices, office locations, or business units. This structure is vital for MSPs that are deploying access policies across millions of devices and accounts.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2023/01/image2-29.png" class="kg-image" alt="" loading="lazy"></figure>
	<h2 id="better-together-zero-trust-tenant-platform">Better together: Zero Trust ❤️ Tenant Platform</h2>
	<p>To make it easier for MSPs to manage millions of accounts with appropriate access controls and policy management, we integrated Cloudflare Gateway with our existing Tenant platform with a new feature that provides parent-child configurations. This allows MSP partners to create and manage accounts, set global corporate security policies, and allow appropriate management or overrides at the individual business unit or team level.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2023/01/image1-39.png" class="kg-image" alt="" loading="lazy" title="Cloudflare Tenant System Diagram"></figure>
	<p>The Tenant platform allows MSPs ability to create millions of end customer accounts at their discretion to support their specific onboarding and configurations. This also ensures proper separation of ownership between customers and allows end customers to access the Cloudflare dashboard directly, if required.</p>
	<p>Each account created is a separate container of subscribed resources (zero trust policies, zones, workers, etc.) for each of the MSPs end customers. Customer administrators can be invited to each account as necessary for self-service management, while the MSP retains control of the capabilities enabled for each account.</p>
	<p>With MSPs now able to set up and manage accounts at scale, we’ll explore how the integration with Cloudflare Gateway lets them manage scaled DNS filtering policies for these accounts.</p>
	<h2 id="tiered-zero-trust-accounts">Tiered Zero Trust accounts</h2>
	<p>With individual accounts for each MSP end customer in place, MSPs can either fully manage the deployment or provide a self-service portal backed by Cloudflare configuration APIs. Supporting a configuration portal also means you would never want your end users to block access to this domain, so the MSP can add a hidden policy to all of its end customer accounts when they onboard which would be a simple one time API call. Although issues start to arise anytime they need to push an update to said policy, this now means they have to update the policy once for each and every MSP end customer and for some MSPs that can mean over 1 million API calls.</p>
	<p>To help turn this into a single API call, we introduced the concept of a top level account aka parent account. This parent account allows MSPs to set global policies which are applied to all DNS queries before the subsequent MSP end customer policies aka child account policies. This structure helps ensure MSPs can set their own global policies for all of their child accounts while each child account can further filter their DNS queries to meet their needs without impacting any other child account.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2023/01/image3-25.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>This extends further than just policies as well, each child account can create their own custom block page, <a href="https://blog.cloudflare.com/bring-your-certificates-cloudflare-gateway/">upload their own certificates</a> to display these block pages, and set up their own DNS endpoints (IPv4, IPv6, DoH, and DoT) via Gateway locations. Also, because these are the exact same as non-MSP Gateway accounts, there aren’t any lower limits when it comes to the default limits on the number policies, locations, or lists per parent or child account.</p>
	<h2 id="managed-service-provider-integrations">Managed Service Provider integrations</h2>
	<p>To help bring this to life, below are real-world examples of how Cloudflare customers are using this new managed service provider feature to help protect their organizations.</p>
	<h3 id="us-federal-government">US federal government</h3>
	<p>The US federal government requires many of the same services to support a protective DNS service for their 100+ civilian agencies, and they often outsource many of their IT and security operations to service providers like Accenture Federal Services (AFS).</p>
	<p><a href="https://blog.cloudflare.com/helping-keep-governments-safe-and-secure/">In 2022</a>, Cloudflare and AFS were selected by Cybersecurity and Infrastructure Security Agency (CISA) with the Department of Homeland Security (DHS) to develop a joint solution to help the federal government defend itself against cyberattacks. The solution consists of Cloudflare’s protective DNS resolver which will filter DNS queries from offices and locations of the federal government and stream events directly to Accenture’s platform to provide unified administration and log storage.</p>
	<p>Accenture Federal Services is providing a central interface to each department that allows them to adjust their DNS filtering policies. This interface works with Cloudflare’s Tenant platform and Gateway client APIs to provide a seamless customer experience for government employees managing their security policies using our new parent-child configurations. CISA, as the parent account, can set their own global policies, while allowing agencies, child accounts, to bypass select global policies, and set their own default block pages.</p>
	<p>In conjunction with our parent-child structure we provided a few improvements to our DNS location matching and filtering defaults. Currently, all Gateway accounts can purchase a dedicated IPv4 resolver IP address(es) and these are great for situations where a customer doesn’t have a static source IP address or wants their own IPv4 address to host the solution.</p>
	<p>For CISA, they wanted not only a dedicated IPv4 address but to assign that same address from their parent account to their child accounts. This would allow them to have their own default IPv4 addresses for all agencies easing the burden of onboarding. Next they also want the ability to fail closed, which means if a DNS query did not match any location (which must have a source IPv4 address/network configured) it would be dropped. This allows CISA to ensure only configured IPv4 networks had access to their protective services. Lasty, we didn’t have to address this with IPv6, DoH, and DoT DNS endpoints as those are custom with each and every DNS location created.</p>
	<h3 id="malwarebytes">Malwarebytes</h3>
	<p><a href="https://www.malwarebytes.com/?ref=blog.cloudflare.com" target="_blank">Malwarebytes</a>, a global leader in real-time cyber protection, recently integrated with Cloudflare to provide a DNS filtering module within their Nebula platform. The Nebula platform is a cloud-hosted security operations solution that manages control of any malware or ransomware incident—from alert to fix. This new module allows Malwarebytes customers to filter on content categories and add policy rules for groups of devices. A key need was the ability to easily integrate with their current device client, provide individual account management, and provide room for future expansion across additional Zero Trust services like <a href="https://www.cloudflare.com/products/zero-trust/browser-isolation/?ref=blog.cloudflare.com" target="_blank">Cloudflare Browser Isolation</a>.</p>
	<p>Cloudflare was able to provide a comprehensive solution that was easily integrated into the Malwarebytes platform. This included using <a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/agentless/dns/dns-over-https/?ref=blog.cloudflare.com" target="_blank">DNS-over-HTTP (DoH)</a> to segment users across unique locations and adding a <a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/agentless/dns/dns-over-https/?ref=blog.cloudflare.com#filter-doh-requests-by-user" target="_blank">unique token per device</a> to properly track the device ID and apply the correct DNS policies. And lastly, the integration was completed using the Cloudflare <a href="https://developers.cloudflare.com/tenant/?ref=blog.cloudflare.com" target="_blank">Tenant API</a> which allowed seamless integration with their current workflow and platform. This combination of our Zero Trust services and Tenant platform let Malwarebytes quickly go to market for new segments within their business.</p>
	<p>“It’s challenging for organizations today to manage access to malicious sites and keep their end users safe and productive. Malwarebytes’ DNS Filtering module extends our cloud-based security platform to web protection. After evaluating other Zero Trust providers it was clear to us that Cloudflare could offer the comprehensive solution IT and security teams need while providing lightning fast performance at the same time. Now, IT and security teams can block whole categories of sites, take advantage of an extensive database of pre-defined scores on known, suspicious web domains, protect core web-based applications and manage specific site restrictions, removing the headache from overseeing site access.” - <a href="https://press.malwarebytes.com/2022/06/08/malwarebytes-continues-to-expand-endpoint-protection-platform-with-dns-filtering-module%EF%BF%BC/?ref=blog.cloudflare.com" target="_blank">Mark Strassman, Chief Product Officer, Malwarebytes</a></p>
	<h3 id="large-global-isp">Large global ISP</h3>
	<p>We’ve been working with a large global ISP recently to support DNS filtering which is a part of a larger security solution offered for families for over one million accounts in just the first year! The ISP leverages our Tenant and Gateway APIs to seamlessly integrate into their current platform and user experience with minimal engineering effort. We look forward to sharing more detail around this implementation in the coming months.</p>
	<h2 id="what-s-next">What’s next</h2>
	<p>As the previous stories highlight, MSPs play a key role in securing today’s diverse ecosystem of organizations, of all sizes and maturities. Companies of all sizes find themselves squaring off against the same complex threat landscape and are challenged to maintain a proper security posture and manage risk with constrained resources and limited security tooling. MSPs provide the additional resources, expertise and advanced security tooling that can help reduce the risk profile for these companies. Cloudflare is committed to making it easier for MSPs to be effective in delivering Zero Trust solutions to their customers.</p>
	<p>Given the importance of MSPs for our customers and the continued growth of our partner network, we plan to launch quite a few features in 2023 and beyond that better support our MSP partners. First, a key item on our roadmap is the development of a refreshed tenant management dashboard for improved account and user management. Second, we want to extend our multi-tenant configurations across our entire Zero Trust solution set to make it easier for MSPs to implement secure hybrid work solutions at scale.</p>
	<p>Lastly, to better support hierarchical access, we plan to expand the user roles and access model currently available to MSP partners to allow their teams to more easily support and manage their various accounts. Cloudflare has always prided itself on its ease of use, and our goal is to make Cloudflare the Zero Trust platform of choice for service and security providers globally.</p>
	<p>Throughout CIO week, we’ve touched on how our partners are helping modernize the security posture for their customers to align with a world transformed by hybrid work and hybrid multi-cloud infrastructures. Ultimately, the power of Cloudflare Zero Trust comes from its existence as a composable, unified platform that draws strength from its combination of products, features, and our partner network.</p>
	<ul>
		<li>If you’d like to learn more about becoming an MSP partner, you can read more here: <a href="https://www.cloudflare.com/partners/services?ref=blog.cloudflare.com" target="_blank">https://www.cloudflare.com/partners/services</a></li>
		<li>If you’d like to learn more about improving your security with DNS Filtering and Zero Trust, or would like to get started today, test the platform yourself with 50 free seats by <a href="https://dash.cloudflare.com/sign-up/teams?ref=blog.cloudflare.com" target="_blank">signing up here</a>.</li>
	</ul>
</div>