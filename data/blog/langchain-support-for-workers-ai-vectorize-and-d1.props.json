{
	"post": {
		"id": "65b95f1cd5ea6b000a6a75fa",
		"uuid": "6d22c6e6-4380-4b2d-b5aa-f1fdeadb7d6b",
		"title": "LangChain Support for Workers AI, Vectorize and D1",
		"slug": "langchain-support-for-workers-ai-vectorize-and-d1",
		"html": "<figure class=\"kg-card kg-image-card\"><img src=\"https://lh7-us.googleusercontent.com/X2uuTU5jqOf4kskV9IUy6-EFJtW1QL7NCTeaIK1Ezs29fHv5rxii32xZ_eAu-9IHMQQhzevrxEeUR4Zq5_C0Y_HmIciI-GZaj-RbEnRI4vnshmYAV6jymeq1KXQrqbrbvP7YIhjDfFpkusAeZZe2-HE\" class=\"kg-image\" alt=\"LangChain Support for Workers AI, Vectorize and D1\" loading=\"lazy\" width=\"624\" height=\"351\"></figure><p>During Developer Week, we announced<a href=\"http://blog.cloudflare.com/langchain-and-cloudflare/\"> LangChain support for Cloudflare Workers</a>. Langchain is an open-source framework that allows developers to create powerful AI workflows by combining different models, providers, and plugins using a declarative API â€” and it dovetails perfectly with Workers for creating full stack, AI-powered applications.</p><p>Since then, weâ€™ve been working with the LangChain team on deeper integration of many tools across Cloudflareâ€™s developer platform and are excited to share what weâ€™ve been up to.</p><p>Today, weâ€™re announcing five new key integrations with LangChain:</p><ol><li><a href=\"https://js.langchain.com/docs/integrations/chat/cloudflare_workersai\">Workers AI Chat Models</a>: This allows you to use <a href=\"https://developers.cloudflare.com/workers-ai/models/text-generation/\">Workers AI text generation</a> to power your chat model within your LangChain.js application.</li><li><a href=\"https://js.langchain.com/docs/integrations/llms/cloudflare_workersai\">Workers AI Instruct Models</a>: This allows you to use Workers AI models fine-tuned for instruct use-cases, such as Mistral and CodeLlama, inside your Langchain.js application.</li><li><a href=\"https://js.langchain.com/docs/integrations/text_embedding/cloudflare_ai\">Text Embeddings Models</a>: If youâ€™re working with text embeddings, you can now use <a href=\"https://developers.cloudflare.com/workers-ai/models/text-embeddings/\">Workers AI text embeddings</a> with LangChain.js.</li><li><a href=\"https://js.langchain.com/docs/integrations/vectorstores/cloudflare_vectorize\">Vectorize Vector Store</a>: When working with a Vector database and LangChain.js, you now have the option of using <a href=\"https://developers.cloudflare.com/vectorize/\">Vectorize</a>, Cloudflareâ€™s powerful vector database.</li><li><a href=\"https://js.langchain.com/docs/integrations/chat_memory/cloudflare_d1\">Cloudflare D1-Backed Chat Memory</a>: For longer-term persistence across chat sessions, you can swap out LangChainâ€™s default in-memory chatHistory that backs chat memory classes like BufferMemory for a <a href=\"https://developers.cloudflare.com/d1/\">Cloudflare D1 instance</a>.</li></ol><p>With the addition of these five Cloudflare AI tools into LangChain, developers have powerful new primitives to integrate into new and existing AI applications. With LangChainâ€™s expressive tooling for mixing and matching AI tools and models, you can use Vectorize, Cloudflare AIâ€™s text embedding and generation models, and Cloudflare D1 to build a fully-featured AI application in just a few lines of code.</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">This is a full persistent chat app powered by an LLM in 10 lines of codeâ€“deployed to <a href=\"https://twitter.com/Cloudflare?ref_src=twsrc%5Etfw\">@Cloudflare</a> Workers, powered by <a href=\"https://twitter.com/LangChainAI?ref_src=twsrc%5Etfw\">@LangChainAI</a> and <a href=\"https://twitter.com/Cloudflare?ref_src=twsrc%5Etfw\">@Cloudflare</a> D1.<br><br>You can even pass in a unique sessionId and have completely user/session-specific conversations ðŸ¤¯ <a href=\"https://t.co/le9vbMZ7Mc\">https://t.co/le9vbMZ7Mc</a> <a href=\"https://t.co/jngG3Z7NQ6\">pic.twitter.com/jngG3Z7NQ6</a></p>&mdash; Kristian Freeman (@kristianf_) <a href=\"https://twitter.com/kristianf_/status/1704592544099631243?ref_src=twsrc%5Etfw\">September 20, 2023</a></blockquote>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n</figure><h3 id=\"getting-started-with-a-cloudflare-langchain-nuxt-multi-source-chatbot-template\">Getting started with a Cloudflare + LangChain + Nuxt Multi-source Chatbot template</h3><p>You can get started by using LangChainâ€™s Cloudflare Chatbot template: <a href=\"https://github.com/langchain-ai/langchain-cloudflare-nuxt-template\">https://github.com/langchain-ai/langchain-cloudflare-nuxt-template</a></p><!--kg-card-begin: markdown--><div style=\"position: relative; padding-top: 56.84210526315789%;\">\n  <iframe\n    src=\"https://customer-eq7kiuol0tk9chox.cloudflarestream.com/a510d87181af47fede2255c74da89d7f/iframe?muted=true&preload=true&loop=true&autoplay=true&poster=https%3A%2F%2Fcustomer-eq7kiuol0tk9chox.cloudflarestream.com%2Fa510d87181af47fede2255c74da89d7f%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D%26height%3D600\"\n    style=\"border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;\"\n    allow=\"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\"\n    allowfullscreen=\"true\"\n  ></iframe>\n</div>\n<p></p><!--kg-card-end: markdown--><p>This application shows how various pieces of Cloudflare Workers AI fit together and expands on the concept of <a href=\"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\">retrieval augmented generation (RAG)</a> to build a conversational retrieval system that can route between multiple data sources, choosing the one more relevant based on the incoming question. This method helps cut down on distraction from off-topic documents getting pulled in by a vector storeâ€™s similarity search, which could occur if only a single database were used.</p><p>The base version runs entirely on the Cloudflare Workers AI stack with the Llama 2-7B model. It uses:</p><ul><li>A chat variant of Llama 2-7B run on Cloudflare Workers AI</li><li>A Cloudflare Workers AI embeddings model</li><li>Two different Cloudflare Vectorize DBs (though you could add more!)</li><li>Cloudflare Pages for hosting</li><li>LangChain.js for orchestration</li><li>Nuxt + Vue for the frontend</li></ul><p>The two default data sources are <a href=\"https://www.cloudflare.com/resources/assets/slt3lc6tev37/3HWObubm6fybC0FWUdFYAJ/5d5e3b0a4d9c5a7619984ed6076f01fe/Cloudflare_for_Campaigns_Security_Guide.pdf\">a PDF detailing some of Cloudflare's features</a> and <a href=\"https://lilianweng.github.io/posts/2023-06-23-agent/\">a blog post by Lilian Weng at OpenAI</a> that talks about autonomous agents.</p><p>The bot will classify incoming questions as being about Cloudflare, AI, or neither, and draw on the corresponding data source for more targeted results. Everything is fully customizable - you can change the content of the ingested data, the models used, and all prompts!</p><p>And if you have access to the <a href=\"https://smith.langchain.com/\">LangSmith</a> beta, the app also has tracing set up so that you can easily <a href=\"https://smith.langchain.com/public/24807f4a-4335-497e-bfbf-3a1de019b22e/r\">see and debug each step</a> in the application.</p><h3 id=\"we-can%E2%80%99t-wait-to-see-what-you-build\">We canâ€™t wait to see what you build</h3><p>We can't wait to see what you all build with LangChain and Cloudflare. Come tell us about it in <a href=\"https://discord.cloudflare.com/\">discord</a> or on our <a href=\"https://community.cloudflare.com/\">community forums</a>.</p>",
		"comment_id": "65b95f1cd5ea6b000a6a75fa",
		"feature_image": "http://blog.cloudflare.com/content/images/2024/01/LangChain-Support-for-Workers-AI--Vectorize-and-D1.png",
		"featured": false,
		"visibility": "public",
		"created_at": "2024-01-30T20:42:04.000+00:00",
		"updated_at": "2024-02-15T18:32:32.000+00:00",
		"published_at": "2024-01-31T14:00:12.000+00:00",
		"custom_excerpt": "During Developer Week, we announced LangChain support for Cloudflare Workers. Since then, weâ€™ve been working with the LangChain team on deeper integration of many tools across Cloudflareâ€™s developer platform and are excited to share what weâ€™ve been up to",
		"codeinjection_head": null,
		"codeinjection_foot": null,
		"custom_template": null,
		"canonical_url": null,
		"tags": [
			{
				"id": "65b9044ed5ea6b000a6a7427",
				"name": "#BLOG-2202",
				"slug": "hash-blog-2202",
				"description": null,
				"feature_image": null,
				"visibility": "internal",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/404/"
			},
			{
				"id": "65b96a28d5ea6b000a6a7626",
				"name": "LangChain",
				"slug": "langchain",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/langchain/"
			},
			{
				"id": "5d16450341acde0011a95253",
				"name": "Cloudflare Workers",
				"slug": "workers",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/workers/"
			},
			{
				"id": "6411ae504543a1000a7b3802",
				"name": "AI",
				"slug": "ai",
				"description": "Artificial Intelligence",
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/ai/"
			},
			{
				"id": "632af1846266f8000bd3e23c",
				"name": "D1",
				"slug": "d1",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/d1/"
			},
			{
				"id": "64a3e2b834124c000b00b717",
				"name": "Developer Platform",
				"slug": "developer-platform",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/developer-platform/"
			},
			{
				"id": "65c0d31851a92e000adeae66",
				"name": "#front-page",
				"slug": "hash-front-page",
				"description": null,
				"feature_image": null,
				"visibility": "internal",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/404/"
			},
			{
				"id": "5d16450341acde0011a95204",
				"name": "Developers",
				"slug": "developers",
				"description": null,
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Developers-1.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Developers",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Developers'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/developers/"
			}
		],
		"authors": [
			{
				"id": "643f2fe42e6788000a880632",
				"name": "Ricky Robinett",
				"slug": "ricky",
				"profile_image": "http://blog.cloudflare.com/content/images/2023/04/headshot.jpeg",
				"cover_image": null,
				"bio": null,
				"website": null,
				"location": null,
				"facebook": null,
				"twitter": "@rickyrobinett",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/ricky/"
			},
			{
				"id": "5d1644b141acde0011a95020",
				"name": "Kristian Freeman",
				"slug": "kristian",
				"profile_image": "http://blog.cloudflare.com/content/images/2019/05/2fGb07-c_400x400.jpg",
				"cover_image": "http://blog.cloudflare.com/content/images/2019/05/general@2x-13.png",
				"bio": "Manager, Developer Advocacy team at Cloudflare. We help developers build amazing apps on Cloudflare, with tools like Workers, Pages, and more!",
				"website": "https://www.signalnerve.com",
				"location": "Austin, TX",
				"facebook": null,
				"twitter": "@kristianf_",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/kristian/"
			},
			{
				"id": "65b90a76d5ea6b000a6a744a",
				"name": "Jacob Lee (Guest author)",
				"slug": "jacob-lee-guest-author",
				"profile_image": "http://blog.cloudflare.com/content/images/2024/01/Jacob-Lee-langchain.png",
				"cover_image": null,
				"bio": "Founding Software Engineer at LangChain",
				"website": "https://www.langchain.com/",
				"location": null,
				"facebook": null,
				"twitter": null,
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/jacob-lee-guest-author/"
			}
		],
		"primary_author": {
			"id": "643f2fe42e6788000a880632",
			"name": "Ricky Robinett",
			"slug": "ricky",
			"profile_image": "http://blog.cloudflare.com/content/images/2023/04/headshot.jpeg",
			"cover_image": null,
			"bio": null,
			"website": null,
			"location": null,
			"facebook": null,
			"twitter": "@rickyrobinett",
			"meta_title": null,
			"meta_description": null,
			"url": "http://blog.cloudflare.com/author/ricky/"
		},
		"primary_tag": null,
		"url": "http://blog.cloudflare.com/langchain-support-for-workers-ai-vectorize-and-d1/",
		"excerpt": "During Developer Week, we announced LangChain support for Cloudflare Workers. Since then, weâ€™ve been working with the LangChain team on deeper integration of many tools across Cloudflareâ€™s developer platform and are excited to share what weâ€™ve been up to",
		"reading_time": 3,
		"access": true,
		"comments": false,
		"og_image": "http://blog.cloudflare.com/content/images/2024/01/BLOG-2022-2.png",
		"og_title": null,
		"og_description": null,
		"twitter_image": "http://blog.cloudflare.com/content/images/2024/01/BLOG-2022-1.png",
		"twitter_title": null,
		"twitter_description": null,
		"meta_title": null,
		"meta_description": null,
		"email_subject": null,
		"frontmatter": null,
		"feature_image_alt": "LangChain Support for Workers AI, Vectorize and D1.",
		"feature_image_caption": null
	},
	"locale": "en-us"
}