<div class="mb2 gray5">14 min read</div>
<div class="post-content lh-copy gray1"><!--kg-card-begin: markdown-->
	<p><em><small>This post is also available in <a href="https://blog.cloudflare.com/zh-cn/how-cloudflare-helps-next-generation-markets-zh-cn">ç®€ä½“ä¸­æ–‡</a> and <a href="https://blog.cloudflare.com/zh-tw/how-cloudflare-helps-next-generation-markets-zh-tw">ç¹é«”ä¸­æ–‡</a>.</small></em></p>
	<!--kg-card-end: markdown-->
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image12-1.png" class="kg-image" alt="How Cloudflare helps next-generation markets" loading="lazy"></figure>
	<p>One of the many magical things about the Internet is that it doesnâ€™t have a country. The Internet doesnâ€™t go through customs, it doesnâ€™t need a visa, and it doesnâ€™t speak any one language. To reach the worldâ€™s greatest information innovation, a user â€“ no matter what country theyâ€™re in â€“ only needs a device with a connection. The Internet will take care of the rest. At Cloudflare, part of our role is to make sure every person on the planet with an Internet connection has a good experience, whether theyâ€™re in a next-generation market or a current-gen market. In this blog weâ€™re going to talk about how we define next-generation markets, how we help people in these markets get faster access to the websites and applications they use on a daily basis, and how we make it easy for developers to deploy services geographically close to users in next-generation markets.</p>
	<h2 id="what-are-next-generation-markets">What are next-generation markets?</h2>
	<p>Next-generation markets are the future of the Internet. Not only are there billions of people who will use the Internet more, as affordable access increases, but the trends in application development already point towards the mobile-first, sometimes mobile-only, way of providing content and services. The Internet may look different (more desktop-centric) in the so-called Global North or countries the <a href="https://www.imf.org/external/datamapper/FMEconGroup.xlsx">IMF defines as Advanced Economies</a>, but those differences will shrink as application developers build products for all markets, not just current-generation markets. We call these markets next-generation markets as opposed to using the IMF or World Bank definitions because we want to classify markets by how users interact with the Internet as opposed to how their governments interact with the global economy. Compared to North America and Europe, where users access the Internet through a combination of desktop computers and mobile devices, users in next-generation markets access the Internet via <a href="https://blog.cloudflare.com/where-mobile-traffic-more-and-less-popular">mobile devices</a> 50% of the time or more, sometimes even as high as 80%. Some examples of these markets are China, India, Indonesia, Thailand, and countries in Africa and the Middle East.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image4.jpg" class="kg-image" alt="" loading="lazy"></figure>
	<p>Most of this traffic is also using HTTP/S, which is the industry standard for secure, performant, reliable communication on the Internet. HTTP/S is used broadly across the Internet about 88% of the time. Countries and regions that have a higher percentage of mobile users will also have a higher percentage of traffic over HTTP/S, as shown in the table below. For example, countries in Africa and APJC use HTTP/S more than any other protocol, beating all other regions. By contrast, in North America, more traffic uses older protocols like SMTP, FTP, or RTMP. </p><!--kg-card-begin: html-->
	<table width="100%">
		<thead>
			<tr>
				<th>Region</th>
				<th>% of traffic that is HTTP/S</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Africa (AFR)</td>
				<td>92%</td>
			</tr>
			<tr>
				<td>Asia Pacific, Japan, and China (APJC)</td>
				<td>92%</td>
			</tr>
			<tr>
				<td>Western North America (WNAM)</td>
				<td>90%</td>
			</tr>
			<tr>
				<td>Eastern North America (ENAM)</td>
				<td>89%</td>
			</tr>
			<tr>
				<td>Oceania (OC)</td>
				<td>89%</td>
			</tr>
			<tr>
				<td>Eastern Europe (EEUR)</td>
				<td>88%</td>
			</tr>
			<tr>
				<td>Middle East (ME)</td>
				<td>85%</td>
			</tr>
			<tr>
				<td>Western Europe (WEUR)</td>
				<td>83%</td>
			</tr>
			<tr>
				<td>South America (SAM)</td>
				<td>64%</td>
			</tr>
		</tbody>
	</table><!--kg-card-end: html-->
	<p>The prevalence of mobile Internet connections is also represented by the types of applications developers are building in these regions: local models of popular applications designed specifically for local users in mind. For example, <a href="https://www.cloudflare.com/case-studies/carousell">ecommerce companies like Carousell</a> and <a href="https://www.cloudflare.com/case-studies/how-bookmyshow-uses-cloudflare-to-mitigate-massive-ddos-attacks">ticketing companies like BookMyShow</a> rely on mobile and app-based users for most of their business that is unique to the region theyâ€™re based in. Getting more broad, apps like Instagram and TikTok famously do not have web or desktop-based applications, and they encourage users to be mobile-only. These markets are next-generation because most of their users are using mobile devices and applications like Carousell, which are designed for a mobile, performant Internet.</p>
	<p>In these markets there are two groups who have similar concerns but are different enough that we need to address them separately: users, and the application developers who build the apps for users. They both want one thing: to be fast. But being fast manifests itself in slightly different ways for users versus application developers. Letâ€™s talk about each group and how Cloudflare helps solve their problems.</p>
	<h2 id="next-generation-users">Next-generation users</h2>
	<p>Users in these markets care about observed experience: they want real-time interaction with their applications. This is no different from what users in other markets expect from the Internet, but achieving this is much harder over mobile networks, which tend to have higher latency, loss, and lower bandwidth.</p>
	<p>Another challenge in next-generation markets is, roughly speaking, how geographically dispersed Internet connectivity is. Imagine you are sending a message to someone on the other side of a park, but you have to play telephone: the only way you can send the message is by telling someone next to you, and they tell it to the person next to them, and so on and so forth until the message reaches the other side of the park. That may look a little something like this:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image10.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>If youâ€™ve ever played Telephone, you know that this is optimistic: even when someone is right next to you, itâ€™s unlikely that theyâ€™ll be able to get all the message youâ€™re trying to send. But letâ€™s say that the optimistic case is real: in this above scenario, youâ€™re able to transmit the message between people end-to-end across the park. Now letâ€™s say you take half of those people away, meaning that everyone whoâ€™s sending the message needs to shout twice as far. Thatâ€™s when things can start to get a little more garbled:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image1-38.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>In this case, the receiver of the message didnâ€™t hear the message properly the first time, and asked for the sender to yell it again. This process, called retransmission, reduces the amount of data that can be sent at once over the Internet. Retransmission rates depend on the cellular density of wireless networks, the light signal of fiber optic cables, and on the broader Internet, the number of hops between the end user and the website or receiver of the connection.</p>
	<p>Retransmission rates are impacted by something called packet loss, when some packets donâ€™t make it to the receiver end due to things like poor signal transmission, or errors on devices in the path between sender and receiver. When packet loss occurs, protocols on the Internet like the <a href="https://www.cloudflare.com/learning/ddos/glossary/tcp-ip">Transmission Control Protocol (TCP) </a>will reduce the amount of data that can be transmitted over the connection. The amount of data that can be sent at one time is called the congestion window, and the protocol will shrink the congestion window to help preserve the connection until TCP is sure that the connection wonâ€™t drop packets again. This process of shrinking the congestion window is called backoff, and the congestion window will shrink exponentially when packet loss is first detected, and then will increase linearly over time. This means that connections and networks with high retransmission rates can seriously impact how users interact with websites and applications on the Internet.</p>
	<h2 id="the-edge-partner-program-gets-us-closer-to-users">The Edge Partner Program gets us closer to users</h2>
	<p>Since most users in next-generation markets are mobile, getting closer to users is paramount for a fast experience. Mobile devices tend to be slower because interference with the radio waves can often add additional instability to the Internet connection, which can lead to poor performance. In next generation markets, there could be added challenges from issues like power consumption: if a power grid canâ€™t support large radio towers, smaller ones with a smaller range are required, which can further add instability, increase retransmission, and add latency.</p>
	<p>However, in addition to challenges in the local network, thereâ€™s another challenge with interconnecting these networks to the rest of the Internet. Networks in next-generation markets may not be able to reach as many peering points as larger networks and may need to optimize their peering by going into Internet Exchanges that have denser connectivity with more networks, even if theyâ€™re farther away. For example, places like Frankfurt, London, and Singapore are especially useful for interconnecting a large amount of networks in a few Internet Exchanges in regions like the Middle East, Africa, and Asia respectively.</p>
	<p>The downside for end-users is that in order to connect to the Internet and the sites they care about, networks in these markets have to go a long way to get to the rest of the Internet. For content that is cacheable, meaning it doesnâ€™t change often, sending requests for data (and the response) across oceans and continents is a poor use of Internet capacity. Worse, it leads to problems like congestion, retransmission, and packet loss, which in turn cause poor performance.</p>
	<p>One area where we see latency directly impact Internet performance is in TLS, or Transport Layer Security. TLS ensures that an end-user interaction with an application is private. When TLS is established, it performs a three-way handshake that requires the end user to initiate a connection, the server to respond, and the end-user to acknowledge the response before any data can be sent. The farther away an end-user is from a website or CDN that performs this handshake, the longer it will take, and the worse performance will be:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image11.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Getting close to users often improves not just end-user performance, but the basic stability of an Internet experience on the network. Cloudflare helps solve this through our Edge Partner Program (EPP), which allows ISPs to integrate their networks physically and locally with Cloudflare, bringing us as close as possible to their users. When we embed a Cloudflare node in an ISP, we shorten the physical distance between end-users and Cloudflare, and by extension, the amount of time end-usersâ€™ data requests spend on the backbone of the Internet. Over the past four years, 80% of our 107 new cities have been in next-generation markets to help improve our cached and dynamic performance.</p>
	<p>Another additional benefit of having the content and services delivered close to end users: we can use our network intelligence to route traffic out of your last mile network and where it needs to go, helping improve the user experience out to the rest of the Internet as well. On average, <a href="https://www.cloudflare.com/products/argo-smart-routing">Argo Smart Routing</a> helps improve dynamic and uncached content performance by over 30%, which is especially valuable if the content users need to fetch is far away from their devices.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image13-1.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Now that weâ€™ve talked about why the Edge Partner Program is important and how it can theoretically help users, letâ€™s talk about one set of those deployments in Saudi Arabia to show you how it actually helps users.</p>
	<h3 id="edge-partner-program-in-saudi-arabia">Edge Partner Program in Saudi Arabia</h3>
	<p>A great example of a place that can benefit greatly from the Edge Partner Program is Saudi Arabia, a country whose closest peering to Cloudflare was previously in Frankfurt. As we mentioned above, for many countries in the Middle East, Frankfurt is where these networks choose to peer with other networks despite Frankfurt being over 5,300 km away from Riyadh.</p>
	<p>But by landing Cloudflare network hardware in the mobile network Mobily, we were able to improve median RTT by over 50% for their users. Before our deployment, end users on Mobily had a median RTT of 131ms via Frankfurt. Once we added three sites in Dammam, Riyadh, and Jeddah on this network, Mobily users saw a huge decrease in latency, to the point where the <em>median</em> RTT (131ms) before these deployments now became around the 85th percentile afterwards. Before, one out of every two requests took longer than 131ms, while afterward almost every request (85% of them) took less than that time. So users in Saudi Arabia get a faster path to the sites and services they care about through their ISP and Cloudflare. Everyone wins.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image9-1.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Staying local also helps reduce retransmission and the amount of data that has to be sent over these networks. Consider two data centers: one of our largest data centers in Los Angeles, California, and one of those new data centers in Jeddah, Saudi Arabia. Los Angeles takes traffic from all over the world: from places like China, Indonesia, Australia, as well as locally in the Los Angeles area. Take a look at the average retransmission rate for connections coming into Los Angeles from all over the world:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image6-2.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>The average rate is quite high for Los Angeles, mostly due to users from all places like China, Indonesia, Taiwan, South Korea, and Japan coming to Los Angeles for their websites. But if you take a look at Jeddah, youâ€™ll see a different story:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image5-5.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Users in Jeddah have a much lower, more constant retransmission rate because users on Mobily are terminating their connections closer to their devices. By being embedded in Mobilyâ€™s network, we decrease the number of hops that are needed and also make the hops that travel over less reliable paths shorter. Initial requests are more likely to succeed the first time and donâ€™t need multiple tries to succeed.</p>
	<h2 id="warp-in-next-generation-markets">WARP in next-generation markets</h2>
	<p>Cloudflare WARP is a great privacy-preserving tool for users in any market to help ensure a privacy-first, performant path to the Internet. While users around the world can use WARP, users in next-generation markets are ahead of the curve when it comes to WARP adoption. Here are the total year-to-date WARP downloads from the Apple App Store:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image7-5.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Weâ€™ve recently made changes to <a href="https://blog.cloudflare.com/geoexit-improving-warp-user-experience-larger-network">add WARP support to more Edge Partner locations</a>, which provides a faster, more private experience to these locations. Now even more WARP users can see better performance in more locations.</p>
	<p>WARP pairs well with the Cloudflare network to ensure a fast, private Internet experience. In a growing number of networks in next-generation markets, WARP users will connect to Cloudflare in the same location as their ISP before going out to the rest of the Internet. If the websites they are trying to connect to are protected by Cloudflare, then they get a fast path to the websites they care about through Cloudflare. If not, then the users can still get sent out through Cloudflare to the websites they need while preserving their privacy throughout the connection.</p>
	<h2 id="next-generation-developers">Next-generation developers</h2>
	<p>Letâ€™s say youâ€™re an app developer in Muscat, Oman, trying to make a new shopping app specific to your market. To compete with other existing apps, you not only need a differentiator, but you need an in-app performance experience that is on par with your competitors while also being able to deliver your service and make money. Global shopping apps offer a real-time browsing experience that your regional app also needs to meet, or beat. If outside competitors have a faster shopping app than you, it doesnâ€™t really matter if your app is â€œthe Amazon of Omanâ€ if actual Amazon is faster in the country.</p>
	<p>But in next-generation markets, performance is often a differentiator between their applications and incumbent applications -- often because incumbent apps tend to not perform as well in these markets. This is often because incumbent applications will host using cloud providers that may not offer services in-region. For example, users in the APJC region may often see their traffic get sent to Hong Kong, Singapore, or even Los Angeles because that is the closest cloud datacenter to them. So when youâ€™re making â€œthe Amazon of Indonesiaâ€ and you need your app to be faster than Amazonâ€™s in Indonesia, having your application be as local as possible to your users will help realize your appâ€™s appeal: a specialized, high-performance experience for Indonesian users.</p>
	<p>Itâ€™s worth noting that many cloud locations do offer local options for developers: if youâ€™re in Oman, there is a local cloud datacenter to you where you can host your service. But most startup and smaller businesses built in next-generation markets will opt to host their app in larger, farther away locations to optimize for cost.</p>
	<p>For example, localizing in the Middle East can be very costly compared to farther away options. Developers in the Middle East may be able to save 30% or more on their monthly data transfer costs simply by moving to Frankfurt; a region that is farther away from their users but is cheaper for them to serve out of. Application developers are constantly trying to balance cost with user experience, and may make some tradeoffs for user experience that allow them to optimize costs in the short term. So even though Cloudflare-protected developers are taking advantage of the local peering from the Edge Partner Program, developers in Oman may end up sending their users to Frankfurt anyways because thatâ€™s where they chose to host their services to save costs. In many cases, this is a tradeoff developers in these markets have to make: making your service slightly less performant to enable it to run more cheaply.</p>
	<h2 id="cloudflare-workers-in-country">Cloudflare Workers in country</h2>
	<p>Luckily for these developers, Cloudflareâ€™s developer platform allows application developers to build a distributed application that runs right where their users are, so they donâ€™t have to choose between performance and cost savings. Taking the Saudi Arabia case, users on Mobily now get their traffic terminated locally in Jeddah. This is okay from an end-to-end perspective because it means that Cloudflare gets to find the fastest path through the Internet using technologies like Argo Smart Routing which will help them save 30% on their Time to First Byte if their users have to go out of the country. But what if users didnâ€™t ever have to leave Jeddah at all?</p>
	<p>By moving applications to Cloudflare, you can push more and more of your applications to these data centers in next-generation markets, ensuring that users get a better experience in-country. For example, letâ€™s consider the <a href="https://blog.cloudflare.com/network-performance-update-developer-week">same comparison data</a> we used to evaluate ourselves versus Lambda@Edge during our Developer Week performance tests. The purpose of this comparison is to show how far your users have to travel if youâ€™re hosting application compute on Cloudflare versus on AWS. When you compare us versus Lambda@Edge, we have a significant advantage for P95 TCP Connection time in next-generation markets. Â&nbsp;This chart and table below show that in Africa and Asia Cloudflare Workers is about 3x as fast as Lambda@Edge from AWS:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image2-33.png" class="kg-image" alt="" loading="lazy"></figure><!--kg-card-begin: html-->
	<table width="100%">
		<thead>
			<tr>
				<th></th>
				<th>P95 Connect (ms)<br>Africa</th>
				<th>Asia</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Lambda JS</td>
				<td>358</td>
				<td>330</td>
			</tr>
			<tr>
				<td>Cloudflare JS</td>
				<td>104</td>
				<td>111</td>
			</tr>
		</tbody>
	</table>
	<center><small>95th percentile TCP connect time (ms)</small></center>
	<br><!--kg-card-end: html-->
	<p>This means that operations and functions that get built into Cloudflare get executed closer to the user, ensuring better end-to-end performance. The Lambda@Edge scenarios are bad enough on their own, but Â&nbsp;consider that not everything can be done in Lambda@Edge and may need to reach AWS instances that may sit even farther away than the AWS edge. Cloudflareâ€™s supercloud looks especially attractive because we allow you to build everything you need in an application entirely local to end-users. This helps ensure next-generation markets see the same performance as the rest of the world for the applications they care about.</p>
	<h2 id="making-everyone-faster-everywhere">Making everyone faster everywhere</h2>
	<p>Cloudflare helps users in next-generation markets get connected to the Internet faster, get connected to the Internet more privately, and helps their applications get closer to where they are. Through initiatives like our Edge Partner Program, we can help bring applications closer to users in next-generation markets, and through our powerful developer platform, we can ensure that applications built for these markets have world-class performance.</p>
	<p>If youâ€™re an application developer, and you havenâ€™t yet tried out our powerful developer platform and all it can do, <a href="https://workers.cloudflare.com">try it</a> today!</p>
	<p>If youâ€™re a network operator, and you want to have Cloudflare in your network to help bring a next-level experience to your users, check out our <a href="https://www.cloudflare.com/partners/peering-portal">Edge Partner Program</a> and letâ€™s get connected.</p>
	<p>Users in next-generation markets are the future of the Internet: they are how we expect most people on the Internet to act in the future. Cloudflare is uniquely positioned to ensure that all of these users and developers can have the Internet experience they expect.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image8-3.png" class="kg-image" alt="" loading="lazy"></figure>
</div>