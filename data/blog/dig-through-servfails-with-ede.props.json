{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "1",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Stanley Chiang",
				"slug": "stanley",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/P77tWMms1ownVLhmW2dup/9c13281738d728d7116b1797b64646ba/stanley.jpg",
				"location": null,
				"website": null,
				"twitter": "@stanleyxchiang",
				"facebook": null
			},
			{
				"name": "Marek Vavruša",
				"slug": "marek",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/2A9TMN35YPxzIkF2bTl6cb/ae76d4143d6a459c09500ba7b3c28572/marek.png",
				"location": null,
				"website": null,
				"twitter": null,
				"facebook": null
			},
			{
				"name": "Anbang Wen",
				"slug": "anbang",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/1UnHNut5bS2QrDbBCSJKjI/80e56b7fe7223a71bdb55d47528852c1/anbang.jpg",
				"location": null,
				"website": null,
				"twitter": null,
				"facebook": null
			}
		],
		"excerpt": "Now we’re happy to announce we will return more error code types and include additional helpful information to further improve your debugging experience.",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/4zYfgiMz5SToXZ5RoAmebe/4a5e0bba4ff787f3a53d24c0e62be143/dig-through-servfails-with-ede.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/73AmzJ5MxgfAYCg4mKf0cZ/9a11cabcc6f7fe5c4cb338bf8f819fb7/download-2.png\" alt=\"Dig through SERVFAILs with EDE\" class=\"kg-image\" width=\"1800\" height=\"1013\" loading=\"lazy\"/>\n            \n            </figure><p>It can be frustrating to get errors (SERVFAIL response codes) returned from your DNS queries. It can be even more frustrating if you don’t get enough information to understand why the error is occurring or what to do next. That’s why back in 2020, we <a href=\"/unwrap-the-servfail/\">launched support</a> for Extended DNS Error (EDE) Codes to 1.1.1.1.</p><p>As a quick refresher, EDE codes are a <a href=\"https://www.rfc-editor.org/rfc/rfc8914.html\">proposed</a> IETF standard enabled by the Extension Mechanisms for DNS (EDNS) spec. The codes return extra information about DNS or DNSSEC issues without touching the RCODE so that debugging is easier.</p><p>Now we’re happy to announce we will return more error code types and include additional helpful information to further improve your debugging experience. Let’s run through some examples of how these error codes can help you better understand the issues you may face.</p><p>To try for yourself, you’ll need to run the dig or kdig command in the terminal. For dig, please ensure you have <a href=\"http://ftp.swin.edu.au/isc/bind/9.11.20/RELEASE-NOTES-bind-9.11.20.html\">v9.11.20</a> or above. If you are on macOS 12.1, by default you only have dig 9.10.6. <a href=\"https://formulae.brew.sh/formula/bind\">Install</a> an updated version of BIND to fix that.</p><p>Let’s start with the output of an example dig command without EDE support.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">% dig @1.1.1.1 dnssec-failed.org +noedns\n\n; &lt;&lt;&gt;&gt; DiG 9.18.0 &lt;&lt;&gt;&gt; @1.1.1.1 dnssec-failed.org +noedns\n; (1 server found)\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: SERVFAIL, id: 8054\n;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;dnssec-failed.org.\t\tIN\tA\n\n;; Query time: 23 msec\n;; SERVER: 1.1.1.1#53(1.1.1.1) (UDP)\n;; WHEN: Thu Mar 17 10:12:57 PDT 2022\n;; MSG SIZE  rcvd: 35</pre></code>\n            <p>In the output above, we tried to do DNSSEC validation on <code>dnssec-failed.org</code>. It returns a <code>SERVFAIL</code>, but we don’t have context as to why.</p><p>Now let’s try that again with 1.1.1.1’s EDE support.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">% dig @1.1.1.1 dnssec-failed.org +dnssec\n\n; &lt;&lt;&gt;&gt; DiG 9.18.0 &lt;&lt;&gt;&gt; @1.1.1.1 dnssec-failed.org +dnssec\n; (1 server found)\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: SERVFAIL, id: 34492\n;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags: do; udp: 1232\n; EDE: 9 (DNSKEY Missing): (no SEP matching the DS found for dnssec-failed.org.)\n;; QUESTION SECTION:\n;dnssec-failed.org.\t\tIN\tA\n\n;; Query time: 15 msec\n;; SERVER: 1.1.1.1#53(1.1.1.1) (UDP)\n;; WHEN: Fri Mar 04 12:53:45 PST 2022\n;; MSG SIZE  rcvd: 103</pre></code>\n            <p>We can see there is still a <code>SERVFAIL</code>. However, this time there is also an EDE Code 9 which stands for “DNSKey Missing”. Accompanying that, we also have additional information saying “no SEP matching the DS found” for <code>dnssec-failed.org</code>. That’s better!</p><p>Another nifty feature is that we will return multiple errors when appropriate, so you can debug each one separately. In the example below, we returned a <code>SERVFAIL</code> with three different error codes: “Unsupported DNSKEY Algorithm”, “No Reachable Authority”, and “Network Error”.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">dig @1.1.1.1 [domain] +dnssec\n\n; &lt;&lt;&gt;&gt; DiG 9.18.0 &lt;&lt;&gt;&gt; @1.1.1.1 [domain] +dnssec\n; (1 server found)\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: SERVFAIL, id: 55957\n;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags: do; udp: 1232\n; EDE: 1 (Unsupported DNSKEY Algorithm): (no supported DNSKEY algorithm for [domain].)\n; EDE: 22 (No Reachable Authority): (at delegation [domain].)\n; EDE: 23 (Network Error): (135.181.58.79:53 rcode=REFUSED for [domain] A)\n;; QUESTION SECTION:\n;[domain].\t\tIN\tA\n\n;; Query time: 1197 msec\n;; SERVER: 1.1.1.1#53(1.1.1.1) (UDP)\n;; WHEN: Wed Mar 02 13:41:30 PST 2022\n;; MSG SIZE  rcvd: 202</pre></code>\n            <p>Here’s a list of the additional codes we now support:</p><p>Error Code Number</p><p>Error Code Name</p><p>1</p><p>Unsupported DNSKEY Algorithm</p><p>2</p><p>Unsupported DS Digest Type</p><p>5</p><p>DNSSEC Indeterminate</p><p>7</p><p>Signature Expired</p><p>8</p><p>Signature Not Yet Valid</p><p>9</p><p>DNSKEY Missing</p><p>10</p><p>RRSIGs Missing</p><p>11</p><p>No Zone Key Bit Set</p><p>12</p><p>NSEC Missing</p><p>We have documented all the error codes we currently support with additional information you may find helpful. Refer to our <a href=\"https://developers.cloudflare.com/1.1.1.1/infrastructure/extended-dns-error-codes/\">dev docs</a> for more information.</p>",
		"id": "1XKZPR2pJUZRG5bcY6CAqU",
		"localeList": {
			"name": "Dig through SERVFAILs with EDE Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Now we’re happy to announce we will return more error code types and include additional helpful information to further improve your debugging experience.",
		"metadata": {
			"title": "Dig through SERVFAILs with EDE",
			"description": "Now we’re happy to announce we will return more error code types and include additional helpful information to further improve your debugging experience.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/4oZ5rzAGghqMekbhAZUKXn/67fb39a1d2025db5cbcc022ba325eb40/dig-through-servfails-with-ede-b65EcG.png"
		},
		"primary_author": {},
		"published_at": "2022-05-25T13:59:18.000+01:00",
		"slug": "dig-through-servfails-with-ede",
		"tags": [
			{
				"id": "2FQK880QI5lKEUCjVHBber",
				"name": "1.1.1.1",
				"slug": "1-1-1-1"
			},
			{
				"id": "5fZHv2k9HnJ7phOPmYexHw",
				"name": "DNS",
				"slug": "dns"
			},
			{
				"id": "2erOhyZHpwsORouNTuWZfJ",
				"name": "Resolver",
				"slug": "resolver"
			}
		],
		"title": "Dig through SERVFAILs with EDE",
		"updated_at": "2024-08-27T01:30:08.911Z",
		"url": "https://blog.cloudflare.com/dig-through-servfails-with-ede"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}