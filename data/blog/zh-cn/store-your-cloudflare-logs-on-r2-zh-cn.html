<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/12/unnamed-16.png" class="kg-image"></figure>
	<p>好消息！客户很快就能将 Cloudflare 日志存储在 Cloudflare R2 上了。通过将您的日志存储在 Cloudflare 上，CIO 和安全团队将能整合基础设施，并简化工作、节省成本和提高安全性。</p>
	<p>Cloudflare 保护您的应用程序免受恶意流量威胁，加快连接，并阻止恶意行为者进入您的网络。我们的产品所生成的日志可帮助客户回答各种问题，例如：</p>
	<ul>
		<li>为什么请求被我设置的防火墙规则所阻止？</li>
		<li>为什么我的用户在使用Spectrum的应用程序中看到断开连接的情况？</li>
		<li>为什么我看到 Cloudflare Gateway 对特定应用程序的请求激增？</li>
	</ul>
	<p>在R2上进行存储扩充了我们现有的日志记录产品套件。客户一直要求我们提供一个经济实惠的解决方案，以便在任意期限内存储我们任何产品的日志。在 R2 上存储应运而生。</p>
	<h3 id="-">告别传统日志管理</h3>
	<p>让我们将时光倒回 21 世纪初。当时，大多组织运行自己管理的基础设施：网络设备、防火墙、服务器和所有相关软件。每家公司都不得不管理来自 IT 堆栈中数百个来源的日志。由于需要专门的存储来保存无穷无尽的日志，也就需要专业团队来构建 ETL 管道并使数据可供操作。</p>
	<p>快进到 2010 年代。组织正在过渡到使用托管服务来实现 IT 功能。由于这一转变，客户从所有服务收集日志的方式也随之改变。使用托管服务后，大部分日志记录工作不再需要客户处理。</p>
	<p>现在的挑战是：收集来自一系列托管服务的日志，而这些托管服务是各有特色的。日志发送延迟不一，格式各异，一些详细有余，一些则过于简略。为了获得对其 IT 基础设施的集中视图，企业需要构建或购买 SIEM 解决方案。</p>
	<figure class="kg-card kg-image-card kg-width-wide kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2021/12/unnamed--1--10.png" class="kg-image" alt="Logging changes over the years">
		<figcaption>多年来日志记录的变化</figcaption>
	</figure>
	<p>Cloudflare 取代了这些托管服务。一旦使用了 Cloudflare，客户就能非常简单轻松地获得对所有流量的可见性。我们的很多产品都构建了 Analytics（分析），例如 CDN、Firewall、Magic Transit 和 Spectrum，既能查看总体趋势，也能通过数据切片分段来深入挖掘模式。</p>
	<p>Analytics 是在汇总层面查看数据的绝佳方法，但我们知道，原始日志对客户也非常重要，因此我们构建了一套日志记录产品。</p>
	<h3 id="--1">今天的日志记录</h3>
	<p>在 <a href="https://blog.cloudflare.com/instant-logs/">Speed Week</a> 期间，我们发布了 Instant Logs，在流量到达域的同时向客户显示。Instant Logs 非常适用于实时调试和鉴别分类用例。监控您的流量，进行配置更改并即时查看其影响。对于需要追溯检查日志的情况，可使用我们的 Logpush 产品。</p>
	<p>我们构建了一个出色的日志记录管道，可在一分钟内从我们位于 250+ 城市的数据中心获取数据，并通过 Logpush 提供给客户。如果您的组织已有从堆栈汇总数据到统一位置的做法，我们支持通过 Logpush 将日志推送到各种云存储或 SIEM 目的地。我们还与主流 SIEM 平台建立了合作关系，以我们客户能理解的方式呈现 Cloudflare 数据。</p>
	<p>最后但依然很重要的一个产品是 Logpull。通过 Logpull，客户能使用我们我们的 REST API 访问 HTTP 请求日志。客户喜欢 Logpull 是因为它配置简单，客户不用考虑将日志存储于第三方，并能随时提取长达 7 天的日志记录。</p>
	<h3 id="-cloudflare-">为什么使用 Cloudflare 存储？</h3>
	<p>在日志方面，客户的四大诉求是：</p>
	<ul>
		<li>我的预算紧张，需要低成本的日志存储。</li>
		<li>它们的设置和维护不应太费力。</li>
		<li>我需要的日志可以长时间存储。</li>
		<li>我要在 Cloudflare 上访问任何产品的日志。</li>
	</ul>
	<p>对我们的很多客户而言，Cloudflare 是最重要的数据来源之一，所产生的数据也超过 IT 堆栈中的其他应用。R2 的成本远低于其他云提供商，因此我们的客户无需通过抽样或完全放弃产品的日志来降低成本。</p>
	<p>一如 Logpull 的简单易用，R2 日志存储也将是快捷易用的。一键即可完成配置，我们就会存储您的日志，您无需考虑任何配置细节。保留设置完全由客户控制，以满足业务的安全和合规要求。您也将我们现有任何产品记录的日志存储到 R2。（我们的产品线还在不断扩大。）</p>
	<h3 id="--2">日志存储：我们才刚刚起步。</h3>
	<p>通过在 Cloudflare 上存储日志，我们正在构建允许客户在 Cloudflare 上直接执行日志分析和取证的功能部件。不管是进行调查、响应支持请求还是处理事件，使用 Analytics 功能获得总览，同时检查日志以确定根本原因，双管齐下实现强大功能。</p>
	<p>如果您希望在 Cloudflare 日志存储功能上线时收到通知，请填写这个<a href="https://forms.gle/x24NKoMF8rJBJPpU7" target="_blank">表格</a>提交申请。</p>
	<p>我们正在招揽有才华的工程师，应对处理海量数据的挑战。如果您希望加入，欢迎<a href="https://boards.greenhouse.io/cloudflare/jobs/2103918?gh_jid=2103918" target="_blank">在此申请</a>。</p>
</div>