<div class="mb2 gray5">8 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/06/Rectangle-7926-1.png" class="kg-image" alt="INP. Get ready for the new Core Web Vital" loading="lazy" width="1801" height="1013"></figure>
	<h2 id="inp-will-replace-fid-in-the-core-web-vitals">INP will replace FID in the Core Web Vitals</h2>
	<p>On May 10, 2023, Google <a href="https://developers.google.com/search/blog/2023/05/introducing-inp?hl=en">announced</a> that INP will replace FID in the Core Web Vitals in March 2024. The Core Web Vitals play a role in the Google Search algorithm. So website owners who care about <a href="https://www.cloudflare.com/learning/performance/how-website-speed-boosts-seo">Search Engine Optimization (SEO)</a> should prepare for the change. Otherwise their search ranking might suffer.</p>
	<p>This post will first explain what FID, INP and the <a href="https://www.cloudflare.com/learning/performance/what-are-core-web-vitals">Core Web Vitals</a> are. Then it will show how FID and INP relate to each other across a large range of Cloudflare sites. (Spoiler alert - If a site has ‘Good’ scoring FID, it might not have ‘Good’ scoring INP). Then it will discuss how to prepare for this change and how Cloudflare can help.</p>
	<h2 id="a-few-definitions">A few definitions</h2>
	<p>In order to make sense of the upcoming change, here are some definitions that will set the scene.</p>
	<h3 id="core-web-vitals">Core Web Vitals</h3>
	<p>Measuring user-centric web performance is challenging. To face this challenge, Google developed a series of metrics called the <a href="https://web.dev/vitals">Web Vitals</a>. These Web Vitals are signals that measure different aspects of web performance. For example <a href="https://web.dev/ttfb">Time To First Byte (TTFB)</a> is one of the Web Vitals: from the perspective of the browser, TTFB <em>“measures the time between the request for a resource and when the first byte of a response begins to arrive.” - </em><a href="https://web.dev/ttfb"><em>https://web.dev/ttfb/</em></a><em> </em></p>
	<p>A subset of the Web Vitals are the <a href="https://web.dev/vitals/#core-web-vitals">Core Web Vitals</a>. The Core Web Vitals are identified as the most critical Web Vitals to pay attention to. As such, they play a role in the Google Search algorithm. Improving a webpage’s Core Web Vitals can <a href="https://developers.google.com/search/docs/appearance/core-web-vitals">improve success</a> with Google Search. The Core Web Vitals currently consist of three metrics: <a href="https://web.dev/lcp"><em>Largest Contentful Paint (LCP)</em></a>, <a href="https://web.dev/fid"><em>First Input Delay (FID)</em></a> and <a href="https://web.dev/cls"><em>Cumulative Layout Shift (CLS)</em></a>. Respectively they measure <em>Loading Speed</em>,<em> Interactivity</em> and <em>Visual Stability</em>. This will change in March 2024 when <a href="https://web.dev/inp">Interaction To Next Paint (INP)</a> replaces FID as the Core Web Vital for Interactivity.</p>
	<h3 id="interaction">Interaction</h3>
	<p>An Interaction on a webpage starts with a user input. The browser then reacts to this input. This includes the <em>input delay</em>, the <em>processing time</em> and the <em>presentation delay</em> before the next paint occurs and the new frame is presented.</p>
	<figure class="kg-card kg-image-card kg-width-wide kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2023/06/image2.png" class="kg-image" alt="" loading="lazy" width="1999" height="529">
		<figcaption><em>Image from </em><a href="https://web.dev/inp/#whats-in-an-interaction"><em>https://web.dev/inp/#whats-in-an-interaction</em></a></figcaption>
	</figure>
	<p>Keeping in mind that an interaction is composed of these three serialized durations - <em>input delay</em>, <em>processing time</em> and <em>presentation delay</em> - will help later on to understand the difference between FID and INP.</p>
	<h3 id="first-input-delay-fid">First Input Delay (FID)</h3>
	<blockquote><em>“FID measures the time from when a user first interacts with a page (that is, when they click a link, tap on a button, or use a custom, JavaScript-powered control) to the time when the browser is actually able to begin processing event handlers in response to that interaction.” - </em><a href="https://web.dev/fid"><em>https://web.dev/fid/</em></a><em> </em></blockquote>
	<p>FID is the current Core Web Vital that measures interactivity. FID measures the first interaction with the page. User interactions after the first interaction are not measured with FID. FID also only measures the <em>input delay</em> part of the first interaction. It does not measure the <em>processing time</em> and the <em>presentation delay.</em></p>
	<p>FID is classed as ‘Good’ if the <em>input delay</em> is less than 100 ms. FID is classed as ‘Needs Improvement’ between 100ms and 300ms. Delays above 300 ms are classed as ‘Poor’.</p>
	<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2023/06/image3.png" class="kg-image" alt="" loading="lazy" width="736" height="186">
		<figcaption><em>Image from </em><a href="https://web.dev/fid"><em>https://web.dev/fid/</em></a></figcaption>
	</figure>
	<h3 id="interaction-to-next-paint-inp">Interaction to Next Paint (INP)</h3>
	<blockquote><em>“INP is a metric that assesses a page's overall responsiveness to user interactions by observing the latency of all click, tap, and keyboard interactions that occur throughout the lifespan of a user's visit to a page. The final INP value is the longest interaction observed, ignoring outliers.” &nbsp;- </em><a href="https://web.dev/inp"><em>https://web.dev/inp/</em></a><em> </em></blockquote>
	<p>INP, like FID, is also a Web Vital that measures interactivity. INP observes all user interactions in a page view and reports the longest. It measures more than just the<em> input delay</em> duration of each interaction. It also measures the <em>processing time</em> and the <em>presentation delay</em> until the next paint occurs. Once you understand the mechanics of it, the name ‘Interaction to Next Paint’ is a good description of the duration it measures.</p>
	<p>INP is classed as ‘Good’ if the final reported value is less than 200 ms. INP is classed as ‘Needs Improvement’ between 200ms and 500ms. Any measurement above 500 ms is classed as ‘Poor’.</p>
	<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2023/06/image5-1.png" class="kg-image" alt="" loading="lazy" width="763" height="183">
		<figcaption>Image from <a href="https://web.dev/inp">https://web.dev/inp/</a></figcaption>
	</figure>
	<h2 id="a-more-comprehensive-measure-of-interactivity">A more comprehensive measure of interactivity</h2>
	<p>Both FID and INP measure interactivity by measuring delays after user interactions. But INP is more comprehensive than FID. As an example, let’s say a user loads a web page and interacts only once by clicking a button. In this case, FID will capture this interaction by reporting the <em>input delay</em> after the user input. INP will also observe this interaction but it will measure not only the <em>input delay</em> but also the subsequent <em>processing time</em> and the <em>presentation delay</em>. Since this is the only interaction on the web page, INP will observe this as the longest duration within the page view and so will report this duration as the final reported INP value. Already it is clear that with just a single user interaction, INP provides a more comprehensive signal of interactivity because it includes <em>processing time</em> and<em> presentation delay</em>.</p>
	<p>But INP also goes beyond the first interaction on the page. It observes all the interactions within a page view and reports the longest interaction of the set (ignoring outliers). This means that web sites need to ensure that all interactions throughout the lifecycle of a page view are under 200ms in order to score a ‘Good’ INP. With FID, web sites only need to focus on optimizing the first interaction’s input delay under 100 ms to score ‘Good’ FID. With INP joining the Core Web Vitals, web sites will need to focus on optimizing all interactions.</p>
	<h2 id="comparing-fid-with-inp-across-cloudflare">Comparing FID with INP across Cloudflare</h2>
	<p>At Cloudflare, for sites that have enabled Real User Measurements (RUM) via the Web Analytics Product or the Observatory Product, we already collect INP data. This means we have a rich dataset across 850k sites with which to analyze INP against FID.</p>
	<h3 id="fid-vs-inp">FID vs INP</h3>
	<p>Over the period of a week, across all Cloudflare RUM-enabled sites, we observed over four billion reported FIDs and INPs. 93% of the FID values classify as ‘Good’ (under 100 ms). 75% of the INP values classify as ‘Good’ (under 200 ms). Since these values are sourced from the same set of page views, it is already possible to see at a glance that INP is distributed more lightly in the ‘Good’ range than FID.</p>
	<p>Interestingly, the P75 value for FID is just 16 ms. A 0.16 times multiple of the FID ‘Good’ threshold of 100 ms. For INP, the P75 value is 200 ms. A one times multiple of the INP ‘Good’ threshold.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/06/image1.png" class="kg-image" alt="" loading="lazy" width="766" height="420"></figure>
	<h3 id="inp-across-devices">INP across devices</h3>
	<p>Focusing on INP, when the INP data is segmented by device type, we observe that 88% of desktop INP classify as ‘Good’, but only 67% of mobile INP classify as ‘Good’. This suggests that INP is generally suffering more on mobile devices than on desktop.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/06/image4.png" class="kg-image" alt="" loading="lazy" width="763" height="419"></figure>
	<p>The bottom line is that INP is more challenging than FID to ‘get into the Green’. Since INP is a more comprehensive measure of interactivity, web sites are more exposed, and less likely to score favorably.</p>
	<h2 id="how-to-prepare-for-the-change">How to prepare for the change</h2>
	<p>INP will start affecting Google Search rankings when it becomes a Core Web Vital in March 2024. To get ready, websites need to improve interactivity beyond the initial load of the site.</p>
	<p>As always, in order to improve on a metric, a baseline must be drawn by collecting data on the metric. But with INP, this can be challenging because INP is best reported from <a href="https://web.dev/lab-and-field-data-differences/#field-data">field data</a>. Field data means that the data comes from real users interacting with web pages on real browsers. With field data, synthetic tools like Google Lighthouse aren’t a great fit. Synthetic tools are not designed to emulate the wide range of users on the wide range of browsers and operating systems that will navigate a web page.</p>
	<p>In order to collect real user data from real browsers, websites need to enable a RUM provider. RUM providers collect performance data from real browsers, and process the data so that it can be aggregated and analyzed. It’s worth noting that performance data is anonymous and does not include any <a href="https://www.cloudflare.com/learning/privacy/what-is-pii">personal identifiable information (PII)</a>.</p>
	<p>So the first step to understanding INP on a website is to enable a RUM provider.</p>
	<p>Once a RUM provider is enabled on a website, it is then possible to analyze INP data to understand which web pages are not optimized for interactivity. There can be many possible causes for this. Since INP is composed of <em>input delay, processing time</em> and <em>presentation delay, </em>optimizing INP can be broken down into optimizing these distinct durations.</p>
	<p>The best advice for optimizing INP is set out by <a href="https://web.dev/optimize-inp">web.dev</a>. Optimizing INP is not straight-forward - it can involve breaking up JavaScript tasks, reducing DOM interactions and layouts, avoiding use of timers, and limiting third-party code amongst a range of other measures. That’s why it’s best to get started early and learn as much as possible before the change takes place.</p>
	<h2 id="how-cloudflare-can-help">How Cloudflare can help</h2>
	<h3 id="a-free-rum-provider">A free RUM provider</h3>
	<p>Cloudflare offers a free RUM provider which collects INP as part of its dataset. It currently powers Cloudflare Web Analytics and Cloudflare Observatory. By enabling RUM with Cloudflare, you can explore the interactivity of your site’s web pages and start to identify interactivity issues.</p>
	<p>Just log onto the Cloudflare Dashboard, and head to your target account. Go to Web Analytics.</p>
	<h3 id="reduce-the-impact-of-third-party-scripts">Reduce the impact of third-party scripts</h3>
	<p>One of the contributing causes of degraded INP is JavaScript blocking the main thread after an interaction. Often this can be caused by heavy third-party scripts attaching event listeners to DOM elements. For example, third-party analytics scripts can register listeners on interactive elements of a page to power various forms of analytics. Many sites have dozens, if not hundreds of third-party scripts running, each one potentially degrading INP.</p>
	<p>Cloudflare offers a unique product that can entirely remove third-party scripts from the browser. This frees up the main thread, boosting interactivity. If you haven’t come across <a href="https://developers.cloudflare.com/zaraz">Cloudflare Zaraz</a> before, check it out in our docs. Not only can it improve INP, but it can also dramatically improve the security posture of your site by reducing (or even entirely removing) the amount of third-party JavaScript that runs on your website.</p>
	<h3 id="watch-on-cloudflare-tv">Watch on Cloudflare TV</h3><!--kg-card-begin: html-->
	<div style="position: relative; padding-top: 56.25%;"><iframe src="https://customer-rhnwzxvb3mg4wz3v.cloudflarestream.com/52d1657849a6180daa52bd51f25a83f2/iframe?preload=true&amp;poster=https%3A%2F%2Fcustomer-rhnwzxvb3mg4wz3v.cloudflarestream.com%2F52d1657849a6180daa52bd51f25a83f2%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D1s%26height%3D600" style="border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;" allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;" allowfullscreen="true"></iframe></div><!--kg-card-end: html-->
</div>