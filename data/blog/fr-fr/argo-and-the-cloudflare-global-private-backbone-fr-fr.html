<div class="mb2 gray5">9 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://lh6.googleusercontent.com/36OtVBbADO2YYBQXBpl-wWcT_eOENTd_S4MjgMG2pgutTTVNiWgcHoG44fL9ZSDKxfFDAtAF3D61rXMFaHUFk2NxJ57feF9CkKzQ7AZjMrKbYIQqcKpidpH4Yw1TojItiJ6-sWI" class="kg-image" alt="" loading="lazy"></figure>
	<p>Bienvenue à Speed ​​Week ! Chaque jour de la semaine, nous allons parler de quelque chose que Cloudflare fait pour rendre Internet résolument plus rapide pour tout le monde.</p>
	<p>Cloudflare a mis sur pied un vaste réseau de centres de données dans 180 villes de 75 pays. Une façon de penser à Cloudflare, c’est d’imaginer un système mondial permettant de transporter des bits de manière sécurisée, rapide et fiable d’un point A à un point B de la planète.</p>
	<p>Pour que cela devienne une réalité, nous avons construit Argo. Argo utilise les informations du réseau mondial en temps réel pour contourner les baisses de tension, coupures de câbles, pertes de paquets et autres problèmes sur Internet. Argo rend le réseau sur lequel Cloudflare s'appuie, à savoir Internet, plus rapide, plus fiable et plus sécurisé à chaque saut dans le monde.</p>
	<p>Nous avons lancé Argo il y a deux ans. Cela représente désormais 22 % du trafic de Cloudflare. En une journée, en moyenne, Argo réduit de 112 ans le temps d'attente de contenu des utilisateurs d'Internet !</p>
	<p>Puisque Cloudflare et nos volumes de trafic ont augmenté, il est maintenant logique de créer notre propre réseau dorsal privé pour renforcer la sécurité, la fiabilité et la rapidité des connexions-clés entre les sites Cloudflare.</p>
	<p>Aujourd’hui, nous présentons le Cloudflare Global Private Backbone. Il est opérationnel depuis un certain temps et relie les sites Cloudflare à l’aide de connexions à fibres privées.</p>
	<p>Ce réseau dorsal privé profite à tous les clients Cloudflare et brille en association avec Argo. Argo peut sélectionner le meilleur lien disponible sur Internet, en fonction des centres de données, et tire pleinement parti du Cloudbare Global Private Backbone de manière automatique.</p>
	<p>Parlons d’Argo et expliquons comment notre réseau dorsal améliore encore les performances de nos clients.</p>
	<h3 id="qu-est-ce-qu-argo"><strong>Qu'est-ce qu'Argo ?</strong></h3>
	<p>Argo est comme Waze pour Internet. Chaque jour, Cloudflare achemine des centaines de milliards de demandes sur notre réseau et sur Internet. Parce que notre réseau, nos clients et leurs utilisateurs finaux sont bien répartis dans le monde, toutes ces requêtes qui transitent par notre infrastructure brossent un tableau fidèle de la performance des différentes parties d'Internet à un moment donné.</p>
	<p>Tout comme Waze examine les données réelles de conducteurs réels pour vous fournir des itinéraires précis, non embouteillés (et parfois peu orthodoxes) à travers la ville, Argo Smart Routing utilise les données de chronométrages que Cloudflare collecte à partir de chaque requête pour choisir des itinéraires plus rapides et plus efficaces sur Internet.</p>
	<p>Concrètement, le réseau de Cloudflare est très large dans sa portée. Certains liens Internet dans une région donnée peuvent être encombrés et nuire aux performances (un véritable embouteillage). En comprenant ce qui se passe et en utilisant d’autres emplacements et fournisseurs réseau, Argo peut affecter le trafic à un itinéraire moins direct, mais plus rapide, depuis son origine à sa destination.</p>
	<p>Ces avantages ne sont pas théoriques : l'activation d'Argo Smart Routing réduit en moyenne de 33 % le temps écoulé avant le premier octet (TTFB).</p>
	<p>Une autre chose dont nous sommes fiers : nous sommes restés extrêmement concentrés sur la manière de le rendre facile à utiliser. Un clic dans le tableau de bord permet un routage plus efficace et plus intelligent, exploitant ainsi toute l’expertise en matière de réseau, de données et d’ingénierie de Cloudflare pour accélérer votre trafic. Les analyses avancées vous permettent de comprendre exactement ce qu’Argo fait pour vous partout dans le monde.</p>
	<p>Vous pouvez en savoir plus sur le fonctionnement d'Argo dans notre <a href="https://blog.cloudflare.com/argo">article de blog sur le lancement initial</a>.</p>
	<p>Jusqu’à présent, nous avons parlé d’Argo au niveau fonctionnel : vous l’activez et les demandes qui transitent par Internet sont acheminées plus rapidement. Comment ça marche réellement ? Argo dépend de plusieurs facteurs pour que sa magie devienne réalité : le réseau de Cloudflare, les données de performance à la seconde près sur l’évolution du trafic sur Internet et les algorithmes de routage pour l’apprentissage machine.</p>
	<h3 id="r-seau-mondial-de-cloudflare"><strong>Réseau mondial de Cloudflare</strong></h3>
	<p>Cloudflare maintient un réseau de centres de données à travers le monde et notre réseau continue de se développer de manière importante. Aujourd'hui, nous avons <a href="https://www.cloudflare.com/network" target="_blank">plus de 180</a> centres de données dans 75 pays. C’est 69 autres centres de données depuis le lancement d’Argo en mai 2017.</p>
	<p>En plus d’ajouter de nouveaux emplacements, Cloudflare travaille en permanence avec des partenaires réseau, pour ajouter des options de connectivité à nos emplacements réseau. Un seul centre de données Cloudflare peut être relié à une douzaine de réseaux connectés à de multiples échanges Internet (IX), connectés à plusieurs fournisseurs de transit (par exemple, Telia, GTT, etc.) et, maintenant, connectés à notre propre réseau dorsal physique. Une destination donnée peut être accessible via plusieurs liens différents à partir du même emplacement ; chacun de ces liens aura différentes caractéristiques de performance et de fiabilité.</p>
	<p>Cette couverture réseau accrue est importante pour accélérer Argo. Des emplacements et fournisseurs réseau supplémentaires signifient que Argo dispose d’avantage d'options pour contourner les perturbations et les embouteillages du réseau. Chaque fois que nous ajoutons un nouvel emplacement réseau, nous augmentons de manière exponentielle le nombre d'options de routage disponibles pour une requête donnée.</p>
	<h3 id="meilleur-routage-pour-de-meilleures-performances"><strong>Meilleur routage pour de meilleures performances</strong></h3>
	<p>Argo a besoin de l’énorme réseau mondial que nous avons construit pour faire son travail. Mais cela n’aurait pas servi pas à grand-chose si nous n’avions pas eu l’idée de réellement profiter de tous nos centres de données et de leurs câbles entre eux pour accélérer le trafic.</p>
	<p>Argo combine plusieurs techniques d'apprentissage machine pour créer des itinéraires, les tester et éliminer les itinéraires, qui ne fonctionnent pas comme prévu.</p>
	<p>La génération de routes est effectuée sur des données à l'aide de techniques d'optimisation « hors ligne » : Les algorithmes de construction de routes d’Argo prennent un ensemble de données d’entrée (données de chronométrage) et une cible d’optimisation fixe (« minimiser TTFB »), générant des routes qui, selon lui, satisfont à cette contrainte.</p>
	<p>La disqualification de la route est effectuée par un pipeline différent qui n'a aucune connaissance des algorithmes de construction de route. Ces deux systèmes sont intentionnellement conçus pour être contradictoires, ce qui permet à Argo d’être agressif dans la recherche de meilleurs itinéraires sur Internet, mais également d’être adapté à l’évolution rapide des conditions du réseau.</p>
	<p>Sa capacité à distinguer plusieurs options de connectivité potentielles lorsqu’il quitte un centre de données quel qu’il soit est un bon exemple des atouts d’Argo. Nous appelons cela la « sélection de transit ».</p>
	<p>Comme nous l'avons vu précédemment, certains de nos centres de données peuvent proposer une douzaine d'options différentes et viables pour atteindre une adresse IP de destination donnée. C’est comme si vous aviez souscrit à chaque ISP disponible chez vous et que vous pouviez choisir d’en utiliser un pour chaque site Web auquel vous avez essayé d’accéder. La sélection de transit permet à Cloudflare de choisir le chemin disponible le plus rapide en temps réel à chaque saut pour atteindre la destination.</p>
	<p>Avec la sélection du transit, Argo est capable de spécifier à la fois :</p>
	<p>1) Points de cheminement de la localisation réseau sur le chemin vers l’origine.</p>
	<p>2) Le <em>fournisseur ou lien de transit spécifique</em> à chaque point de cheminement dans le trajet du paquet, de la source à la destination.</p>
	<p>Pour faire l’analogie avec Waze, Argo qui donne des directions <em>sans </em>sélection de transit revient à dire à une personne de se rendre à un point de cheminement (aller de San Francisco à New York, en passant par Salt Lake City), sans préciser les routes à prendre pour se rendre à Salt Lake City ou New York. <em>Avec la sélection du transit, nous pouvons donner des directions détaillées ; prenez la I-80 de San Francisco, tournez à gauche ici et entrez dans la région de Salt Lake City par la SR-201 (car la I-80 est embouteillée vers SLC), etc.</em> Cela nous permet de contourner les problèmes sur Internet avec beaucoup plus de précision.</p>
	<figure class="kg-card kg-image-card"><img src="https://lh5.googleusercontent.com/xt-nh3etjwOjCBd80Iy4sidPcBGRn4PA-Im9jO3MxWl5S37p3YV-2oymWxC7_QUAlIfHxNdkqLsYsX9hM8fLMRtFGYn20SQV0_LeyFdHMJSdrkDxxPr4KzdUy-8TpLlRz5wMR2E" class="kg-image" alt="" loading="lazy"></figure>
	<p>La sélection du transit nécessite une logique dans notre plan de données entre les centres de données (les composants qui déplacent réellement les données sur notre réseau), afin de permettre la différenciation entre divers fournisseurs et liaisons disponibles dans chaque emplacement. Certaines techniques intéressantes d’automatisation et de publicité réseau nous permettent d’avoir beaucoup plus de discernement en ce qui concerne le lien à effectivement sélectionner pour déplacer le trafic.</p>
	<p>Sans modification du plan de données d’Argo, ces options seraient soustraites par nos routeurs périphériques, le choix du transit étant laissé à BGP. Nous prévoyons de plus parler publiquement des techniques de routage utilisées à l’avenir.</p>
	<p>Nous sommes capables de mesurer directement l’impact de la sélection du transit sur le trafic des clients Argo. En ce qui concerne l'amélioration moyenne globale, la sélection du transit offre aux clients un avantage supplémentaire de 16 % en temps de latence TTFB par rapport aux itinéraires standard dérivés du protocole BGP. C'est énorme !</p>
	<p>Une chose à laquelle nous pensons : Argo peut lui-même modifier les conditions du réseau lors du transfert du trafic d'un site ou d'un fournisseur à un autre en <a href="https://www.citylab.com/transportation/2018/09/citylab-university-induced-demand/569455" target="_blank">induisant une requête</a> (en ajoutant un volume de données supplémentaire en raison de l'amélioration des performances) et en modifiant les profils de trafic. À grand pouvoir grande complexité.</p>
	<h3 id="ajout-du-r-seau-dorsal-priv-global-cloudflare"><strong>Ajout du réseau dorsal privé global Cloudflare</strong></h3>
	<p>Compte tenu de la diversité des options de transit et de connectivité dans chacun de nos centres de données et des astuces qui nous permettent de les utiliser, pourquoi avons-nous passé tant de temps et pris la peine de nous construire un réseau dorsal ? La réponse courte : l'exploitation de notre propre réseau dorsal privé nous permet de mieux contrôler la gestion de performance et de capacité de bout en bout.</p>
	<p>Lorsque nous achetons des services de transit ou utilisons un partenaire pour la connectivité, nous comptons sur ce fournisseur pour gérer l’état de la liaison et faire en sorte qu’elle reste non encombrée et disponible. Certains réseaux sont meilleurs que d'autres et les conditions changent tout le temps.</p>
	<p>À titre d'exemple, voici une mesure de la gigue (variation du temps d'aller-retour) entre deux de nos centres de données, Chicago et Newark, sur le réseau d'un fournisseur de transit :</p>
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/iuuu_b-a__NGkAzqXXsW2aL65qHhrOe-13TWG-xuMsFZLvOPCNMkKTo1o54ucgAxYPwGd9BI8L1SNVxSl_jG2xK6sos78giTPM5pw-bNrIYfAasobDzvMGR24iTf1wbVH3_2ooc" class="kg-image" alt="" loading="lazy"></figure>
	<p>La gigue moyenne sur les 6 heures représentées est de 4 ms, avec une latence aller-retour moyenne de 27 ms. Nous devons juste apprendre à vivre avec une certaine quantité de latence ; la vitesse de la lumière est une constante physique difficile à combattre, et les protocoles réseau sont conçus pour fonctionner sur des liaisons à latence élevée ou faible.</p>
	<p>En revanche, la gigue est « mauvaise » car elle est imprévisible et les protocoles ainsi que les applications réseau qui en découlent se dégradent souvent rapidement lorsque la gigue augmente. La gigue sur une liaison est généralement causée par une mise en mémoire tampon, une mise en file d'attente et une concurrence générale accrue pour les ressources du matériel de routage de part et d'autre d'une connexion. Par exemple, avoir une conversation VoIP sur un réseau avec une latence élevée est gênant mais gérable. Chaque correspondant de l'appel remarquera un « décalage », mais la qualité de la voix n'en souffrira pas. La gigue altère la conversation, avec des paquets arrivant les uns sur les autres et des problèmes imprévisibles rendant la conversation inintelligible.</p>
	<p>Voici le même tableau de gigue entre Chicago et Newark, sauf que cette fois-ci, elle transite par Cloudflare Global Private Backbone :</p>
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/niZKGrxMs6E07F56bLLxaIf98AE5QrnKJHUVPNf9Pu8pLqYY5c2MtIOYCscOxdIQXDqXxg9iLltdKEzC6gDWBJSY0QWAHhRsh9pNXOyhQGv1GNzqP6gvegg-Upo8tD94jrciiO0" class="kg-image" alt="" loading="lazy"></figure>
	<p>Beaucoup mieux ! Nous voyons ici une mesure de gigue de 536 µs (microsecondes), presque huit fois mieux que la mesure effectuée sur un fournisseur de transit entre les mêmes deux sites.</p>
	<p>La combinaison de la fibre que nous contrôlons de bout en bout et d’Argo Smart Routing nous permet de libérer tout le potentiel du réseau dorsal de Cloudflare. Le système de routage d’Argo sait exactement la capacité du réseau dorsal qui est disponible et peut donc gérer la quantité de données supplémentaires qu’il essaie de transmettre. En contrôlant les deux extrémités du pipeline et le pipeline lui-même, nous pouvons garantir certaines caractéristiques de performance et intégrer ces attentes dans nos modèles de routage. Les mêmes principes ne s’appliquent pas aux fournisseurs de transit ni aux réseaux que nous ne contrôlons pas.</p>
	<h3 id="latence-va-t-en-"><strong>Latence, va-t'en !</strong></h3>
	<p>Notre réseau dorsal privé est un autre outil à notre disposition pour améliorer les performances sur Internet. En combinant l'apprentissage machine de pointe d’Argo et la connectivité directe par fibre entre les points de notre vaste réseau, nous pouvons acheminer le trafic client avec des performances prévisibles et excellentes.</p>
	<p>Nous sommes ravis de voir le réseau dorsale et son impact continuer à se développer.</p>
	<p>Personnellement, en tant que gestionnaire de produit, j'ai réellement apprécié de travailler sur Argo. Nous rendons les clients plus heureux en rendant leurs sites Web, leurs API et leurs réseaux plus rapides. Activer Argo permet aux clients de le faire en un clic et d’en voir les avantages immédiats. En arrière-plan, d’énormes investissements dans les infrastructures physiques et virtuelles commencent à faire accélérer le trafic, de l’origine à la destination.</p>
	<p>Du point de vue de l’ingénierie, nos buts et objectifs hebdomadaires sont directement mesurables : avons-nous permis à nos utilisateurs de travailler plus rapidement en faisant des travaux d’ingénierie supplémentaires ? Lorsque nous envoyons une nouvelle optimisation à Argo et que nous voyons immédiatement nos graphiques se déplacer vers le haut et à droite, nous savons que nous avons fait notre travail.</p>
	<p>Construire notre réseau dorsal privé physique est la dernière chose que nous avons faite pour répondre à notre besoin de rapidité.</p>
	<p>Bienvenue à Speed ​​Week !</p>
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/YGC2J1iwWBU1yLb42XewW_LklDK_vFA9Ui5F60TYWDFcIIz7HZZHuoZxwLl998WvmHse60Cmv4D3EPN0edlNhNssdZ3gYKa8mPZktMwM3SIxGZRCeetbREnHpnEWYEmQXIzTBs8" class="kg-image" alt="" loading="lazy"></figure>
	<p><a href="https://dash.cloudflare.com/traffic" target="_blank">Activez Argo</a> maintenant ou contactez le service commercial pour en savoir plus !</p>
</div>