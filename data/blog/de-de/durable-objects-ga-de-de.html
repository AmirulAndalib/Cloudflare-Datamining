<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/11/image1-16.png" class="kg-image"></figure>
	<p>Die Full Stack Week geht der Frage nach, wie Entwickler die Leistungsfähigkeit des Cloudflare-Netzwerks einsetzen, um vollständige und automatisch weltweit nutzbare Anwendungen zu erstellen. Workers verspricht nicht nur eine geringere Latenz, sondern einen Paradigmenwechsel beim Programmieren, der Entwicklern das Leben erleichtert und Anwendungen robuster macht.</p>
	<p>Vergangenes Jahr <a href="https://blog.cloudflare.com/durable-objects-open-beta/">haben wir Durable Objects vorgestellt</a> – eine Möglichkeit, die Zustandsverwaltung von Workers, die am Netzwerkrand von Cloudflare ausgeführt werden, zu koordinieren. Durable Objects ermöglichen es Entwicklern, zuvor komplexe Anwendungen wie das Zusammenarbeiten per Whiteboarding, Gameserver oder globale Warteschlangen mit wenigen Codezeilen zu implementieren.</p>
	<p>Wir geben heute bekannt, dass Durable Objects nun allgemein verfügbar und einsatzbereit sind.</p>
	<h3 id="was-ist-das-besondere-an-durable-objects">Was ist das Besondere an Durable Objects?</h3>
	<p>Bei vielen herkömmlichen Anwendungen erfolgt die Zustandskoordinierung über eine Datenbank. Auf Workers aufbauende Anwendungen stellen eine Datenbank vor einige besondere Herausforderungen – nämlich die Notwendigkeit, sofort mit globaler Skalierung und hoher Nebenläufigkeit umzugehen, was bei einer Koordination über gemeinsam genutzte Schlüssel zu häufigen Transaktions-Rollbacks führen kann. Datenbanken selbst sind insbesondere auf globaler Ebene schwer zu konfigurieren und zu skalieren, sodass die Entwickler ihre Datenbank speziell auf die Zugriffsmuster von Workern abstimmen müssen.</p>
	<p>Durable Objects bieten eine einfachere Struktur: Wenn Sie eine JavaScript-Klasse schreiben, kann Ihre Anwendung benannte Instanzen dieser Klasse erstellen, die garantiert im gesamten Netzwerk von Cloudflare eindeutig sind. Diese Instanz ist ein Durable Object – Workers (und andere Durable Objects!) können über seine ID Nachrichten an das Durable Object senden. Das Durable Object verarbeitet Nachrichten der Reihe nach und in einem einzigen Thread, was eine Koordinierung der Nachrichten ermöglicht. Darüber hinaus bieten wir eine hochgradig konsistente API für die Speicherung der für die „Dauerhaftigkeit“ des Objekts erforderlichen Schlüssel-Wert-Paare.</p>
	<p>Nehmen wir zum Beispiel einen Online-Texteditor. Bei einer gängigen Architektur würde der Zustand des Dokuments in einer Datenbank gespeichert und die Benutzer müssten Änderungen dort festhalten. Dies erschwert jedoch die Zusammenarbeit: Wie können mehrere Benutzer sicherstellen, dass alle die neueste Fassung des Dokuments mit den aktuellen Änderungen sehen? </p>
	<p>Mit Durable Objects lässt sich dieses Problem viel leichter lösen. Wenn Sie eine Dokumentenklasse schreiben, speichern Sie den Zustand jedes Dokuments in einem Durable Object ab. Stellt ein Benutzer eine Verbindung her, sieht er die neueste Version des Dokuments und kann seine Änderungen synchron mit anderen Bearbeitern vornehmen. Wenn er das Dokument für sich schließt, verschwindet das Durable Object aus dem Speicher. Es verursacht keine Kosten mehr, doch sein Zustand bleibt dauerhaft erhalten. Es muss kein Netzwerk konfiguriert, keine Datenbank verwaltet und keine Autoscaling-Richtlinie implementiert werden – alles funktioniert einfach.</p>
	<p>Während einzelne Objekte nur einen einzigen Thread aufweisen, lässt sich mit Durable Objects dank ihrer Struktur eine Objektsammlung praktisch unbegrenzt skalieren. Der Lebenszyklus eines Objekts wird für Sie verwaltet, d. h. es müssen keine Bereinigungsmaßnahmen durchgeführt oder Systeme herunterskaliert werden. Durable Objects kann sofort auf Hunderttausende von Anfragen pro Sekunde skaliert werden und dann ohne Eingreifen des Entwicklers wieder heruntergeschraubt werden.</p>
	<h3 id="was-ist-seit-einf-hrung-des-early-access-noch-passiert">Was ist seit Einführung des Early Access noch passiert?</h3>
	<p>Zunächst haben wir an der Verbesserung von Zuverlässigkeit und Performance gearbeitet. Durable Objects stehen hinter einer Reihe von neuen Produkten, die bei Cloudflare entwickelt werden, darunter <a href="https://blog.cloudflare.com/introducing-r2-object-storage/">R2 Storage</a> und <a href="https://blog.cloudflare.com/de-de/cloudflare-waiting-room-de-de/">Cloudflare Waiting Room</a>. </p>
	<p>Bei Waiting Room werden Durable Objects verwendet, um einen möglichst einheitlichen Überblick über die aktuelle Anzahl der Benutzer bieten zu können, die weltweit versuchen, auf eine bestimmte Website zuzugreifen. Die Speicherung dieses häufig aktualisierten Zustands in einer herkömmlichen Datenbank wäre schwierig zu skalieren und würde den globalen Betrieb erheblich erschweren.</p>
	<p>Unsere Kunden haben Durable Objects ebenfalls sehr gut angenommen. Wir haben verfolgt, wie ein großes Gaming-Unternehmen seine neue Backend-Architektur auf Durable Objects aufgebaut hat – und damit sowohl den individuellen Spielstatus als auch Multiplayer-Spiele-Lobbys koordiniert. Durable Objects war für die Firma eine naheliegende Wahl, weil damit dynamisches Skalieren ohne Server- oder Datenbankverwaltung möglich ist und sie deshalb ihr Spiel mit einem relativ kleinen Team ausbauen konnte.</p>
	<p>Kunden haben weitere Anwendungen entwickelt – von Seiten zur Statusüberwachung bis hin zu kollaborativen Whiteboard-Anwendungen. Wir haben ein besonderes Interesse an der Verwendung von Durable Objects mit WebSockets zur Erstellung uneingeschränkt reaktionsfähiger Anwendungen registriert. Daher haben wir eine <a href="https://github.com/cloudflare/dog" target="_blank">Referenzarchitektur</a> veröffentlicht, um Kunden bei der Weiterentwicklung in diesem Bereich zu unterstützen.</p>
	<p>Auch was den Betrieb des Systems angeht, sind wir besser geworden – insbesondere bei der Bewältigung einer großen Zahl von Anfragen. Durable Objects kann jetzt Hunderttausende von Anfragen pro Sekunde mit mehreren Objekten und Hunderte von Anfragen mit einem einzelnen Objekt verarbeiten. Damit kann die Lösung nun selbst von den anspruchsvollsten Kunden eingesetzt werden.</p>
	<p>Wir haben <a href="https://blog.cloudflare.com/supporting-jurisdictional-restrictions-for-durable-objects/">Regionsbeschränkungen</a> eingeführt, sodass bei Durable Objects nicht nur das Skalieren, sondern auch die Einhaltung der Compliance-Vorgaben mühelos gelingt. Entwickler erhalten damit die Möglichkeit, ein Durable Object mit einer Regionskennzeichnung zu versehen und so sicherzustellen, dass es Daten in genau dieser Region verarbeitet und speichert.</p>
	<p>Wir haben den Speicheranfragen an Durable Objects <a href="https://blog.cloudflare.com/durable-objects-easy-fast-correct-choose-three/">einen Cache</a> vorgeschaltet, wodurch Lese- und Schreibvorgänge blitzschnell abgewickelt werden und gleichzeitig das Schreiben von korrektem, nebenläufigem Code erleichtert wird.</p>
	<p>Darüber hinaus haben wir eine Reihe kleinerer Verbesserungen eingeführt, darunter <a href="https://developers.cloudflare.com/workers/learning/using-durable-objects#uploading-a-durable-object-worker" target="_blank">vereinfachte Uploads neuer Durable Objects-Klassen</a>, ein UI im Dashboard und Unterstützung für „wrangler dev“ und „wrangler tail“ zum Live-Debugging.</p>
	<h2 id="wie-geht-es-mit-durable-objects-weiter">Wie geht es mit Durable Objects weiter?</h2>
	<p>Wir arbeiten nach wie vor daran, Durable Objects zur benutzerfreundlichesten Plattform für die Entwicklung unbegrenzt skalierbarer Anwendungen zu machen.</p>
	<p>Inzwischen lassen sich Durable Objects gut skalieren, wenn Objekte partitioniert werden können. Doch einzelne Objekte sind auf einen einzigen Thread beschränkt. Viele Workloads könnten über mehrere Threads skaliert werden, wobei nur Lesezugriff auf den Zustand eines Objekts möglich wäre und die Synchronisierung nur bei Zustandsänderungen erfolgen sollte. Wir sprechen von einer Replikation für Durable Objects und befassen uns gerade mit der Entwicklung einer solchen Lösung.</p>
	<p>Wir arbeiten auch daran, einem Durable Object eine API hinzuzufügen, mit der ein Rückruf garantiert würde. Damit könnte der Entwickler ein Durable Object zu einem bestimmten Zeitpunkt in der Zukunft aktivieren, um eine Funktion auszuführen. Dies vereinfacht nicht nur die Lebenszyklusverwaltung, sondern es lassen sich damit auch leicht Primitive wie zuverlässige Warteschlangen auf Durable Objects aufbauen.</p>
	<p>Wir beschäftigen uns zudem damit, wie sich Objekte besser geografisch verteilen lassen. Dazu gehört die Vision einer automatischen Objektmigration, auf die wir in unserer ersten Ankündigung eingegangen sind.</p>
	<p>Gibt es etwas, das Sie gerne hinzugefügt sehen würden? Dann schicken Sie uns einfach eine <a href="/cdn-cgi/l/email-protection#6d1a021f06081f1e401d1f0209180e192d0e010218090b010c1f08430e0200">E-Mail</a> oder einen <a href="https://twitter.com/cloudflare" target="_blank">Tweet</a>!</p>
	<h2 id="wie-verwende-ich-durable-objects">Wie verwende ich Durable Objects?</h2>
	<p>Rufen Sie das Cloudflare-Dashboard auf, um Durable Objects zu aktivieren. Stimmen Sie einer zahlungspflichtigen Nutzung unseres Angebots zu und sehen Sie sich dann unsere <a href="https://github.com/cloudflare/workers-chat-demo" target="_blank">Muster-Chatanwendung</a> und Referenz-Architektur <a href="https://github.com/cloudflare/dog" target="_blank">hier</a> an!<br><br>Viel Spaß beim Entwickeln!</p>
</div>