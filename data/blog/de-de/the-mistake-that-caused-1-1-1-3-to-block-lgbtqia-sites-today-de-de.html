<div class="mb2 gray5">4 min read</div>
<div class="post-content lh-copy gray1">
	<p>Heute haben wir einen Fehler gemacht. Dieser Fehler führte dazu, dass der neue Dienst 1.1.1.1 for Families ungewollt eine Reihe von LGBTQIA+ Websites blockierte. Hier möchte ich durchgehen, was passiert ist, warum es passiert ist, und was wir getan haben, um den Fehler zu beheben.</p>
	<p>In den letzten drei Jahren haben wir es uns zur Tradition gemacht, an jedem 1. April neue Produkte für private Verbraucher einzuführen. In diesem Jahr war eines dieser Produkte ein gefilterter DNS-Dienst, <a href="https://blog.cloudflare.com/introducing-1-1-1-1-for-families">1.1.1.1 for Families</a>. Mit diesem Dienst können Nutzer bestimmte Kategorien von Websites einschränken.</p>
	<h3 id="gefiltertes-vs-ungefiltertes-dns">Gefiltertes vs. ungefiltertes DNS</h3>
	<p>Der neue gefilterten DNS-Dienst ändert nichts an dem ursprünglichen ungefilterten 1.1.1.1-Dienst. Wir haben jedoch erkannt, dass einige Nutzer nach einer Möglichkeit suchen, die Inhalte auf ihren privaten Geräten zu kontrollieren. Ich selbst blockiere zum Beispiel die Auflösung von Social-Media-Seiten, wenn ich mich auf meine Arbeit konzentrieren will, weil ich dadurch produktiver arbeite. 1.1.1.1-Nutzer hatten vor allem eine Bitte an uns: eine Version des Dienstes für den privaten Gebrauch zu Hause, um bestimmte Website-Kategorien zu blockieren. Wir haben auf die Bitte unserer Nutzer reagiert. Vor ein paar Stunden startete 1.1.1.1 for Families.</p>
	<p>Nach und nach werden wir den Nutzern von 1.1.1.1 for Families die Möglichkeit geben, die blockierten Kategorien punktgenau anzupassen (z. B. wie ich Social-Media-Seiten blockiere, um Produktivität zu erhöhen). Für den Anfang haben wir jedoch zwei Standardeinstellungen erstellt. Sie beziehen sich auf die Arten von Inhalten, die Nutzer am häufigsten blockieren wollen: Malware (die Sie blockieren können, indem Sie 1.1.1.2 und 1.0.0.2 als Ihre DNS-Resolver einstellen) und Malware + jugendgefährdende Inhalte (die Sie blockieren können, indem Sie 1.1.1.3 und 1.0.0.3 als Ihre DNS-Resolver einstellen).</p>
	<h3 id="lizenzierte-kategorisierungsdaten">Lizenzierte Kategorisierungsdaten</h3>
	<p>Um Daten für 1.1.1.1 for Families zu erhalten, haben wir Feeds von mehreren Providern lizenziert. Es handelt sich dabei um Provider, die sich auf die Kategorisierung von Websites spezialisiert haben. Wir haben die letzten Monate damit verbracht, die Klassifizierungsanbieter zu überprüfen, um diejenigen auszuwählen, die die höchste Genauigkeit und die geringsten falsch-positive Ergebnisse aufweisen.</p>
	<p>Man ist sich weitgehend einig darüber, welche Cyber-Sicherheitsbedrohungen die Kategorie „Malware“ umfassen. Von den beiden, war es war also die einfachere Kategorie. Was jugendgefährdende Inhalte angeht, wollten wir die SafeSearch-Kategorien von Google übernehmen. Google hat in diesem Bereich gute Arbeit geleistet; und das Google-SafeSearch-Tool ist so konzipiert, dass es die Suchergebnisse für „sexuell explizite Inhalte“ einschränkt. Die Definition konzentriert sich auf Pornografie und folgt weitgehend den Anforderungen des <a href="http://ifea.net/cipa.pdf">US-amerikanischen „Children's Internet Protection Act“ (CIPA)</a>, dem Gesetz, das Schulen und Bibliotheken in den USA zum Schutz von Kindern befolgen müssen.</p>
	<p>Da es der Standard für den 1.1.1.3-Dienst war und da wir für die Zukunft geplant haben, dass Nutzer ihre eigenen Spezifikationen über die Standardeinstellung hinaus festlegen können, wollten wir die Kategorie „jugendgefährdende Inhalte“ enger fassen. Was wir nicht in die Kategorie „jugendgefährdende Inhalte“ aufnehmen wollten, waren Inhalte rund um LGBTQIA+. Doch zu unserem Entsetzen wurde uns nach dem Start gemeldet, dass diese Seiten herausgefiltert wurden.</p>
	<h3 id="falscher-feed-ausgew-hlt">Falscher Feed ausgewählt</h3>
	<p>Was ist schiefgelaufen? Die Data Provider, von denen wir Inhalte lizenzieren, arbeiten mit unterschiedlichen Kategorisierungen. Diese Kategorisierungen sind zwischen den Providern nicht perfekt abgestimmt. Einer der Provider hat mehrere Kategorien von „jugendgefährdenden Inhalten“. Eine der Kategorien umfasst Inhalte, die die Google SafeSearch/CIPA-Definition widerspiegeln. Eine weitere Inhaltskategorie „jugendgefährdender Inhalte“ umfasst eine breitere Palette von Themen, einschließlich Websites rund um LGBTQIA+.</p>
	<p>Wir haben wir die Kategorie „jugendgefährdende Inhalte“ speziell überprüft, um sicherzustellen, dass sie eng auf die SafeSearch von Google/CIPA-Definition zugeschnitten ist. Aber bei der Veröffentlichung der Produktionsversion heute Morgen haben wir dennoch die falsche Kategorie „jugendgefährdender Inhalte“ aufgenommen. Infolgedessen wurde bei den ersten 1.1.1.3-Nutzern eine breitere Palette von Websites gefiltert als ursprünglich beabsichtigt, darunter auch Inhalte zum Thema LGBTQIA+. Wir haben dieses Problem sofort behoben.</p>
	<h3 id="langsame-aktualisierung-von-datenstrukturen">Langsame Aktualisierung von Datenstrukturen</h3>
	<p>Um die Liste der Sites schnell an alle unsere Rechenzentren zu verteilen, verwenden wir eine kompakte Datenstruktur. Das Gute daran ist, dass wir die Datenstruktur weltweit sehr effizient replizieren können. Der Nachteil ist, dass es mehrere Stunden dauert, eine neue Version der Datenstruktur zu generieren. Sofort nachdem wir unseren Fehler bemerkten, nahmen wir den falschen Data Provider heraus und begannen mit der Replizierung einer neuen Datenstruktur.</p>
	<p>Während die neue Datenstruktur in unserem Netzwerk repliziert wurde, haben wir einzelne Sites direkt auf eine Zulassungsliste gesetzt. Die Listen entstanden anhand von Nutzerberichten und anderen Quellen zum Thema LGBTQIA+. Diese Updates gingen sofort raus. Wir fügten der Zulassungsliste kontinuierlich neue Seiten hinzu, sobald sie uns gemeldet wurden oder wir welche entdeckten.</p>
	<p>Um 16:51 UTC, etwa zwei Stunden, nachdem wir den ersten Bericht über die irrtümliche Sperrung erhalten hatten, war die Datenstruktur mit der richtigen Definition von jugendgefährdenden Inhalten generiert worden und ging raus. Die einzigen Nutzer, die von der zu breiten Blockierung betroffen waren, sind diejenigen, die den 1.1.1.3-Dienst bereits aktiviert hatten. Nutzer von 1.1.1.1 – das weiterhin ungefiltert bleiben wird – und Nutzer von 1.1.1.2 waren von dieser unbeabsichtigten Blockierung nicht betroffen.</p>
	<p>Ab jetzt ist die Filterung durch die Standardeinstellung von 1.1.1.3 so, wie wir es ursprünglich beabsichtigt haben. Sie sollte ungefähr dem entsprechen, was Sie über Google SafeSearch finden. Seiten rund um LGBTQIA+ werden nicht blockiert. Wenn Sie bemerken, dass eine Website fälschlicherweise blockiert wird, melden Sie uns dies bitte hier.</p>
	<p><a href="https://report.teams.cloudflare.com">https://report.teams.cloudflare.com/</a></p>
	<h3 id="zuk-nftiger-schutz">Zukünftiger Schutz</h3>
	<p>Für die Zukunft haben wir eine Reihe von Überprüfungen bekannter Sites eingerichtet, die nicht in die vorgesehenen Kategorien fallen sollten, darunter viele, die wir heute fälschlicherweise aufgelistet haben. Bei den zukünftigen Aktualisierungen der Standardeinstellungen wird unser Build-System bestätigen, dass keine dieser Sites aufgeführt ist. Wir hoffen, dass dies dazu beitragen wird, Fehler wie diesen in Zukunft zu vermeiden.</p>
	<p>Ich entschuldige mich für den Fehler. Ich verstehe zwar, wie es passiert ist, aber es hätte niemals passieren dürfen. Ich danke unserem Team dafür, dass es so schnell auf unseren Fehler reagiert hat.</p>
</div>