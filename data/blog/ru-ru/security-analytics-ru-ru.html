<div class="mb2 gray5">6 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/unnamed-1.png" class="kg-image" alt="Introducing Security Analytics: a view across all your traffic" loading="lazy"></figure>
	<p>Приложение, проксирующее трафик через Cloudflare, обладает широким спектром простых в использовании функций безопасности, включая WAF, управление ботами и нейтрализацию DDoS-атак. Чтобы понять, был ли трафик заблокирован Cloudflare, мы создали мощную панель управления <a href="https://blog.cloudflare.com/new-firewall-tab-and-analytics">Security Events</a>, которая позволяет пользователю просматривать любые события по нейтрализации атак. Владельцы приложений часто задаются вопросом, что произошло с остальной частью их трафика. Удалось ли им блокировать весь трафик, который был признан вредоносным?</p>
	<p>Сегодня, наряду с нашим объявлением о <a href="https://blog.cloudflare.com/stop-attacks-before-they-are-known-making-the-cloudflare-waf-smarter">WAF Attack Score</a>, мы также объявляем о запуске нашего нового продукта — Security Analytics.</p>
	<p>Security Analytics обеспечит вам представление о безопасности всего вашего HTTP-трафика, а не только нейтрализованных запросов, позволяя сосредоточиться на том, что наиболее важно: трафик, признанный вредоносным, но потенциально не нейтрализованный.</p>
	<h2 id="-">Обнаружение, затем нейтрализация</h2>
	<p>Представьте, что вы только что подключили свое приложение к Cloudflare, и без каких-либо дополнительных усилий каждый HTTP-запрос анализируется сетью Cloudflare. Таким образом, аналитика расширяется за счет анализа атак, анализа ботов и любого другого сигнала о безопасности, предоставляемого Cloudflare.</p>
	<p>Без какого-либо риска ложных срабатываний, вы можете просмотреть непосредственно весь свой трафик, чтобы узнать, что именно происходит, когда и где.</p>
	<p>Это позволяет вам сразу же приступить к анализу результатов этих сигналов, сокращая время, необходимое для развертывания активных мер по нейтрализации атаки, и повышая вашу уверенность в принятии решений.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2022/12/image6-1.png" class="kg-image" alt="Diagram of detecting incoming requests before deploying mitigation rules" loading="lazy"></figure>
	<p>Мы называем такой подход <em>«обнаружение, затем нейтрализация»</em>, и мы уже получили весьма положительные отзывы от клиентов, получивших ранний доступ.</p>
	<p>Фактически, решение Cloudflare по управлению ботами — Bot Management — <a href="https://blog.cloudflare.com/introducing-bot-analytics">использует эту модель в течение</a> последних двух лет. Мы постоянно получаем отзывы наших клиентов о том, что благодаря улучшенным возможностям мониторинга сети они больше доверяют нашему решению по оценке ботов. Для дальнейшей поддержки этого нового способа защиты ваших веб-приложений и объединения всех наших интеллектуальных сигналов мы спроектировали и разработали новую систему аналитики безопасности — Security Analytics, которая начинает получать сигналы от WAF и других продуктов безопасности, чтобы следовать этой модели.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2022/12/image4-6.png" class="kg-image" alt="Screenshot of plotting attack analysis over time as bar chart, indicating some likely attacks" loading="lazy"></figure>
	<h2 id="-security-analytics">Новая система Security Analytics</h2>
	<p>Созданная на основе нашего успешного опыта аналитики, новая система аналитики безопасности — Security Analytics — использует существующие компоненты, такие как лучшие статистические данные, быстрые контекстные фильтры, на новом макете страницы, обеспечивающем быстрое исследование и подтверждение. В следующих разделах этот новый макет страницы будет разбит на части, образующие рабочий процесс высокого уровня.</p>
	<p>Ключевое различие между аналитикой безопасности (Security Analytics) и событиями безопасности (Security Events) заключается в том, что Security Analytics основана на HTTP-запросах, которые охватывают возможности мониторинга всего трафика вашего сайта, а Security Events используют другой набор данных, который визуализируется всякий раз, когда имеет место совпадение с любым активным правилом безопасности.</p>
	<h3 id="--1">Определение фокуса</h3>
	<p>Новая система Security Analytics визуализирует набор данных выборочных HTTP-запросов на основе всего вашего приложения, аналогично <a href="https://blog.cloudflare.com/introducing-bot-analytics">аналитике ботов</a>. При подтверждении модели <em>«обнаружение, затем нейтрализация»</em> с выбранными клиентами, как правило, наблюдается использование наилучших статистических данных N для быстрого сужения до либо очевидных аномалий, либо определенных частей приложения. Основываясь на этих аналитических данных, страница начинается с выбранной статистики наилучших данных N, охватывающей как источники запросов, так и назначения запросов, что позволяет выполнить расширение, с тем, чтобы просмотреть всю доступную статистику. Такие вопросы, как «Насколько хорошо защищена область администратора моего приложения?» отображается одним или двумя быстрыми щелчками по фильтру в этой области.</p>
	<figure class="kg-card kg-image-card"><img src="https://lh4.googleusercontent.com/rCsL1Y7ZYcxaHPoPouibJe2GMWStzkKZP6D89mP3mGcWvfjZSrkg19rNhCLFLXN6U4CHTjOb6vH99c8D5QEDk_-OsPobz4lWwsmmkjCVVClbP08JdDs0KdAkb2ZHFSDJ84tfFV2rJltoyEbDPtVCKA12dGb98ASuPkigqPCIwZe85rAOY6SXjC-bJsPuJZ-IvP1L6VR_-Q" class="kg-image" alt="Screenshot of expandable top N statistics" loading="lazy"></figure>
	<h3 id="--2">Выявление аномалий в тенденциях</h3>
	<p>После определения предварительного фокуса, ядро интерфейса предназначено для построения графиков тенденций с течением времени. Диаграмма временных рядов зарекомендовала себя как мощный инструмент, помогающий выявлять аномалии трафика, а также позволяющий строить графики на основе различных критериев. Всякий раз, когда возникает пик трафика, скорее всего, имела место атака или попытка атаки.</p>
	<p>Как упоминалось выше, в отличие от <a href="https://blog.cloudflare.com/new-firewall-tab-and-analytics">Security Events</a>, набор данных, используемый на этой странице, представляет собой HTTP-запросы, которые включают как нейтрализованные, так и не нейтрализованные запросы. Под <a href="https://blog.cloudflare.com/application-security/#definitions">нейтрализованными запросами</a> здесь мы подразумеваем «любой HTTP-запрос, который имел "завершающее" действие, примененное платформой Cloudflare». Остальные запросы, которые не были нейтрализованы, либо обслуживаются кэшем Cloudflare, либо достигают источника. В таких случаях, как наличие пика в не нейтрализованных запросах, но при этом с равномерным уровнем нейтрализованных запросов, можно предположить, что имела место атака, которая не соответствует ни одному активному правилу WAF. В данном примере вы можете одним щелчком мыши отфильтровать не нейтрализованные запросы непосредственно на диаграмме, что инициирует обновление всех данных, визуализированных на этой странице, оказывая поддержку дальнейшим исследованиям.</p>
	<p>В дополнение к отображению по умолчанию нейтрализованных или не нейтрализованных запросов вы также можете выбрать график тенденций либо анализа атак, либо анализа ботов, что позволит вам выявлять аномалии в отношении атак или поведения ботов.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2022/12/image7-2.png" class="kg-image" alt="Screenshot of default plotting of mitigated versus not mitigated requests" loading="lazy"></figure>
	<h3 id="--3">Увеличение масштаба с помощью сигналов анализа</h3>
	<p>Одним из наиболее предпочитаемых и надежных аналитических сигналов для наших клиентов является оценка ботов. С последним добавлением <a href="https://blog.cloudflare.com/stop-attacks-before-they-are-known-making-the-cloudflare-waf-smarter">WAF Attack Score</a> и <a href="https://developers.cloudflare.com/waf/about/content-scanning">сканирования контента</a>, мы объединяем их на одной странице аналитики, помогая вам еще больше увеличить масштаб своего трафика на основе некоторых из этих сигналов. Комбинация этих сигналов позволяет вам найти ответы на сценарии, которые до сих пор были невозможны:</p>
	<ul>
		<li>Запросы на атаку, выполненные (определенными) автоматическими источниками</li>
		<li>Запросы на вероятную атаку, выполненные людьми</li>
		<li>Содержимое, загруженное с вредоносным контентом, созданным ботами, или без него</li>
	</ul>
	<p>После того как сценарий будет отфильтрован, визуализация данных всей страницы, включая статистику наилучших статистических данных N, тренд HTTP-запросов и журнал с выборкой, будет обновлен, что позволит вам обнаружить любые аномалии либо среди одного из наборов наилучших статистических данных N, либо среди тенденции HTTP-запросов, основанной на времени.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2022/12/image3-3.png" class="kg-image" alt="Screenshot of analysis signals" loading="lazy"></figure>
	<h3 id="--4">Просмотр журналов выборок</h3>
	<p>После увеличения масштаба определенной части вашего трафика, которая может являться аномалией, журналы выборок предоставляют подробное представление для проверки вашего обнаружения по HTTP-запросу. Это важнейший шаг в рабочем процессе исследования безопасности, подтвержденный высоким коэффициентом вовлеченности при изучении данных об использовании таких журналов, просматриваемых в событиях безопасности (Security Events). Хотя мы добавляем больше данных в каждую запись журнала, расширенное представление журнала со временем становится менее читаемым. Соответственно, мы переработали расширенное представление, начиная с реакции Cloudflare на запрос, затем наши сигналы анализа и, наконец, заканчивая ключевыми компоненты самого необработанного запроса. Изучая эти сведения, вы подтверждаете свою гипотезу об аномалии и принимаете решение о необходимости принятия каких-либо мер по ее нейтрализации.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2022/12/image5-3.png" class="kg-image" alt="Screenshot of sampled logs with one log entry expanded" loading="lazy"></figure>
	<h3 id="--5">Полезные информация для начала работы</h3>
	<p>При внутреннем тестировании прототипа этой аналитической панели мы выяснили, что степень гибкости приводит к увеличению кривой обучения. Чтобы помочь вам начать осваивать гибкость, разработана удобная панель <em>аналитики</em>. Эти аналитические данные созданы для того, чтобы выделить конкретные аспекты вашего общего трафика. Простым щелчком мыши на любом из результатов анализа применяется набор фильтров, увеличивающих масштаб непосредственно той части вашего трафика, которая вас интересует. Здесь вы можете просмотреть журналы выборок или дополнительно настроить любой из примененных фильтров. Данный подход был подтвержден дальнейшими внутренними исследованиями высокоэффективного рабочего процесса, который во многих случаях станет вашей отправной точкой при использовании этой информационной панели.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image1-11.png" class="kg-image" alt="Screenshot of 5 insights of different perspective of total traffic" loading="lazy"></figure>
	<h2 id="--6">Как мне это получить?</h2>
	<p>Новая система Security Analytics постепенно развертывается для всех клиентов плана Enterprise, которые приобрели новые пакеты Application Security Core или Advanced. В ближайшем будущем мы планируем развернуть эту систему для всех других клиентов. Это новое представление будет находиться рядом с существующей информационной панелью Security Events.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image8-2.png" class="kg-image" alt="Screenshot of updated navigation of security analytics and security events" loading="lazy"></figure>
	<h2 id="--7">Что дальше</h2>
	<p>Мы все еще находимся на ранней стадии перехода к модели <em>«обнаружение, затем нейтрализация»</em>, которая обеспечит вам больше возможностей мониторинга и интеллектуальных функций для лучшей защиты ваших веб-приложений. Пока мы работаем над расширением возможностей обнаружения, поделитесь с нами своими мыслями и отзывами, чтобы помочь нам улучшить наши результаты. Если вы хотите получить доступ раньше, обратитесь к своим специалистам по работе с клиентами, чтобы приступить.</p>
</div>