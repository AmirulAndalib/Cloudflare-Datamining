{
	"locale": "en-us",
	"post": {
		"id": "609a7755b8baa401ba2ec02d",
		"uuid": "a800e579-010d-47aa-a799-905acc214cce",
		"title": "Announcing WARP for Linux and Proxy Mode",
		"slug": "announcing-warp-for-linux-and-proxy-mode",
		"html": "<figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/05/image4-6.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>Last October we released <a href=\"http://blog.cloudflare.com/warp-for-desktop/\">WARP for Desktop</a>, bringing a safer and faster way to use the Internet to billions of devices for free. At the same time, we gave our enterprise customers the ability to use WARP with Cloudflare for Teams. By routing all an enterprise's traffic from devices anywhere on the planet through WARP, we’ve been able to seamlessly power advanced capabilities such as <a href=\"https://www.cloudflare.com/teams/gateway/\">Secure Web Gateway</a> and <a href=\"http://blog.cloudflare.com/browser-isolation-for-teams-of-all-sizes/\">Browser Isolation</a> and, in the future, our <a href=\"http://blog.cloudflare.com/data-loss-prevention/\">Data Loss Prevention</a> platforms.</p><p>Today, we are excited to announce Cloudflare WARP for Linux and, across all desktop platforms, the ability to use WARP with single applications instead of your entire device.</p><h2 id=\"what-is-warp\">What is WARP?</h2><p>WARP was built on the philosophy that even people who don’t know what <a href=\"https://www.cloudflare.com/learning/access-management/what-is-a-vpn/\">“VPN” stands for</a> should be able to still easily get the protection a VPN offers. It was also built for those of us who are unfortunately all too familiar with traditional corporate VPNs, and need an innovative, seamless solution to meet the challenges of an always-connected world.</p><p>Enter our own WireGuard implementation called <a href=\"http://blog.cloudflare.com/boringtun-userspace-wireguard-rust/\">BoringTun</a>.</p><p>The WARP application uses BoringTun to encrypt traffic from your device and send it directly to Cloudflare’s edge, ensuring that no one in between is snooping on what you're doing. If the site you are visiting is already a Cloudflare customer, the content is immediately sent down to your device. With WARP+, we use Argo Smart Routing to use the shortest path through our global network of data centers to reach whomever you are connecting to.</p><p>Combined with the power of <a href=\"https://one.one.one.one/\">1.1.1.1</a> (the <a href=\"https://www.dnsperf.com/#!dns-resolvers\">world's fastest</a> public DNS resolver), WARP keeps your traffic secure, private and fast. Since nearly everything you do on the Internet starts with a DNS request, choosing the fastest DNS server across all your devices will accelerate almost everything you do online.</p><h2 id=\"bringing-warp-to-linux\">Bringing WARP to Linux</h2><p>When we built out the foundations of our desktop client last year, we knew a Linux client was something we would deliver. If you have ever shipped software at this scale, you'll know that maintaining a client across all major operating systems is a daunting (and error-prone) task. To avoid these pitfalls, we wrote the core of the product in Rust, which allows for 95% of the code to be shared across platforms.</p><p>Internally we refer to this common code as the shared Daemon (or Service, for Windows folks), and it allows our engineers to spend less time duplicating code across multiple platforms while ensuring most quality improvements hit everyone at the same time. The really cool thing about this is that millions of existing WARP users have already helped us solidify the code base for Linux!</p><p>The other 5% of code is split into two main buckets: UI and quirks of the operating system. For now, we are forgoing a UI on Linux and instead working to support three distributions:</p><ul><li>Ubuntu</li><li>Red Hat Enterprise Linux</li><li>CentOS</li></ul><p>We want to add more distribution support in the future, so if your favorite distro isn't there, don’t despair — the client may in fact already work with other Debian and Redhat based distributions, so please give it a try. If we missed your favorite distribution, we’d love to hear from you in our <a href=\"https://community.cloudflare.com/\">Community Forums</a>.</p><p>So without a UI — what's the mechanism for controlling WARP? The command line, of course! Keen observers may have noticed an executable that already ships with each client called the warp-cli. This platform-agnostic interface is already the preferred mechanism of interacting with the daemon by some of our engineers and is the main way you’ll interact with WARP on Linux.</p><h2 id=\"installing-cloudflare-warp-for-linux\">Installing Cloudflare WARP for Linux</h2><p>Seasoned Linux developers can jump straight to <a href=\"https://pkg.cloudflareclient.com/install\">https://pkg.cloudflareclient.com/install</a>. After linking our repository, get started with either <code>sudo apt install cloudflare-warp</code> or <code>sudo yum install cloudflare-warp</code>, depending on your distribution.</p><p>For more detailed installation instructions head over to our <a href=\"https://developers.cloudflare.com/warp-client/setting-up/linux/\">WARP Client documentation</a>.</p><h2 id=\"using-the-cli\">Using the CLI</h2><p>Once you’ve installed WARP, you can begin using the CLI with a single command:</p><!--kg-card-begin: markdown--><pre><code>warp-cli --help\n</code></pre>\n<!--kg-card-end: markdown--><p>The CLI will display the output below.</p><!--kg-card-begin: markdown--><pre><code>~$ warp-cli --help\nWARP 0.2.0\nCloudflare\nCLI to the WARP service daemon\n \nUSAGE:\n    warp-cli [FLAGS] [SUBCOMMAND]\n \nFLAGS:\n        --accept-tos    Accept the Terms of Service agreement\n    -h, --help          Prints help information\n    -l                  Stay connected to the daemon and listen for status changes and DNS logs (if enabled)\n    -V, --version       Prints version information\n \nSUBCOMMANDS:\n    register                    Registers with the WARP API, will replace any existing registration (must be run\n                                before first connection)\n    teams-enroll                Enroll with Cloudflare for Teams\n    delete                      Deletes current registration\n    rotate-keys                 Generates a new key-pair, keeping the current registration\n    status                      Asks the daemon to send the current status\n    warp-stats                  Retrieves the stats for the current WARP connection\n    settings                    Retrieves the current application settings\n    connect                     Asks the daemon to start a connection, connection progress should be monitored with\n                                -l\n    disconnect                  Asks the daemon to stop a connection\n    enable-always-on            Enables always on mode for the daemon (i.e. reconnect automatically whenever\n                                possible)\n    disable-always-on           Disables always on mode\n    disable-wifi                Pauses service on WiFi networks\n    enable-wifi                 Re-enables service on WiFi networks\n    disable-ethernet            Pauses service on ethernet networks\n    enable-ethernet             Re-enables service on ethernet networks\n    add-trusted-ssid            Adds a trusted WiFi network, for which the daemon will be disabled\n    del-trusted-ssid            Removes a trusted WiFi network\n    allow-private-ips           Exclude private IP ranges from tunnel\n    enable-dns-log              Enables DNS logging, use with the -l option\n    disable-dns-log             Disables DNS logging\n    account                     Retrieves the account associated with the current registration\n    devices                     Retrieves the list of devices associated with the current registration\n    network                     Retrieves the current network information as collected by the daemon\n    set-mode                    \n    set-families-mode           \n    set-license                 Attaches the current registration to a different account using a license key\n    set-gateway                 Forces the app to use the specified Gateway ID for DNS queries\n    clear-gateway               Clear the Gateway ID\n    set-custom-endpoint         Forces the client to connect to the specified IP:PORT endpoint\n    clear-custom-endpoint       Remove the custom endpoint setting\n    add-excluded-route          Adds an excluded IP\n    remove-excluded-route       Removes an excluded IP\n    get-excluded-routes         Get the list of excluded routes\n    add-fallback-domain         Adds a fallback domain\n    remove-fallback-domain      Removes a fallback domain\n    get-fallback-domains        Get the list of fallback domains\n    restore-fallback-domains    Restore the fallback domains\n    get-device-posture          Get the current device posture\n    override                    Temporarily override MDM policies that require the client to stay enabled\n    set-proxy-port              Set the listening port for WARP proxy (127.0.0.1:{port})\n    help                        Prints this message or the help of the given subcommand(s)\n</code></pre>\n<!--kg-card-end: markdown--><p>You can begin connecting to Cloudflare’s network with just two commands. The first command, <code>register</code>, will prompt you to authenticate. The second command, <code>connect</code>, will enable the client, creating a WireGuard tunnel from your device to Cloudflare’s network.</p><!--kg-card-begin: markdown--><pre><code>~$ warp-cli register\nSuccess\n~$ warp-cli connect\nSuccess\n</code></pre>\n<!--kg-card-end: markdown--><p>Once you’ve connected the client, the best way to verify it is working is to run our trace command:</p><!--kg-card-begin: markdown--><pre><code>~$ curl https://www.cloudflare.com/cdn-cgi/trace/\n</code></pre>\n<!--kg-card-end: markdown--><p>And look for the following output:</p><!--kg-card-begin: markdown--><pre><code>warp=on\n</code></pre>\n<!--kg-card-end: markdown--><p>Want to switch from encrypting all traffic in WARP to just using our <a href=\"https://developers.cloudflare.com/1.1.1.1/\">1.1.1.1 DNS resolver</a>? Use the <code>warp-cli set-mode</code> command:</p><!--kg-card-begin: markdown--><pre><code>~$ warp-cli help set-mode\nwarp-cli-set-mode \n \nUSAGE:\n    warp-cli set-mode [mode]\n \nFLAGS:\n    -h, --help       Prints help information\n    -V, --version    Prints version information\n \nARGS:\n    &lt;mode&gt;     [possible values: warp, doh, warp+doh, dot, warp+dot, proxy]\n~$ warp-cli set-mode doh\nSuccess\n</code></pre>\n<!--kg-card-end: markdown--><p>Protecting yourself against <a href=\"http://blog.cloudflare.com/introducing-1-1-1-1-for-families/\">malware with 1.1.1.1 for Families</a> is just as easy, and it can be used with either WARP enabled or in straight DNS mode:</p><!--kg-card-begin: markdown--><pre><code>~$ warp-cli set-families-mode --help\nwarp-cli-set-families-mode \n \nUSAGE:\n    warp-cli set-families-mode [mode]\n \nFLAGS:\n    -h, --help       Prints help information\n    -V, --version    Prints version information\n \nARGS:\n    &lt;mode&gt;     [possible values: off, malware, full]\n~$ warp-cli set-families-mode malware\nSuccess\n</code></pre>\n<!--kg-card-end: markdown--><h2 id=\"a-note-on-cloudflare-for-teams-support\">A note on Cloudflare for Teams support</h2><p>Cloudflare for Teams support is on the way, and just like our other clients, it will ship in the same package. Stay tuned for an in-app update or reach out to your Account Executive to be notified when a beta is available.</p><h2 id=\"we-need-feedback\">We need feedback</h2><p>If you encounter an error, send us feedback with the <code>sudo warp-diag feedback</code> command:</p><!--kg-card-begin: markdown--><pre><code>~$ sudo warp-diag feedback\n</code></pre>\n<!--kg-card-end: markdown--><p>For all other functionality check out <code>warp-cli --help</code> or see <a href=\"https://developers.cloudflare.com/warp-client/\">our documentation here</a>.</p><h2 id=\"warp-as-a-local-proxy\">WARP as a Local Proxy</h2><p>When WARP launched in 2019, one of our primary goals was ease of use. You turn WARP on and all traffic from your device is encrypted to our edge. Through all releases of the client, we’ve kept that as a focus. One big switch to turn on and you are protected.</p><p>However, as we’ve grown, so have the requirements for our client. Earlier this year we released <a href=\"https://developers.cloudflare.com/cloudflare-one/tutorials/split-tunnel\">split tunnel and local domain fallback</a> as a way for our Cloudflare for Teams customers to exclude certain routes from WARP. Our consumer customers may have noticed this stealthily added in the last release as well. We’ve heard from customers who want to deploy WARP in one additional mode: Single Applications. Today we are also announcing the ability for our customers to run WARP in a local proxy mode in all desktop clients.</p><p>When WARP is configured as a local proxy, only the applications that you configure to use the proxy (HTTPS or SOCKS5) will have their traffic sent through WARP. This allows you to pick and choose which traffic is encrypted (for instance, your web browser or a specific app), and everything else will be left open over the Internet.</p><p>Because this feature restricts WARP to just applications configured to use the local proxy, leaving all other traffic unencrypted over the Internet by default, we’ve hidden it in the advanced menu. To turn it on:</p><p>1. Navigate to Preferences -&gt; Advanced and click the Configure Proxy button.</p><p>2. On the dialog that opens, check the box and configure the port you want to listen on.</p><figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/05/image3-4.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>3. This will enable a new mode you can select from:</p><figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/05/image1-5.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>To configure your application to use the proxy, you want to specify 127.0.0.1 for the address and the value you specified for a port (40000 by default). For example, if you are using Firefox, the configuration would look like this:</p><figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/05/image2-3.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><h2 id=\"download-today\">Download today</h2><p>You can start using these capabilities right now by visiting <a href=\"https://one.one.one.one\">https://one.one.one.one</a>. We’re super excited to hear your feedback.</p>",
		"comment_id": "609a7755b8baa401ba2ec02d",
		"feature_image": "http://blog.cloudflare.com/content/images/2021/05/image4-5.png",
		"featured": false,
		"visibility": "public",
		"created_at": "2021-05-11T13:23:49.000+01:00",
		"updated_at": "2022-04-27T00:10:02.000+01:00",
		"published_at": "2021-06-17T14:00:02.000+01:00",
		"custom_excerpt": "Starting today Cloudflare WARP is available for Linux and comes with the ability to run as a local proxy.",
		"codeinjection_head": null,
		"codeinjection_foot": null,
		"custom_template": null,
		"canonical_url": null,
		"authors": [
			{
				"id": "5f7f392808dda903f34149cc",
				"name": "Kyle Krum",
				"slug": "kyle-krum",
				"profile_image": "http://blog.cloudflare.com/content/images/2020/10/KylePhoto.jpg",
				"cover_image": null,
				"bio": null,
				"website": "https://www.linkedin.com/in/kylekrum/",
				"location": null,
				"facebook": null,
				"twitter": "@KyleKrum",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/kyle-krum/"
			}
		],
		"tags": [
			{
				"id": "609aabc7b8baa401ba2ec09c",
				"name": "#BLOG-492",
				"slug": "hash-blog-492",
				"description": null,
				"feature_image": null,
				"visibility": "internal",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/404/"
			},
			{
				"id": "5d16450341acde0011a952a8",
				"name": "WARP",
				"slug": "warp",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/warp/"
			},
			{
				"id": "5d16450341acde0011a951ee",
				"name": "Product News",
				"slug": "product-news",
				"description": "Product News (EN)",
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Product News",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Product News'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/product-news/"
			},
			{
				"id": "5e13bb91135aa90272a71e1e",
				"name": "Cloudflare Zero Trust",
				"slug": "cloudflare-zero-trust",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/cloudflare-zero-trust/"
			},
			{
				"id": "5d16450341acde0011a9524b",
				"name": "1.1.1.1",
				"slug": "1-1-1-1",
				"description": "1.1.1.1 DNS Resolver (EN)",
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/1-1-1-1/"
			},
			{
				"id": "5e150701135aa90272a721d1",
				"name": "Cloudflare Gateway",
				"slug": "gateway",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/gateway/"
			},
			{
				"id": "5d16450341acde0011a95265",
				"name": "Security",
				"slug": "security",
				"description": null,
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Security.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Security",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Security'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/security/"
			},
			{
				"id": "5eafe962ad4c4401bca11b64",
				"name": "Zero Trust",
				"slug": "zero-trust",
				"description": null,
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Zero-Trust.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Zero Trust",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Zero Trust'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/zero-trust/"
			}
		],
		"primary_author": {
			"id": "5f7f392808dda903f34149cc",
			"name": "Kyle Krum",
			"slug": "kyle-krum",
			"profile_image": "http://blog.cloudflare.com/content/images/2020/10/KylePhoto.jpg",
			"cover_image": null,
			"bio": null,
			"website": "https://www.linkedin.com/in/kylekrum/",
			"location": null,
			"facebook": null,
			"twitter": "@KyleKrum",
			"meta_title": null,
			"meta_description": null,
			"url": "http://blog.cloudflare.com/author/kyle-krum/"
		},
		"primary_tag": null,
		"url": "http://blog.cloudflare.com/announcing-warp-for-linux-and-proxy-mode/",
		"excerpt": "Starting today Cloudflare WARP is available for Linux and comes with the ability to run as a local proxy.",
		"reading_time": 7,
		"access": true,
		"comments": false,
		"og_image": "http://blog.cloudflare.com/content/images/2021/06/Announcing-WARP-for-Linux-and-Proxy-Mode-OG-1.png",
		"og_title": null,
		"og_description": null,
		"twitter_image": "http://blog.cloudflare.com/content/images/2021/06/Announcing-WARP-for-Linux-and-Proxy-Mode-OG.png",
		"twitter_title": null,
		"twitter_description": null,
		"meta_title": null,
		"meta_description": "Starting today Cloudflare WARP is available for Linux and comes with the ability to run as a local proxy.",
		"email_subject": null,
		"frontmatter": null,
		"feature_image_alt": null,
		"feature_image_caption": null
	}
}