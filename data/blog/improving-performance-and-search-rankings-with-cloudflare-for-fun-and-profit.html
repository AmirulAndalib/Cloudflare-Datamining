<div class="mb2 gray5">5 min read</div>
<div class="mt4">This post is also available in <a href="https://blog.cloudflare.com/ja-jp/improving-performance-and-search-rankings-with-cloudflare-for-fun-and-profit">日本語</a>.</div><img class="mr2" src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2Mutr4beI8kJ8RD7KPYh2X/54537b17febebd35cd70cdac0971b173/improving-performance-and-search-rankings-with-cloudflare-for-fun-and-profit.png" alt="">
<div class="post-content lh-copy gray1">
	<p>Making things fast is one of the things we do at Cloudflare. More responsive websites, apps, APIs, and networks directly translate into improved conversion and user experience. On November 10th, <a href="https://developers.google.com/search/blog/2020/11/timing-for-page-experience">Google announced</a> that Google Search will directly take web performance and page experience data into account when ranking results on their search engine results pages (SERPs), beginning in May 2021.</p>
	<p>Specifically, Google Search will prioritize results based on how pages score on <a href="https://www.cloudflare.com/learning/performance/what-are-core-web-vitals">Core Web Vitals</a>, a measurement methodology Cloudflare has worked closely with Google to establish, and we have implemented support for in our analytics tools.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1qLZjGPDFLkD51Nd74CQZM/0fd589c0fbd657883f03e4ba4ac3246c/1-4.png" alt="" class="kg-image" width="960" height="540" loading="lazy">

	</figure>
	<p>Source: "Search Page Experience Graphic" by Google is licensed under CC BY 4.0</p>
	<p>The Core Web Vitals metrics are Largest Contentful Paint (LCP, a loading measurement), First Input Delay (FID, a measure of interactivity), and Cumulative Layout Shift (CLS, a measure of visual stability). Each one is directly associated with user perceptible page experience milestones. All three can be improved using our performance products, and all three can be <a href="https://blog.cloudflare.com/start-measuring-web-vitals-with-browser-insights">measured with our Cloudflare Browser Insights product</a>, and soon, with our free privacy-aware <a href="https://www.cloudflare.com/web-analytics">Cloudflare Web Analytics</a>.</p>
	<p>SEO experts have always suspected faster pages lead to better search ranking. With the recent announcement from Google, we can say with confidence that <b>Cloudflare helps you achieve the web performance trifecta</b>: our product suite makes your site faster, gives you direct visibility into how it is performing (and use that data to iteratively improve), and directly drives improved search ranking and business results.</p>
	<blockquote>
		<p><i>"Google providing more transparency about how Search ranking works is great for the open Web. The fact they are ranking using real metrics that are easy to measure with tools like Cloudflare's analytics suite makes Google's recent announcement all the more exciting. Cloudflare offers a full set of tools to make sites incredibly fast and measure ‘incredibly’ directly."</i></p>
		<p>– <b>Matt Weinberg</b>, president of <a href="https://www.happycog.com">Happy Cog</a>, a full-service digital agency.</p>
	</blockquote>
	<div class="flex anchor relative">
		<h3 id="cloudflare-helps-make-your-site-faster">Cloudflare helps make your site faster</h3>
		<a href="https://blog.cloudflare.com/#cloudflare-helps-make-your-site-faster" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Cloudflare offers a diverse, easy to deploy set of products to improve page experience for your visitors. We offer a rich, configurable set of tools to improve page speed, which this post is too small to contain. Unlike Fermat, who once famously described a math problem and then said “the margin is too small to contain the solution”, and then let folks spend three hundred plus years trying to figure out his enigma, I’m going to tell you how to solve web performance problems with Cloudflare. Here are the highlights:</p>
	<div class="flex anchor relative">
		<h3 id="caching-and-smart-routing">Caching and Smart Routing</h3>
		<a href="https://blog.cloudflare.com/#caching-and-smart-routing" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>The typical website is composed of a mix of static assets, like images and product descriptions, and dynamic content, like the contents of a shopping cart or a user’s profile page. Cloudflare caches customers’ static content at our edge, avoiding the need for a full roundtrip to origin servers each time content is requested. Because our edge network places content very close (in physical terms) to users, there is less distance to travel and page loads are consequently faster. Thanks, Einstein.</p>
	<p>And Argo Smart Routing helps speed page loads that require dynamic content. It analyzes and optimizes routing decisions across the global Internet in real-time. Think Waze, the automobile route optimization app, but for Internet traffic.</p>
	<p>Just as Waze can tell you which route to take when driving by monitoring which roads are congested or blocked, Smart Routing can route connections across the Internet efficiently by avoiding packet loss, congestion, and outages.</p>
	<p>Using caching and Smart Routing directly improves page speed and experience scores like Web Vitals. With Google's recent announcement, this also means improved search ranking.</p>
	<div class="flex anchor relative">
		<h3 id="content-optimization">Content optimization</h3>
		<a href="https://blog.cloudflare.com/#content-optimization" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Caching and Smart Routing are designed to reduce and speed up round trips from your users to your origin servers, respectively. Cloudflare also offers features to <i>optimize</i> the content we do serve.</p>
	<p>Cloudflare Image Resizing allows on-demand sizing, quality, and format adjustments to images, including the ability to convert images to modern file formats like WebP and AVIF.</p>
	<p>Delivering images this way to your end-users helps you save bandwidth costs and improve performance, since Cloudflare allows you to optimize images already cached at the edge.</p>
	<p>For WordPress operators, we recently launched Automatic Platform Optimization (APO). With APO, Cloudflare will serve your entire site from our edge network, ensuring that customers see improved performance when visiting your site. By default, Cloudflare only caches static content, but with APO we can also cache dynamic content (like HTML) so the entire site is served from cache. This removes round trips from the origin drastically improving TTFB and other site performance metrics. In addition to caching dynamic content, APO caches third party scripts to further reduce the need to make requests that leave Cloudflare's edge network.</p>
	<div class="flex anchor relative">
		<h3 id="workers-and-workers-sites">Workers and Workers Sites</h3>
		<a href="https://blog.cloudflare.com/#workers-and-workers-sites" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Reducing load on customer origins and making sure we serve the right content to the right clients at the right time are great, but what if customers want to take things a step further and eliminate origin round trips entirely? What if there <i>was no origin</i>? Before we get into Schrödinger’s cat/server territory, we can make this concrete: Cloudflare offers tools to serve entire websites from our edge, without an origin server being involved at all. For more on Workers Sites, check out our <a href="https://blog.cloudflare.com/workers-sites">introductory blog post</a> and peruse our <a href="https://workers.cloudflare.com/built-with">Built With Workers</a> project gallery.</p>
	<p>As big proponents of dogfooding, many of Cloudflare’s own web properties are deployed to Workers Sites, and we use Web Vitals to measure our customers’ experiences.</p>
	<p>Using Workers Sites, our <a href="https://developers.cloudflare.com">developers.cloudflare.com</a> site, which gets hundreds of thousands of visits a day and is critical to developers building atop our platform, is able to attain incredible Web Vitals scores:</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3icEZxB7WvbUhwQbgspKCA/831b6bd4998312cfb1884a7bf8ec921e/2-2.png" alt="" class="kg-image" width="1600" height="570" loading="lazy">

	</figure>
	<p>These scores are superb, showing the performance and ease of use of our edge, our static website delivery system, and our analytics toolchain.</p>
	<div class="flex anchor relative">
		<h3 id="cloudflare-web-analytics-and-browser-insights-directly-measure-the-signals-google-is-prioritizing">Cloudflare Web Analytics and Browser Insights directly measure the signals Google is prioritizing</h3>
		<a href="https://blog.cloudflare.com/#cloudflare-web-analytics-and-browser-insights-directly-measure-the-signals-google-is-prioritizing" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>As illustrated above, <a href="https://blog.cloudflare.com/start-measuring-web-vitals-with-browser-insights/#:~:text=Web%20Vitals%20are%20a%20new,data%20from%20the%20whole%20web.">Cloudflare makes it easy</a> to directly measure Web Vitals with Browser Insights. Enabling Browser Insights for websites proxied by Cloudflare takes one click in the Speed tab of the Cloudflare dashboard. And if you’re <i>not</i> proxying sites through Cloudflare, Web Vitals measurements will be supported in our <a href="https://blog.cloudflare.com/free-privacy-first-analytics-for-a-better-web">upcoming, free, Cloudflare Web Analytics product</a> that any site, using Cloudflare’s proxy or not, can use.</p>
	<p>Web Vitals breaks down user experience into three components:</p>
	<ul>
		<li>
			<p>Loading: How long did it take for content to become available?</p>
		</li>
		<li>
			<p>Interactivity: How responsive is the website when you interact with it?</p>
		</li>
		<li>
			<p>Visual stability: How much does the page move around while loading?</p>
		</li>
	</ul>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/54Igksx7thHQiDLwzhpeFz/472224ed33ef956018811bafbc07a323/3.png" alt="" class="kg-image" width="1600" height="469" loading="lazy">

	</figure>
	<p>This <a href="https://web.dev/vitals">image</a> is reproduced from work created and <a href="https://developers.google.com/terms/site-policies">shared by Google</a> and used according to terms described in the <a href="https://creativecommons.org/licenses/by/4.0">Creative Commons 4.0 Attribution License</a>.</p>
	<p>It’s challenging to create a single metric that captures these high-level components. Thankfully, the folks at Google Chrome team have thought about this, and earlier this year introduced three “Core” Web Vitals metrics: &nbsp;<a href="https://web.dev/lcp">Largest Contentful Paint</a>, &nbsp;<a href="https://web.dev/fid">First Input Delay</a>, and <a href="https://web.dev/cls">Cumulative Layout Shift</a>.</p>
	<p>Cloudflare Browser Insights measures all three metrics directly in your users’ browsers, all with one-click enablement from the Cloudflare dashboard.</p>
	<p>Once enabled, Browser Insights works by inserting a JavaScript "beacon" into HTML pages. You can control where the beacon loads if you only want to measure specific pages or hostnames. If you’re using CSP version 3, we’ll even automatically detect the nonce (if present) and add it to the script.</p>
	<p>To start using Browser Insights, just head over to the Speed tab in the dashboard.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2IHRjBAijCoedt55p1Ezne/d1082ff70c6e99bec6cde854e622ea96/4.png" alt="" class="kg-image" width="1600" height="734" loading="lazy">

	</figure>
	<p><i>An example Browser Insights report, showing what pages on blog.cloudflare.com need improvement.</i></p>
	<div class="flex anchor relative">
		<h3 id="making-pages-fast-is-better-for-everyone">Making pages fast is better for everyone</h3>
		<a href="https://blog.cloudflare.com/#making-pages-fast-is-better-for-everyone" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Google’s announcement that Web Vitals measurements will be a key part of search ranking starting in May 2021 places even more emphasis on running fast, accessible websites.</p>
	<p>Using Cloudflare’s performance tools, like our best-of-breed caching, Argo Smart Routing, content optimization, and Cloudflare Workers® products, directly improves page experience and Core Web Vitals measurements, and now, very directly, where your pages appear in Google Search results. And you don’t have to take our word for this — our analytics tools directly measure Web Vitals scores, instrumenting your real users’ experiences.</p>
	<p>We’re excited to help our customers build fast websites, understand exactly <i>how</i> fast they are, and rank highly on Google search as a result. Render on!</p>
</div>