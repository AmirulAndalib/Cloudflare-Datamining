<div class="mb2 gray5">7 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image5-23.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Cuando el servidor deja de funcionar, se genera un gran problema. Hoy, Cloudflare presentará dos nuevas herramientas para ayudarte a comprender y responder de manera más rápida al tiempo de inactividad del servidor de origen, además de un nuevo servicio para <em>evitar </em>de manera automática el tiempo de inactividad.</p>
	<p>Las nuevas características son las siguientes:</p>
	<ul>
		<li>Comprobaciones de estado independientes, que te notifican apenas detectamos problemas en tu servidor de origen, sin necesidad de un Load Balancer de Cloudflare.</li>
		<li>Supervisión pasiva de origen, que te permite saber cuándo no se puede alcanzar tu servidor de origen, sin necesidad de configuración.</li>
		<li>Conmutación por error sin tiempo de inactividad, que puede evitar de manera automática los errores al reintentar las solicitudes al servidor de origen.</li>
	</ul>
	<h3 id="comprobaciones-de-estado-independientes"><strong>Comprobaciones de estado independientes</strong></h3>
	<p>Nuestra primera herramienta nueva es la comprobación de estado independiente, que te notificará apenas detectemos problemas en tu servidor de origen, sin necesidad de un Load Balancer de Cloudflare.</p>
	<p>Una <em>comprobación de estado</em> es un servicio que se ejecuta en nuestra red perimetral para supervisar si el servidor de origen está en línea. Las comprobaciones de estado son una parte fundamental de nuestro servicio de equilibrio de carga, ya que nos permiten enrutar de forma rápida y activa el tráfico a los servidores de origen que están activos y listos para atender las solicitudes. Las comprobaciones de estado independientes te permiten supervisar el estado de tu servidor de origen incluso si solo tienes un servidor de origen o aún no necesitas equilibrar el tráfico a través de tu infraestructura.</p>
	<p>Hemos proporcionado varios aspectos para que perfecciones exactamente según lo que quieras controlar, lo que incluye el código de respuesta, el tipo de protocolo y el intervalo. Puedes especificar una ruta determinada si tu servidor de origen sirve a varias aplicaciones o puedes controlar un subconjunto más grande de códigos de respuesta para tu entorno de ensayo. Todas estas opciones te permiten orientar correctamente tu comprobación de estado, lo que te brinda un panorama preciso de cuál es la falla en tu servidor de origen.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image7-11.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Si uno de tus servidores de origen deja de estar disponible, recibirás una notificación que te informará el cambio de estado, junto con información detallada sobre el error, para que tomes medidas para restaurar el estado del servidor de origen.</p>
	<p>Por último, una vez configuradas las comprobaciones de estado en los diferentes servidores de origen, es posible que desees ver las tendencias o los principales servidores de origen en mal estado. Con el análisis de la comprobación de estado, podrás ver todos los eventos de cambio para una comprobación de estado determinada, aislar los servidores de origen que pueden ser los principales causantes del problema o de no tener el mismo rendimiento y avanzar con una reparación. Además, en un futuro próximo, trabajaremos para brindarte acceso a todos los eventos sin procesar de la comprobación de estado para que cuentes con la información detallada para comparar los registros de eventos de la comprobación de estado de Cloudflare con los registros del servidor interno.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image8-10.png" class="kg-image" alt="" loading="lazy"></figure>
	<p><br>Los usuarios del plan Pro, Business o Enterprise tendrán acceso a las comprobaciones de estado independientes y a los análisis de comprobación de estado para promover la fiabilidad de las aplicaciones de primer nivel y ayudar a maximizar la confianza de los clientes en la marca. Puedes acceder a comprobaciones de estado independientes y a análisis de comprobación de estado a través de la aplicación Tráffic en el panel de control.</p>
	<h3 id="supervisi-n-pasiva-del-servidor-de-origen"><strong>Supervisión pasiva del servidor de origen</strong></h3>
	<p>Las comprobaciones de estado independientes son una manera muy flexible de entender lo que sucede en el servidor de origen. Sin embargo, requieren de cierta previsión para configurarlas antes de que se produzca una interrupción. Es por eso que nos entusiasma mucho presentar <em>Passive </em>Origin Monitoring, que te notificará de manera automática cuando se produzca un problema: sin necesidad de configuración.</p>
	<p>Cloudflare sabe cuándo tu servidor de origen no funciona, porque somos quienes tratamos de llegar a este para garantizar el tráfico. Cuando detectemos un tiempo de inactividad superior a algunos minutos, te enviaremos un correo electrónico.</p>
	<p>A partir de hoy, puedes configurar alertas de supervisión del servidor de origen que se dirijan a varias direcciones de correo electrónico. Las alertas de supervisión del servidor de origen están disponibles en el nuevo Centro de notificaciones (¡más información sobre esto a continuación!) en el panel de control de Cloudflare:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image6-14.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Passive Origin Monitoring está disponible para los clientes de todos los planes de Cloudflare.</p>
	<h3 id="conmutaci-n-por-error-sin-tiempo-de-inactividad"><strong>Conmutación por error sin tiempo de inactividad</strong></h3>
	<p>¿Qué es mejor que recibir notificaciones sobre tiempo de inactividad? En primer lugar, nunca tener tiempos de inactividad. Con la conmutación por error sin tiempo de inactividad, podemos volver a intentar automáticamente las solicitudes al servidor de origen, incluso antes de que el equilibrio de carga comience a funcionar.</p>
	<p>¿Cómo funciona? Si se produce un error en una solicitud de origen y Cloudflare tiene otro registro para tu servidor de origen, intentaremos con otro origen <em>en la misma solicitud HTTP</em>. El registro alternativo podría ser un registro A/AAAA configurado a través de DNS de Cloudflare u otro servidor de origen en el mismo grupo de equilibrio de carga.</p>
	<p>Considera un sitio web, example.com, que tiene servidores web en dos direcciones IP diferentes: 203.0.113.1 y 203.0.113.2. Antes de la conmutación por error sin tiempo de inactividad, si 203.0.113.1 deja de estar disponible, Cloudflare intentaría conectarse, fallar y, en última instancia, devolver una página de error al usuario. Con la conmutación por error sin tiempo de inactividad, si no se puede conectar con 203.0.113.1, el proxy de Cloudflare intentará conectarse sin inconvenientes a 203.0.113.2. Si el segundo servidor responde, Cloudflare puede evitar que se le presente un error al usuario de example.com.</p>
	<p>Desde que lanzamos la conmutación por error sin tiempo de inactividad hace unas semanas, ¡hemos evitado que fallen decenas de millones de solicitudes por día!</p>
	<p>La conmutación por error sin tiempo de inactividad funciona junto con el equilibrio de carga, las comprobaciones de estado independientes y la supervisión pasiva del servidor de origen para que tu sitio web funcione sin inconvenientes. Las comprobaciones de estado y el equilibrio de carga pueden evitar errores, pero tardan en activarse. La conmutación por error sin tiempo de inactividad funciona al instante, pero aumenta la latencia en cada intento de conexión. En la práctica, la conmutación por error sin tiempo de inactividad resulta útil al <em>inicio</em> de un evento, cuando puede recuperarse instantáneamente de los errores; una vez que una comprobación de estado ha detectado un problema, un Load Balancer puede activarse y redirigir correctamente el tráfico. Y si no hay un servidor de origen disponible, enviaremos una alerta a través de Passive Origin Monitoring.</p>
	<p>Para ver un ejemplo de esto en la práctica, considera un incidente de un cliente reciente. Observaron un pico de errores en su servidor de origen que normalmente haría que la disponibilidad cayera (línea roja), pero gracias a la conmutación por error sin tiempo de inactividad, la disponibilidad real se mantuvo fija (línea azul).</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image4-32.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Durante un período de 30 minutos, la conmutación por error sin tiempo de inactividad mejoró la disponibilidad general de 99,53 % al 99,98 %, y evitó que 140 000 solicitudes HTTP provocaran un error.</p>
	<p>Es importante tener en cuenta que solo intentamos volver a enviar las solicitudes que han fallado durante la fase de conexión TCP o TLS, lo que garantiza que los encabezados HTTP y la carga aún no se han transmitido. Gracias a este mecanismo de seguridad, podemos crear el comportamiento predeterminado de Cloudflare por conmutación de error sin tiempo de inactividad para los planes Pro, Business y Enterprise. En otras palabras, la conmutación por error sin tiempo de inactividad hace que las conexiones a tus servidores de origen sean más confiables sin necesidad de configurar ni de ejecutar ninguna acción.</p>
	<h3 id="pr-ximamente-m-s-notificaciones-mayor-flexibilidad"><strong>Próximamente: más notificaciones, mayor flexibilidad</strong></h3>
	<p>Nuestros clientes siempre nos piden más información sobre el estado de su infraestructura perimetral crítica. Las comprobaciones de estado y la supervisión pasiva del servidor de origen demuestran que Cloudflare ha dado un importante paso hacia un enfoque más preventivo que reactivo en cuanto a la información.</p>
	<p>Para respaldar este trabajo, hoy anunciamos que el Centro de notificaciones es el lugar principal para administrar las notificaciones. Hoy está disponible en el panel de control, y se pude acceder a este desde Inicio de tu cuenta.</p>
	<p>Desde aquí, puedes crear nuevas notificaciones y ver las notificaciones que ya hayas configurado. La versión que presentamos hoy te permite configurar notificaciones de supervisión pasiva del servidor de origen y establecer varios destinatarios de correo electrónico.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/12/image9-6.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Estamos muy entusiasmados con el lanzamiento actual que ayudará a nuestros clientes a evitar tiempos de inactividad. En función de tus comentarios, hemos planificado una gran cantidad de mejoras que te ayudarán a obtener la información que necesitas de manera oportuna:</p>
	<ul>
		<li>Nuevos mecanismos de entrega de notificaciones</li>
		<li>Más eventos que puedan generar notificaciones</li>
		<li>Opciones de configuración avanzadas para comprobaciones de estado, lo que incluye la adición de protocolos, notificaciones en función de umbrales y cambios de estado en función de umbrales.</li>
		<li>Más formas de configurar las comprobaciones de estado pasivas, como la capacidad de agregar umbrales y filtrar a códigos de estado específicos<br></li>
	</ul>
</div>