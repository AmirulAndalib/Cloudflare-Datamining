<div class="mb2 gray5">8 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/EMlilJBrTlnG3Am39_Ri0JM4tkA0BnFjOXfERw3DZMHUfgyV24vTSo2FyRhmbxZN4gVHbL-kQyJZT-0vY924HJcY6TqHbx-sLvIhTr7dRCuqr6O9kW2NB5XJl_7gPSJabEsJrqU" class="kg-image" alt="" loading="lazy"></figure>
	<p>La promesa del proyecto AMP (<a href="https://amp.dev"><em>Accelerated Mobile Pages</em>, “Páginas aceleradas para móviles” en español</a>) era hacer que la web, y en particular la web móvil, fueran más cómodas para navegar. El marco HTML de AMP se diseñó para que las páginas web se cargaran rápidamente, sin distraer al usuario con contenido extraño que impidiera que se concentre en la página web.</p>
	<p>Estaba especialmente dirigido a los editores (como organizaciones de noticias) que querían ofrecer la mejor y más rápida experiencia web para los lectores que se quieren poner al día con las noticias y leer artículos especializados mientras están en movimiento. Más tarde, adquirió valor para cualquier sitio que prioriza su rendimiento en dispositivos móviles, como tiendas de comercio electrónico, bolsas de trabajo y sitios de medios de comunicación.</p>
	<p>Además del marco HTML de AMP, AMP también utilizó las memorias caché que almacenan copias de contenido de AMP cerca de los usuarios finales para que se cargaran lo más rápido posible. Si bien la memoria caché agiliza mucho la carga de páginas web, también presentan un problema: Una página de AMP que se carga desde la memoria caché de Google tiene una URL que comienza con https://google.com/amp/. Esto puede resultar muy confuso para los usuarios finales.</p>
	<p>Los usuarios se han acostumbrado a mirar la barra de navegación en un navegador web para ver qué sitio web están visitando. La memoria caché AMP rompe con esquema. Por ejemplo, aquí vemos una noticia del sitio web de la BBC vista desde la memoria caché AMP de Google:</p>
	<figure class="kg-card kg-image-card"><img src="https://lh5.googleusercontent.com/PgELthk976FKrzOH8-wDv1wzUNeArzPGGCuNIOBaELxsgaV5maLNwQsDajwXVapJhJVijUA5blW1Tw15We6-fOVGlnELxomkSPMbJzEzx314IkMA1wnH78sNhpUrPCyE_LXG7nE" class="kg-image" alt="" loading="lazy"></figure>
	<p>Si observa bien, el navegador muestra que la página es de google.com. Eso se debe a la memoria caché AMP, que hizo que la página se cargara muy rápidamente, pero con un resultado un tanto confuso. En el afán de “solucionar” ese problema, Google muestra ese sitio real en la parte superior de la página de AMP. Allí se puede ver que se trataba de bbc.co.uk. Al hacer clic en bbc.co.uk, aparece la misma página que proporcionan los servidores web de la BBC con bbc.co.uk en la barra de navegación del navegador web:</p>
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/7WCppLKyw2NLed1hWoJRimNuAbD4hWs7igsmg8nqAtJKpiJQVHQvPjNebIKawesxQ-zU5xkN_MmdGo6kkK4OARdHKgIqvHS3n4U2sbwf3kkVmYlstt7yjW-KjPKjCs9d_b0x7IU" class="kg-image" alt="" loading="lazy"></figure>
	<p>Pero los problemas con la lógica de la memoria caché AMP son más complejos que el simple hecho de confundir al usuario. Cuando es la memoria caché de Google la que habilita la página, no hay manera de que el lector compruebe la autenticidad de esta última. Cuando la página se habilita de forma directa, por ejemplo, desde la BBC, el usuario sabe con seguridad que ese es el nombre de dominio, ve un candado verde que indica que el certificado SSL es válido, e incluso puede hacer clic en este para obtener detalles del certificado.</p>
	<p>En noviembre pasado anunciamos una solución técnica a estos problemas que permitiría que las páginas de AMP se proporcionara desde una memoria caché conservando la URL de la página original y todas sus ventajas. En el<a href="https://blog.cloudflare.com/real-urls-for-amp-cached-content-using-cloudflare-workers">blogpost técnico</a> exhaustivo de Gabbi Fisher y Avery Harnish se brindan todos los detalles. La solución utiliza <a href="https://wicg.github.io/webpackage/draft-yasskin-http-origin-signed-responses.html">Web Packaging</a> (que incorpora algo de uso inteligente decriptografía) para permitir que la memoria caché (habilitada por Google, Cloudflare u otros) pueda mantener una copia de una página de AMP y proporcionarla rápidamente al usuario final, pero también para contener la prueba criptográfica de la procedencia original de la página.</p>
	<p>Con la ayuda de un navegador que entienda Web Packaging, esto permite que una página pueda almacenarse en una memoria caché AMP y proporcionarse rápidamente a través de esta mostrando la URL del sitio original en la barra de navegación del navegador. ¡Una gran victoria en todo sentido!</p>
	<p>La denominamos “AMP Real URL” y es gratis para todos nuestros clientes a partir de hoy.</p>
	<h3 id="c-mo-funciona"><strong>Cómo funciona</strong></h3>
	<p>El rastreador de AMP de Goolge descarga el contenido de su sitio web y lo almacena en la memoria caché AMP varias veces al día. Si su sitio tiene AMP Real URL habilitado, Cloudflare firmará de manera digital el contenido que proporcionamos a ese rastreador para demostrar criptográficamente que fue generado por usted. Esa firma es todo lo que un navegador moderno (actualmente solo Chrome en Android) necesita para mostrar la URL correcta en la barra de direcciones cuando un visitante llega a su contenido de AMP desde los resultados de búsqueda de Google.</p>
	<figure class="kg-card kg-image-card"><img src="https://lh3.googleusercontent.com/vQuuDfCoQnaqWAOdOVVaCZ5bULT9cenI_iBYb0FB-FM0aDIUDFnBTfu0IcDamTwfbJ_vZhlo-orzfeiEI1Ml15AIJ16AGrVhzoYXk0GTJjTYYK_BrABLUNckDFVFEtl3tVlnKEk" class="kg-image" alt="" loading="lazy"></figure>
	<p>Esa maldita barra gris ya es historia, y todo lo que verán sus visitantes será la URL correcta:</p>
	<figure class="kg-card kg-image-card"><img src="https://lh6.googleusercontent.com/u7QhrXEZeXauRB_wppbHX-XIi82dWvb6IzbHL96SbHRM_Wv2ERQ8MV55E729KNoXCgRbV32u93EVUFSNQgKHQ_XZZcDAwg2JR39Z6dN1_UlJy4v343CjM3ks7W67zIpt6Q2zWHw" class="kg-image" alt="" loading="lazy"></figure>
	<p>Es importante destacar que la memoria caché AMP de Google es la que sigue proporcionando su sitio, tal como antes; nada de esto tiene costo para su optimización de motores de búsqueda (SEO, <em>Search Engine Optimization</em>) o rendimiento web.</p>
	<p>Desde nuestro anuncio original tuvimos la oportunidad de interactuar con docenas de miembros de la industria editorial y de comercio electrónico, y nos gustaría compartir lo que aprendimos.</p>
	<h3 id="estado-de-amp"><strong>Estado de AMP</strong></h3>
	<p>El proyecto AMP iniciado por Google genera un gran porcentaje del tráfico móvil y ha mejorado en gran medida la experiencia de navegar por internet desde un teléfono. Muchos de los sitios con los que nos hemos contactado obtienen hasta el 50 % de su tráfico web a través de AMP, y el beneficio de velocidad que ofrece se traduce directamente en mejores tasas de conversión.</p>
	<p>AMP Real URL brinda grandes beneficios a los sitios que utilizan AMP:</p>
	<ul>
		<li>Protección de la marca: los usuarios web saben que la URL en la barra de dirección tiene importancia. El hecho de aparezca google.com en la parte superior de una página de contenido hace que el editor no pueda mantener una presencia exclusiva en internet.</li>
		<li>Análisis más sencillo: AMP Real URL simplifica en gran medida el análisis web para sus usuarios, ya que permite que todos los visitantes, de AMP o de otro tipo, coexistan en el mismo dominio de seguimiento.</li>
		<li>Más espacio en la pantalla: tradicionalmente, cuando se usaba AMP, la “barra gris” ocupaba espacio en la parte superior de su sitio para mostrar la URL real. Con AMP Real URL, eso ya no es necesario.</li>
		<li>Menor tasa de rebote: creemos que los visitantes del sitio web son menos propensos a rebotar a Google u otro sitio cuando el dominio real del editor aparece en la barra de direcciones, pero recopilaremos más datos sobre esto a medida que se implemente AMP Real URL.</li>
		<li>Firma de contenido: Como se basa en técnicas de encriptado, AMP Real URL garantiza que el contenido que se ofrece a los visitantes no se manipule, lo que permite proteger los sitios y las marcas en los que se utiliza. Ahora no es posible que ningún agente externo agregue, quite o modifique el contenido de un sitio.</li>
	</ul>
	<p>También hablamos con los usuarios de internet de AMP, y sin duda hay frustraciones. Hay algunos usuarios que lidian con su complejidad, o sitios que simplemente no lo pueden cargar. A otros les molesta y los confunde la “barra gris” en la parte superior de la página y el trabajo que requiere obtener la URL original de una página. Por último, hay quienes desean asegurarse de que Google no modifique el contenido de las páginas cuando estas pasan por la memoria caché AMP.</p>
	<p>Por suerte, AMP Real URL soluciona todos estos problemas. Verifica que los sitios estén <a href="https://blog.cloudflare.com/real-urls-for-amp-cached-content-using-cloudflare-workers">firmados criptográficamente</a>, y de esta forma evita que Google o cualquier otra persona los modifiquen, incluso cuando se entregan físicamente desde un dominio que usted no controla. Si el sitio se cambia de alguna manera, el navegador garantiza que su URL real ya no aparezca. También simplifica enormemente a AMP, pues soluciona muchos de los problemas de confiabilidad que experimentan las personas: los enlaces que funcionan con URL Real AMP no se abren mediante la compleja mecánica de iframe que tradicionalmente utiliza AMP, sino que se cargan como cualquier otro sitio web (Google usa <a href="https://css-tricks.com/prefetching-preloading-prebrowsing">rel=”prefetch”</a> para aprovechar gran parte del mismo beneficio de rendimiento). Por último, la “barra gris” no es necesaria, ya que en la barra de direcciones de la parte superior de la página aparece la URL correcta, y el proceso de copiar la URL de un sitio para guardar o compartir funciona de la misma manera que para sitios web que no son AMP.</p>
	<p>También aprovechamos esta oportunidad para dar de baja los otros productos y experimentos de AMP que hemos desarrollado durante estos años, como <a href="https://blog.cloudflare.com/amp-validator-api">Ampersand</a> y<a href="https://blog.cloudflare.com/firebolt">Firebolt</a>. Esos productos fueron innovadores, pero fuimos descubriendo que los editores valoran los productos AMP que son compatibles con los resultados de búsqueda de Google, no los que quedan al margen. Hace varias semanas se informó a los usuarios que esos productos antiguos que se descontinuarán en forma gradual, a fin de concentrar nuestra atención en AMP Real URL.</p>
	<h3 id="en-su-sitio"><strong>En su sitio</strong></h3>
	<p>Hoy, Google está implementando compatibilidad con AMP Real URL (que se conoce como <a href="https://developers.google.com/web/updates/2018/11/signed-exchanges"><em>Signed Exchanges</em></a> fuera de Cloudflare), comenzando con los principales resultados de búsqueda de Google. Con el tiempo, se espera que se extienda a otras áreas de la página de resultados de búsqueda, incluso al área de noticias “Noticias destacadas” en la parte superior de la página. Esto hace que AMP Real URL sea más valioso hoy en día para los sitios que obtienen la mayor parte de su tráfico de AMP de los principales resultados de búsqueda, como el comercio electrónico, las bolsas de trabajo y los sitios con anuncios. Los editores de noticias pueden y deberían habilitar AMP Real URL, pero el beneficio que obtendrán ahora será de los resultados de búsqueda que no forman parte de las “Noticias destacadas”. AMP Real URL solo es compatible en este momento con el navegador Chrome, pero somos optimistas y creemos que su compatibilidad se ampliará a medida que el beneficio para los usuarios de internet se torne más evidente.</p>
	<p>Después de hablar con los editores y los usuarios de internet, decidimos no cobrar por el servicio AMP Real URL. Esto no es porque nuestros clientes no se hayan entusiasmado o no hayan querido pagar por el servicio, pues AMP constituye un gran componente del tráfico de muchos sitios. Nuestra motivación sigue siendo la de ofrecer servicios de CDN o SSL a millones de clientes de forma gratuita; estamos aquí para ayudar a crear una mejor internet y la mejora de AMP es un gran paso en esa dirección. Creemos que AMP Real URL es una tecnología que mejorará significativamente la web móvil y que debe aplicar a cada sitio que sea compatible con AMP. Tenemos otro motivo: esperamos que esto anime a los clientes potenciales que valoran AMP a elegir Cloudflare.</p>
	<p>A partir de hoy encontrará una nueva sección en la pestaña Velocidad de su panel de control de Cloudflare:</p>
	<figure class="kg-card kg-image-card"><img src="https://lh6.googleusercontent.com/nEK9THS4drhHEhdvfrVOBQuElMRmla_GOYG1O7lI3odVw9CzVxsNwLU_WRWu9uMHzMONhlfMPV2sci55wNVpiz5iKjLqm7gDmbDo3wdZsB7W9JLJJaBNz_kxiRfNtP25nkh1hPg" class="kg-image" alt="" loading="lazy"></figure>
	<p>Implementaremos la compatibilidad con AMP Real URL en etapas durante las próximas semanas. Actívelo ahora y le notificaremos cuando se active en su dominio. Si es un cliente empresarial y le interesa el servicio, comuníquese con nosotros para que podamos adelantar su activación.</p>
	<p>Le dejaremos algunas opiniones de los primeros usuarios de AMP Real URL:</p>
	<blockquote>“Los beneficios de rendimiento de AMP aportan valor a nuestro negocio y estamos ansiosos por ver cómo AMP Real URL llevará esto aún más lejos”<br>– Solomon Moskalenko, director de Interactive, US Xpress Trucking, The Johnson Group</blockquote>
	<blockquote>“AMP es un factor fundamental para que nuestro negocio crezca y para llegar a clientes de todas partes. Con AMP Real URL, ahora tenemos más control sobre nuestra marca y podemos ejecutar análisis en nuestro sitio de negocios”.<br>– Sumantro Das, director sénior, Product Innovations &amp; Growth Brands GM, 1-800-FLOWERS.COM</blockquote>
	<blockquote>“AMP ha desempeñado un papel clave para que podamos llegar de manera más efectiva a nuestro público y desarrollar nuestra comunidad en línea. Nos interesa utilizar AMP Real URL para administrar mejor nuestra presencia en línea y mantener a nuestros usuarios comprometidos con el sitio”.<br>– Andrew Warner, director técnico (CTO) de Genius</blockquote>
</div>