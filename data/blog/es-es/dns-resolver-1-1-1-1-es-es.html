<div class="mb2 gray5">9 min read</div>
<div class="post-content lh-copy gray1">
	<p>La misión de Cloudflare es ayudar a construir un mejor Internet, y hoy lanzamos nuestro resolutor de DNS, <a href="https://1.1.1.1">1.1.1.1</a>: un servicio de DNS recursivo. Con esta oferta, estamos arreglando los cimientos de Internet mediante el desarrollo de un resolutor de DNS público, centrado en la privacidad, más rápido y más seguro. El resolutor de DNS, 1.1.1.1, está disponible públicamente para que todos puedan utilizarlo: es el primer servicio orientado al consumidor que ha lanzado Cloudflare.</p>
	<p></p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/04/1.1.1.1-2.svg" class="kg-image" alt="" loading="lazy"></figure>
	<p></p>
	<p>Estamos utilizando las siguientes direcciones IPv4 para nuestro resolutor: <strong>1.1.1.1</strong> y <strong>1.0.0.1</strong>. Fácil de recordar. APNIC ha proporcionado estas direcciones a Cloudflare para realizar una investigación conjunta y para este servicio. Puede leer más acerca de su trabajo en el <a href="https://labs.apnic.net/?p=1127">blog de APNIC</a>.</p>
	<p>El resolutor de DNS, 1.1.1.1, se sirve de la <a href="https://www.cloudflare.com/network">red</a> global Anycast de Cloudflare.</p>
	<h2 id="antecedentes-un-r-pido-repaso-sobre-el-papel-del-resolutor-en-dns"><strong>Antecedentes: Un rápido repaso sobre el papel del resolutor en DNS</strong></h2>
	<p>Nuestros amigos de <a href="https://dnsimple.com">DNSimple</a> han realizado este increíble tutorial de DNS para que cualquiera pueda sacarse las dudas sobre el <a href="https://howdns.works">funcionamiento de DNS</a>. Explican todo sobre los resolutores, los servidores de nombre raíz y mucho más de un modo muy informativo.</p>
	<p></p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/04/dnsimple-howdns-works.png" class="kg-image" alt="" loading="lazy"></figure>
	<p></p>
	<p>Al resolver un nombre de dominio, una consulta viaja de su sistema final (es decir, un navegador web) a un servicio de DNS recursivo. Si el registro de DNS no está en el caché local del servicio, el recursor consultará la jerarquía DNS autorizada para encontrar la información de la dirección IP que está buscando. El recursor es la parte que desempeña el resolutor de DNS, 1.1.1.1. ¡Tiene que ser rápido y muy seguro estos días!</p>
	<h2 id="objetivos-para-el-resolutor-de-dns-1-1-1-1"><strong>Objetivos para el resolutor de DNS, 1.1.1.1</strong></h2>
	<p>Nuestros objetivos con el resolutor público son simples: CloudFlare quiere operar el resolutor público más rápido del planeta a la vez que eleva el estándar de las protecciones de privacidad para los usuarios. Para acelerar el Internet, ya estamos construyendo centros de datos en todo el mundo para reducir la distancia (es decir, la latencia) de los usuarios al contenido. Finalmente, queremos que todos se encuentren a 10 milisegundos de por lo menos una de nuestras ubicaciones.</p>
	<p></p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/04/Cloudflare_and_world-population-map.png" class="kg-image" alt="" loading="lazy"></figure>
	<p></p>
	<p>Solamente en marzo, habilitamos 31 nuevos centros de datos a nivel mundial (<a href="https://blog.cloudflare.com/istanbul-not-constantinople">Estambul</a>, <a href="https://blog.cloudflare.com/reykjavik-cloudflares-northernmost-location">Reikiavik</a>, <a href="https://blog.cloudflare.com/riyadh">Riad</a>, <a href="https://blog.cloudflare.com/macau">Macao</a>, <a href="https://blog.cloudflare.com/baghdad">Bagdad</a>, <a href="https://blog.cloudflare.com/usa-expansion">Houston, Indianápolis, Montgomery, Pittsburgh, Sacramento</a>, <a href="https://blog.cloudflare.com/mexico-city">México</a>, <a href="https://blog.cloudflare.com/tel-aviv">Tel Aviv</a>, <a href="https://blog.cloudflare.com/durban-and-port-louis">Durban, Port Louis</a>, <a href="https://blog.cloudflare.com/cebu">Cebú</a>, <a href="https://blog.cloudflare.com/edinburgh">Edimburgo</a>, <a href="https://blog.cloudflare.com/riga-tallinn-vilnius">Riga, Tallin, Vilna</a>, <a href="https://blog.cloudflare.com/welcome-calgary-saskatoon-and-winnipeg">Calgary, Saskatoon, Winnipeg</a>, <a href="https://blog.cloudflare.com/more-us-data-centers">Tallahassee Jacksonville, Memphis,</a>, <a href="https://blog.cloudflare.com/bogota">Bogotá</a>, <a href="https://blog.cloudflare.com/luxembourg-chisinau">Ciudad de Luxemburgo, Chisinau</a>) y, al igual que en todas las otras ciudades en nuestra red, nuevos sitios ejecutan el Resolutor de DNS, 1.1.1.1 desde el primer día.</p>
	<p>Nuestra red rápida y altamente distribuida se ha desarrollado para servir a cualquier protocolo y, actualmente, somos el mayor proveedor autorizado de DNS en Internet, una capacidad que han aprovechado más de 7 millones de propiedades de Internet. Además, ya proporcionamos un servicio de anycast a dos de trece de los servidores de nombres raíz. El siguiente paso lógico era proporcionar un servicio DNS recursivo más rápido para los usuarios. Nuestro recursor puede aprovechar los servidores autorizados que están coubicados con nosotros, y así obtener búsquedas más rápidas para todos los nombres de dominio.</p>
	<p>A pesar de que DNSSEC asegura la integridad de los datos entre un resolutor y un servidor autoritativo, no protege la privacidad de la «última milla" hacia su parte. El resolutor de DNS, 1.1.1.1, admite ambos estándares emergentes de privacidad DNS: DNS-mediante-TLS, y DNS-mediante-HTTPS. Ambos proporcionan un cifrado de última milla para mantener sus consultas de DNS privadas y sin manipulaciones.</p>
	<h2 id="concientizar-a-nuestro-resolutor-sobre-de-la-privacidad"><strong>Concientizar a nuestro resolutor sobre de la privacidad</strong></h2>
	<p>Históricamente, el recursor envía el nombre del dominio completo a cualquier intermediario que encuentre en su camino al DNS raíz o autoritativo. Esto quiere decir que si va a <a href="https://blog.cloudflare.com/dns-resolver-1-1-1-1/www.cloudflare.com">www.cloudflare.com</a>, el servidor raíz y el servidor .com serían consultados con el nombre de dominio completo (es decir, las partes de www, cloudflare y com), a pesar de que los servidores raíz solo tienen que redireccionar el recursivo al punto com (independiente de cualquier otra cosa en el nombre de dominio totalmente cualificado). Esta facilidad de acceso a toda esta información de navegación personal mediante DNS supone una grave brecha de privacidad para muchos. Esto se ha abordado con varios paquetes de software de resolutores, aunque no todas las soluciones se han adaptado o desplegado ampliamente.</p>
	<p>El resolutor de DNS, 1.1.1.1, ofrece, desde el primer momento, todos los mecanismos de protección de privacidad propuestos y definidos para su uso entre el resolutor stub y el resolutor recursivo. Para aquellos que no estén familiarizados, un resolutor stub es un componente de su sistema operativo que habla con el resolutor recursivo. Solo con el uso de DNS Query Name Minimisation definido en <a href="https://tools.ietf.org/html/rfc7816">RFC7816</a>, el resolutor de DNS, 1.1.1.1, reduce la información que se filtra a los servidores DNS intermediarios, como la raíz y los TLD. Eso quiere decir que el resolutor de DNS, 1.1.1.1, envía solo lo suficiente del nombre para que la autoridad indique al resolutor dónde hacer la siguiente pregunta.</p>
	<p>El resolutor de DNS, 1.1.1.1, también admite consultas TLS con privacidad habilitada en el puerto 853 (<a href="https://developers.cloudflare.com/1.1.1.1/dns-over-tls">DNS mediante TLS</a>), para que podamos mantener las consultas ocultas de redes intrusas. Además, al ofrecer el protocolo DoH experimental (<a href="https://developers.cloudflare.com/1.1.1.1/dns-over-https">DNS mediante HTTPS</a>), mejoramos tanto la privacidad como un número de futuras aceleraciones para los usuarios finales, puesto que los navegadores y otras aplicaciones ahora pueden mezclar tráfico DNS y HTTPS en una sola conexión.</p>
	<p>Con la caché negativa agresiva de DNS, como se describe en <a href="https://tools.ietf.org/html/rfc8198"> RFC8198</a>, podemos disminuir todavía más la carga en el sistema global de DNS. Esta técnica primero intenta usar la memoria caché negativa del resolutor existente que mantiene la información negativa (o inexistente) a mano por un período de tiempo. Para zonas firmadas con DNSSEC y de los registros de NSEC en caché, el resolutor puede averiguar si el nombre solicitado NO existe sin necesidad de hacer otra consulta. Así que si escribe wwwwwww punto algo y luego wwww punto algo, la segunda consulta bien podría ser respondida con un «no» instantáneo (NXDOMAIN en el mundo DNS). La memoria caché negativa agresiva solo funciona con zonas firmadas de DNSSEC, que incluyen tanto la raíz como 1400 de los 1544 TLD firmados hoy.</p>
	<p>Utilizamos la validación de <a href="https://blog.cloudflare.com/dnssec-an-introduction">DNSSEC</a> cuando es posible, ya que nos permite asegurarnos de que las respuestas sean exactas y no estén manipuladas. El coste de las verificaciones de firma es bajo, y el ahorro potencial que obtenemos de la caché negativa agresiva lo compensa sobradamente. Queremos que nuestros usuarios confíen en las respuestas que proporcionamos y, por tanto, realizamos todas las comprobaciones posibles para evitar dar malas respuestas a los clientes.</p>
	<p>Sin embargo, <a href="https://blog.cloudflare.com/dnssec-complexities-and-considerations">DNSSEC</a> es implacable. Los errores en la configuración de DNSSEC de parte de operadores de DNS autoritativos pueden hacer irresolubles tales dominios mal configurados. Para tratar con este problema, Cloudflare configurará «Anclajes de confianza negativa» en los dominios con errores DNSSEC investigados y detectados, y los eliminará una vez que la configuración sea rectificada por operadores autoritativos. Esto limita el impacto de los dominios DNSSEC rotos al deshabilitar temporalmente la validación de DNSSEC para un determinado dominio mal configurado, lo que restaura el acceso a los consumidores finales.</p>
	<h2 id="-c-mo-lo-desarrollamos"><strong>¿Cómo lo desarrollamos?</strong></h2>
	<p>Inicialmente, pensamos en desarrollar nuestro propio resolutor, pero este enfoque se rechazó debido a la complejidad y a las consideraciones de go-to-market. Entonces examinamos todos los resolutores de código abierto del mercado; de esta larga lista nos quedamos con dos o tres que serían adecuados para cubrir la mayor parte de los objetivos del proyecto. Al final, decidimos construir el sistema alrededor de <a href="https://www.knot-resolver.cz">Knot Resolver de CZ NIC</a>. Es un resolutor moderno que se lanzó originalmente hace aproximadamente dos años y medio. Al seleccionar Knot Resolver, también aumentamos la diversidad de software. El punto crítico fue que tenía más características principales de las que queríamos, con una arquitectura modular similar a <a href="https://openresty.org">OpenResty</a>. Knot Resolver se encuentra en pleno uso y desarrollo.</p>
	<h2 id="cosas-interesantes-que-hacemos-y-nadie-m-s-hace"><strong>Cosas interesantes que hacemos y nadie más hace</strong></h2>
	<p>Las recientes características avanzadas que queríamos eran:</p>
	<ul>
		<li>Minimización de consulta <a href="https://tools.ietf.org/html/rfc7816">RFC7816</a>,</li>
		<li>DNS-mediante-TLS (Seguridad de la capa de transporte) <a href="https://tools.ietf.org/html/rfc7858">RFC7858</a>,</li>
		<li>Protocolo DNS-mediante-HTTPS <a href="https://datatracker.ietf.org/wg/doh/about">DoH</a>,</li>
		<li>Respuestas negativas agresivas <a href="https://tools.ietf.org/html/rfc8198">RFC8198</a>,</li>
	</ul>
	<p>Pequeño aviso: el principal desarrollador original de Knot Resolver, <a href="https://blog.cloudflare.com/author/marek">Marek Vavruša</a>, ha estado trabajando en el equipo de DNS de Cloudflare durante más de dos años.</p>
	<h2 id="c-mo-hacer-que-nuestro-resolutor-sea-m-s-r-pido"><strong>Cómo hacer que nuestro resolutor sea más rápido</strong></h2>
	<p>Hay muchos factores que afectan la velocidad de un resolutor. La primera y principal es: ¿puede responder desde la caché? Si puede, entonces el tiempo de respuesta es solo el tiempo de ida y vuelta para un paquete del cliente al resolutor.</p>
	<p></p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2019/04/1.1.1.1-dns-resolver-performance.png" class="kg-image" alt="" loading="lazy"></figure>
	<p></p>
	<p>Cuando un resolutor necesita una respuesta de una autoridad, las cosas se vuelven un poco más complicadas. Un resolutor tiene que seguir la jerarquía DNS para resolver un nombre, lo que significa que tiene que hablar con múltiples servidores autoritativos a partir de la raíz. Por ejemplo, nuestro resolutor en Buenos Aires, Argentina, necesitará más tiempo para seguir una jerarquía DNS que nuestro resolutor en Frankfurt, Alemania, debido a su proximidad a los servidores autorizados. Para tratar con este problema, rellenamos automáticamente nuestra caché, fuera de banda, para nombres populares, que significa que cuando entra una consulta, las respuestas se pueden traer desde la caché, lo cual es mucho más rápido. En las próximas semanas, publicaremos blogs en relación con algunas de las otras cosas que estamos haciendo para mejorar y acelerar el resolutor, incluida nuestra caché rápida.</p>
	<p>Un problema con nuestra amplia red es que la proporción de acierto de la caché es inversamente proporcional al número de nodos configurados en cada centro de datos. Si solo hubiera un nodo en un centro de datos que esté cerca suyo, podría estar seguro de que si pide dos veces la misma consulta, obtendría una respuesta de caché la segunda vez. Sin embargo, como hay cientos de nodos en cada uno de nuestros centros de datos, puede obtener una respuesta sin caché pagando el precio de latencia por cada solicitud. Una solución común es poner un equilibrador de carga de caché delante de todos sus resolutores, lo que desgraciadamente presenta un punto único de fallo. Nosotros no hacemos puntos únicos de fallo.</p>
	<p>En lugar de depender de una caché centralizada, el resolutor de DNS, 1.1.1.1, utiliza una innovadora caché distribuida, de la que hablaremos más tarde en el blog.</p>
	<h2 id="pol-tica-de-datos"><strong>Política de datos</strong></h2>
	<p>Este es el trato: nunca jamás almacenamos las direcciones IP del cliente, y solo utilizamos nombres de consulta para cosas que mejoran el rendimiento del resolutor de DNS (como rellenar automáticamente todas las cachés en base a los dominios populares en una región o después de la ofuscación y la investigación de APNIC).</p>
	<p>CloudFlare nunca almacenará información en sus registros que identifique a un usuario final, y todos los registros que recopile nuestro resolutor público se eliminarán en 24 horas. Seguiremos cumpliendo con nuestra <a href="https://developers.cloudflare.com/1.1.1.1/commitment-to-privacy/privacy-policy/privacy-policy">política de privacidad</a> y nos aseguraremos de que los datos de los usuarios no se vendan a anunciantes ni se utilicen para captar consumidores.</p>
	<h2 id="la-configuraci-n"><strong>La configuración</strong></h2>
	<p>¡Vea <a href="https://1.1.1.1">https://1.1.1.1/</a> porque es muy simple!</p>
	<h2 id="acerca-de-esas-direcciones"><strong>Acerca de esas direcciones</strong></h2>
	<p>Agradecemos a APNIC, nuestro socio, por las direcciones IPv4 1.0.0.1 y 1.1.1.1 (de las que todo el mundo reconoce que son increíblemente fáciles de recordar). Sin sus años de investigación y pruebas, sería imposible poner estas direcciones en producción. Con todo, todavía tenemos un largo camino por recorrer. Siga atento para enterarse de nuestras aventuras con esas IP en futuros blogs.</p>
	<p>Para IPv6, hemos elegido 2606:4700:4700::1111 y 2606:4700:4700::1001 para nuestro servicio. No es tan fácil conseguir buenas direcciones de IPv6; sin embargo, hemos elegido una dirección que solo utiliza dígitos.</p>
	<p>Pero, ¿por qué utilizar direcciones fáciles de recordar? ¿Qué tienen de especial los resolutores públicos? A pesar de que utilizamos nombres para casi todo lo que hacemos, se necesita dar ese primer paso en el proceso, y ahí es donde entran en juego estos números. Necesitamos un número ingresado en cualquier ordenador o dispositivo conectado que esté utilizando para encontrar un servicio de resolutor.</p>
	<p>Cualquiera en internet puede utilizar el resolutor público. Para ver cómo hacerlo, visite <a href="https://1.1.1.1">https://1.1.1.1/</a> y haga clic en <strong>EMPEZAR</strong>.</p>
	<h2 id="-por-qu-anunciarlo-el-primero-de-abril"><strong>¿Por qué anunciarlo el primero de abril?</strong></h2>
	<p>Para la mayor parte del mundo, el domingo es 01/04/2018 (en EE. UU., el día y el mes se invierten: 04/01/2018). ¿Ve el <strong>4</strong> y el <strong>1</strong>? Nosotros sí lo vimos y por eso anunciamos hoy <strong>1.1.1.1</strong>. ¡Cuatro unos! Si le ayuda a recordar <strong>1.1.1.1</strong>, ¡entonces es algo bueno!</p>
	<p>Claro, también es el <a href="https://en.wikipedia.org/wiki/April_Fools%27_Day">día de los inocentes de abril</a>, y para una buena parte de la gente es un día de chistes, tonterías o bromas inofensivas. Esto no es ningún chiste, ni broma, ni tontería. ¡Esto es el resolutor de DNS, <a href="https://1.1.1.1">1.1.1.1</a> ! Sígalo en #1dot1dot1dot1</p>
	<p>Etiquetado con <a href="https://blog.cloudflare.com/tag/dns">DNS</a>, <a href="https://blog.cloudflare.com/tag/1-1-1-1">1.1.1.1</a>, <a href="https://blog.cloudflare.com/tag/privacy">Privacidad</a>, <a href="https://blog.cloudflare.com/tag/resolver">Resolutor</a>, Noticias de productos<br></p>
</div>