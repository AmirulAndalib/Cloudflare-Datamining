<div class="post-content lh-copy gray1">
	<!--kg-card-begin: markdown-->
	<p class="attribution">
		In honor of all the fervor around Bitcoin, we thought it would be fun to revisit the role finance has had in the history of technology even before the Internet came around. This was adapted from a post which originally appeared on the Eager blog.</p>
	<p class="teaser">
		On 10th of April 1814, almost one hundred thousand troops fought the battle of
		Toulouse in Southern France. The war had ended on April 6th. Messengers
		delivering news of Napoleon Is abdication and the end of the war wouldn’t reach
		Toulouse until April 12th.
	</p>
	<p>The issue was not the lack of a rapid communication system in France, it just hadn’t expanded far enough yet. France had an <a href="https://web.archive.org/web/20160310150944/http://www.ieeeghn.org/wiki/images/1/17/Dilhac.pdf" target="_blank">elaborate semaphore system</a>. Arranged all around the French countryside were buildings with <a href="http://bnrg.cs.berkeley.edu/~randy/Courses/CS39C.S97/optical/optical.html" target="_blank">mechanical flags</a> which could be rotated to transmit specific characters to the next station in line. When the following station showed the same flag positions as this one, you knew the letter was acknowledged, and you could show the next character. This system allowed roughly one character to be transmitted per minute, with the start of a message moving down the line at almost <a href="http://www.lowtechmagazine.com/2007/12/email-in-the-18.html" target="_blank">900 miles per hour</a>. It wouldn’t expand to Toulouse until 1834 however, twenty years after the Napoleonic battle.</p>
	<figure class="standard">
		<img src="https://blog.cloudflare.com/content/images/2017/12/semaphore.png" alt="Semaphore Tower">
		<figcaption>
			Cappy Telegraph System
		</figcaption>
	</figure>
	<h3 id="stocksandtrades">Stocks and Trades</h3>
	<p>It’s should be no secret that money motivates. Stock trading presents one of the most obvious uses of fast long-distance communication. If you can find out about a ship sinking or a higher than expected earnings call before other traders, you can buy or sell the right stocks and make a fortune.</p>
	<p>In France, it was strictly forbidden to use the semaphore system for anything other than government business however. Being such a public method of communication, it wasn’t really possible for an enterprising investor to ‘slip in’ a message without discovery. The ‘Blanc brothers’ figured out one method however. They discovered they could bribe the operator to include one extra bit of information, the “Error - cancel last transmitted symbol” control character with a message. If an operative spotted that symbol, they knew it <a href="https://books.google.com/books?id=APJ7QeR_XPkC&amp;pg=PA21&amp;lpg=PA21&amp;dq=semaphore+arbitrage+france&amp;source=bl&amp;ots=fORT7ZdmtX&amp;sig=2_1f_7Ry6mTKAAI32s0D0mdsLAY&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwiLgYXvp5bOAhVJXB4KHexjAt4Q6AEIOjAE#v=onepage&amp;q=semaphore%20arbitrage%20france&amp;f=false" target="_blank">was time to buy</a>.</p>
	<p>Semaphore had several advantages over an electric telegraph. For one, there were no lines to cut, making it easier to defend during war. Ultimately though, its slow speed, need for stations every ten miles or so, and complete worthlessness at night and in bad weather made its time on this earth limited.</p>
	<h3 id="thirtysixdaysoutoflondon">Thirty-Six Days Out of London</h3>
	<p>Ships crossing the Atlantic were never particularly fast. We American’s didn’t learn of the end of our own revolution at the Treaty of Versailles until October 22nd, almost two months after it had been signed. The news came from a ship “<a href="https://web.archive.org/web/20000307031413/http://webandwire.com/storey1.htm" target="_blank">thirty-six days out of london</a>”.</p>
	<p>Anyone who could move faster could make money. At the end of the American Civil War, Jim Fisk chartered high speed ships to speed to London and short Confederate Bonds before the news could reach the British market. He made a fortune.</p>
	<p>It wasn’t long before high speed clipper ships were making the trip with mail and news in twelve or thirteen days regularly. Even then though, there was fierce competition among newspapers to get the information first. New York newspapers like the Herald and the Tribune banded together to form the New York Associated Press (now known just as the Associated Press) to pay for a boat to meet these ships 50 miles off shore. The latest headlines were sent back to shore via pigeon or the growing telegraph system.</p>
	<h3 id="thegoldindicator">The Gold Indicator</h3>
	<p><img src="https://blog.cloudflare.com/content/images/2017/12/gold-indicator.png" alt="Law’s Gold Indicator" loading="lazy"></p>
	<p>Most of the technology used by the morse code telegraph system was built to satisfy the demands of the finance industry.</p>
	<p>The first financial indicator was a pointer which sat above the gold exchange in New York. In our era of complex technology, the pointer system has the refreshing quality of being very simple. An operator in the exchange had a button which turned a motor. The longer he held the button down, the further the motor spun, changing the indication. This system had no explicit source of ‘feedback’, beyond the operator watching the indicator and letting go of his button when it looked right.</p>
	<p>Soon, other exchanges were clamoring for a similar indicator. Their motors were wired to those of the Gold Exchange. This did not form a particularly reliable system. Numerous boys had to run from site to site, resetting the indicators when they came out of sync from that at the Gold Exchange.</p>
	<h3 id="thetickertape">The Ticker Tape</h3>
	<blockquote>
		<p>
			I am crushed for want of means. My stockings all want to see my mother, and my hat is hoary from age.
		</p>
		<p>
			— Samuel Morse, in his diary
		</p>
	</blockquote>
	<p>This same technology formed the basis for the original ticker tape machines. A printing telegraph from this era communicated using a system of pulses over a wire. Each pulse would move the print head one ‘step’ on a racheting wheel. Each step would align a different character with the paper to be printed on. A longer pulse over the wire would energize an electromagnet enough to stamp the paper into the print head. Missing a single pulse though would send the printer out of alignment creating a 19th century version of <a href="https://en.wikipedia.org/wiki/Mojibake" target="_blank">Mojibake</a>.</p>
	<p>It was Thomas Edison who invented the ‘automatic rewinder’, which allowed the machines to be synchronized remotely. The first system used a screw drive. If you moved the print head through three full revolutions without printing anything, you would reach the end of the screw and it would stop actually rotating at a known character, aligning the printers. Printing an actual character would reset the screw. A later system of Edisons used the polarity of the wire to reset the system. If you flipped the polarity on the wire, switching negative and positive, the head would continue to turn in response to pulses, but it would stop at a predefined character, allowing you to ‘reset’ any of the printers which may have come out of alignment. This was actually a big enough problem that there is an entire US Patent Classification devoted to ‘Union Devices’ (<a href="http://www.patentec.com/data/class/defs/178/41.html" target="_blank">178/41</a>).</p>
	<blockquote>
		<p>
			It will therefore be understood from the above explanation that the impression
			of any given character upon the type-wheel may be produced upon the paper by an
			operator stations at a distant point, ... simply by transmitting the proper
			number of electrical impulses of short duration by means of a
			properly-constructed circuit-breaker, which will cause the type-wheel to
			revolve without sensibly affecting the impression device. When the desired
			character is brought opposite the impression-lever the duration of the final
			current is prolonged, and the electro-magnet becomes fully magnetized, and
			therefore an impression of the letter or character upon the paper is produced.
		</p>
		<p>
			— Thomas A. Edison, Patent for the Printing Telegraph <a href="http://pdfpiw.uspto.gov/.piw?docid=00103924&amp;PageNum=3&amp;IDKey=E8127CDB1E2C&amp;HomeUrl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO1%2526Sect2%3DHITOFF%2526d%3DPALL%2526p%3D1%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsrchnum.htm%2526r%3D1%2526f%3DG%2526l%3D50%2526s1%3D0103924.PN.%2526OS%3DPN%2F0103924%2526RS%3DPN%2F0103924" target="_blank"><code>1870</code></a>
		</p>
	</blockquote>
	<p>Ticker tape machines used their own vocabulary:</p>
	<pre><code>IBM 4S 651/4
</code></pre>
	<p>Meant 400 shares of IBM had just been sold for $65.25 per share (stocks were priced using fractions, not decimal numbers).</p>
	<p>Ticker tape machines delivered a continuous stream of quotes while the market was open. The great accumulation of used ticker tape led to the famous ‘Ticker Tape parades’, where thousands of pounds of the tape would be thrown from windows on Wall Street. Today we still have ticker tape parades, but not the tape itself, the paper is bought <a href="http://www.minyanville.com/mvpremium/2011/05/12/does-anyone-use-ticker-tape" target="_blank">specifically to be thrown out the window</a>.</p>
	<h3 id="translux">Trans-Lux</h3>
	<p>What’s the best way to share the stock ticker tape with a room full of traders? The early solution was a chalkboard where relevant stock trades could be written and updated throughout the day. Men were also employed to read the ticker and remember the numbers, ready to recall the most recent prices when asked.</p>
	<p>A better <a href="https://www.google.com/patents/US2307433?dq=inassignee%3A%22Trans+Lux+Corp%22&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwid2bnezqDOAhWRZj4KHXo2DTUQ6AEILDAC" target="_blank">solution</a> came from the Trans-Lux company in 1939 however. They devised a printer which would print on translucent paper. The numbers could then be projected onto a screen from the rear, creating the first large stock ticker everyone could read.</p>
	<figure class="standard">
		<img src="https://blog.cloudflare.com/content/images/2017/12/translux.jpg" alt="Trans-lux Stock Ticker">
		<figcaption>
			Trans-lux Projection Stock Ticker
		</figcaption>
	</figure>
	<p>This was improved through the creation of the Trans-Lux Jet. The <a href="https://www.google.com/patents/US3589672?dq=inassignee%3A%22Trans+Lux+Corp%22&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwiBu5qP0KDOAhVEFh4KHYS_DI04ChDoAQhaMAk" target="_blank">Jet</a> was a continuous tape composed of flippable cards. One side of each card was a bright color while the other was black. As each card passed by a row of electrically-controlled pneumatic jets, some were flipped, writing out a message which would pass along the display just as modern stock tickers do. The system would be controlled using a shift register which would read in the stock quotes and translate them into pneumatic pulses.</p>
	<h3 id="thequotron">The Quotron</h3>
	<p>The key issue with a stock ticker is you have to be around when a trade of stock you care about is printed. If you miss it, you have to search back through hundreds of feet of tape to get the most recent price. If you couldn’t find the price, the next best option was a call to the trading floor in New York. What traders needed was a way of looking up the most recent quote for any given stock.</p>
	<p>In 1960 Jack Scantlin released the Quotron, the first computerized solution. Each brokerage office would become host to a Quotron ‘main unit’, which was a reasonably sized ‘computer’ equipped with a magnetic tape write head and a separate magnetic tape read head. The tape would continually feed while the market was open, the write head keeping track of the current stock trades coming in over the stock ticker lines. When it was time to read a stock value, the tape would be unspooled between the two heads falling into a bucket. This would allow the read head to find the latest value of the stock even as the write head continued to store trades.</p>
	<figure class="standard">
		<img src="https://blog.cloudflare.com/content/images/2017/12/quotron.png" alt="Quotron Keypad">
		<figcaption>
			Quotron Keypad
		</figcaption>
	</figure>
	<p>Each desk would be equipped with a keypad / printer combination unit which allowed a trader to enter a stock symbol and have the latest quote print onto a slip of paper. A printer was used because electronic displays were too expensive. In the words of engineer Howard Beckwith:</p>
	<blockquote>
		<p>
			We considered video displays, but the electronics
			to form characters was too expensive then. I also
			considered the “Charactron tube” developed by
			Convair in San Diego that I had used at another
			company . . . but this also was too expensive, so
			we looked at the possibility of developing our own
			printer. As I remember it, I had run across the
			paper we used in the printer through a project
			at Electronic Control Systems where I worked
			prior to joining Scantlin. The paper came in widths
			of about six inches, and had to be sliced . . . I
			know Jack Scantlin and I spent hours in the
			classified and other directories and on the phone
			finding plastic for the tape tank, motors to drive
			the tape, pushbuttons, someone to make the desk
			unit case, and some company that would slice the
			tape. After we proved the paper could be exposed
			with a Xenon flash tube, we set out to devise a
			way to project the image of characters chosen by
			binary numbers stored in the shift register. The
			next Monday morning Jack came in with the idea
			of the print wheel, which worked beautifully.
		</p>
	</blockquote>
	<p>The main ‘computer’ in each office was primitive by our standards. For one, it didn’t include a microprocessor. It was a hardwired combination of a shift register and some comparison and control logic. The desk units were connected with a 52-wire cable, giving each button on each unit its own wire. This was necessary because they units contained no logic themselves, their printing and button handling logic is all handled in the main computer.</p>
	<blockquote>
		<p>
			When a broker in the office selected an exchange,
			entered a stock symbol, and requested a
			last price on his desk unit, the symbol would be
			stored in relays in the main unit, and the playback
			sprocket would begin driving the tape backwards
			over a read head at about ten feet per second,
			dumping the tape into the bin between the
			two heads (market data would continue to be recorded
			during the read operation). The tape data
			from the tracks for the selected exchange would
			be read into a shift register, and when the desired
			stock symbol was recognized, the register
			contents would be “frozen,” and the symbol and
			price would be shifted out and printed on the desk
			unit.
		</p>
	</blockquote>
	<p>Only a single broker could use the system at a time:</p>
	<blockquote>
		<p>
			If no desk units were in use, the main unit
			supplied power to all desk units in the office, and
			the exchange buttons on each unit were lit. When
			any broker pressed a lit button, the main unit
			disconnected the other desk units, and waited for
			the request from the selected desk unit. The desk
			unit buttons were directly connected to the main
			unit via the cable, and the main unit contained
			the logic to decode the request. It would
			then search the tape, as described above, and when
			it had an answer ready, would start the desk unit
			paper drive motor, count clock pulses from the
			desk unit (starting, for each character, when it
			detected an extra-large, beginning-of-wheel gap
			between pulses), and transmit a signal to operate
			the desk unit flash tube at the right time to print
			each character.
		</p>
	</blockquote>
	<h3 id="ultronics">Ultronics</h3>
	<p>The Quotron system provided a vast improvement over a chalk board, but it was far from perfect. For one, it was limited to the information available over the ticker tape lines, which didn’t include information like the stocks volume, earnings, and dividends. A challenger named Ultronics created a system which used a similar hardwired digital computer, but with a <a href="https://en.wikipedia.org/wiki/Drum_memory" target="_blank">drum memory</a> rather than a magnetic tape.</p>
	<figure class="standard">
		<img src="https://blog.cloudflare.com/content/images/2017/12/drum-memory.jpg" alt="Drum memory">
		<figcaption>
			Drum Memory
		</figcaption>
	</figure>
	<p>The logic was advanced enough to allow the system to calculate volume, high and low for each stock as the data was stored. Rather than store one of these expensive memory units in every brokerage, Ultronics had centralized locations around the US which were connected to brokerages and each other using 1000 bps Dataphone lines.</p>
	<p>This system notably used a form of packet addressing, possibly for the first time ever. When each stock quote was returned it included the address of the terminal which had made the request. That terminal was able to identify the responses meant for it based on that address, allowing all the terminals to be connected to the same line.</p>
	<h3 id="quotronii">Quotron II</h3>
	<blockquote>
		<p>
			At one time during system checkout we had a very elusive problem which we
			couldn’t pin down. In looking over the programs, we realized that the symptoms
			we were seeing could occur if an unconditional jump instruction failed to jump.
			We therefore asked CDC whether they had any indication that that instruction
			occasionally misbehaved. The reply was, “Oh, no. That’s one of the more
			reliable instructions,” This was our first indication that commands could be
			ordered by reliability. </p>
		<p>
			— Montgomery Phister, Jr. <code>1989</code>
		</p>
	</blockquote>
	<p>Facing competition from the Ultronics quote computers, it was time for Jack Scantlin’s team to create something even more powerful. What they created was the Quotron II. The Quotron II was powered by magnetic core memory, an early form of random-access memory which allowed them to read and store any stock’s value in any order. Unfortunately there wasn’t actually enough memory. They had 24K of memory to store 3000 securities.</p>
	<blockquote>
		<p>
			One stock sold for over $1000;
			some securities traded in 32nds of a dollar; the prices to be stored included
			the previous day’s close, and the day’s open, high, low, and last, together
			with the total number of shares traded-the volume. Clearly we’d need 15 bits
			for each price (ten for the $1000, five for the 32nds), or 75 bits for the five
			prices alone. Then we’d need another 20 for a four-letter stock symbol, and at
			least another 12 for the volume. That added up to 107 bits (nine words per
			stock, or 27,000 words for 3000 stocks) in a format that didn’t fit
			conveniently into 12-bit words.
		</p>
	</blockquote>
	<p>Their solution was to store most of the stocks in a compressed format. Each stocks previous closing price was stored in 11 bits, and store the other four values as six bit increments from that number. Any stocks priced over $256, stocks which used fractions smaller than eighths, and too large increments, were stored in a separate overflow memory area.</p>
	<p>The Quotron II system was connected to several remote sites using eight Dataphone lines which provided a total bandwidth of 16 kbps.</p>
	<p>The fundamental system worked by having one 160A computer read stock prices from a punch tape (using about 5000 feet of tape a day) into the common memory. A second 160A responded to quote requests over the Dataphone lines. The remote offices were connected to bankers office using teletype lines which could transmit up to 100 words-per-minute where a device would forward the messages to the requesting terminal.</p>
	<p>It’s somewhat comforting to learn that hack solutions are nothing new:</p>
	<blockquote>
		<p>
			Once
			the system was in operation, we had our share of troubles. One mysterious
			system failure had the effect of cutting off service to all customers in the
			St. Louis area. Investigation revealed that something was occasionally turning
			off some 160A memory bits which enabled service to that region. The problem was
			“solved” for a time by installing a patch which periodically reinstated those
			bits, just in case.
		</p>
	</blockquote>
	<p>The system was also notable for introducing the +/- tick to represent if a stock had gone up or down since the last trade. It also added some helpful calculated quantities such as the average price change of all NYSE stocks.</p>
	<p>The story of Quotron II showcases the value of preparing for things to go wrong even if you’re not exactly sure how they will, and graceful degradation:</p>
	<blockquote>
		<p>
			Jack
			Scantlin was worried about this situation, and had installed a feature in the
			Quotron program which discarded these common-memory programs, thus making more
			room for exceptions, when the market went haywire. On the day President Kennedy
			was assassinated, Jack remembers sitting in his office in Los Angeles watching
			features disappear until brokers could get nothing but last prices.
		</p>
		<p>
			Those of us who worked on Quotron II didn’t use today’s labels.
			Multiprogramming, multiprocessor, packet, timesharing-we didn’t think in those
			terms, and most of us had never even heard them. But we did believe we were
			breaking new ground; and, as I mentioned earlier, it was that conviction more
			than any other factor that made the work fascinating, and the time fly.
		</p>
	</blockquote>
	<p>It’s valuable to remember that as easy as this system might be to create with modern technology, it was a tremendous challenge at the time. “Most of us lived Quotron 12 to 14 hour days, six and a half days a week; but the weeks flew by, and before we turned around twice, five years were gone...”</p>
	<h3 id="nasdaq">NASDAQ</h3>
	<blockquote>
		<p>
			Anyone who has ever been involved with the demonstration of an on-line process
			knows what happens next. With everyone crowded around to watch, the previously
			infallible gear or program begins to fall apart with a spectacular display of
			recalcitrance. Well so it went. We set the stage, everyone held their breath,
			and then the first query we keyed in proceeded to pull down the whole software
			structure.</p>
	</blockquote>
	<figure class="standard">
		<img src="https://blog.cloudflare.com/content/images/2017/12/nasdaq.jpg" alt="NASDAQ terminal">
		<figcaption>
			NASDAQ Terminal
		</figcaption>
	</figure>
	<p>Feeling pressure from the SEC to link all the nation’s securities markets, the National Association of Securities Dealers decided to build an ‘<a href="https://books.google.com/books?id=anGeHoYoTDQC&amp;pg=PA34&amp;lpg=PA34&amp;dq=nasdaq+bunker+ramo+univac+1108&amp;source=bl&amp;ots=Wq7M7cDNQY&amp;sig=ZwPPmeW1lbeqCztKWeFuq10lAr4&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjbjtiZyYLOAhUIwj4KHfMaDygQ6AEIKzAC#v=onepage&amp;q&amp;f=false" target="_blank">automated quotation service</a>’ for their stocks. Unlike a stock ticker, which provides the price of the last trade of a stock, the purpose of the NASDAQ system was to allow traders to advertise the prices they would accept to other traders. This was extremely valuable, as before the creation of this system, it was left to each trader to strike a deal with their fellow stock brokers, a very different system than the roughly ‘single-price-for-all’ system we have today.</p>
	<p>The NASDAQ system was powered by two Univac 1108 computers for <a href="https://babel.hathitrust.org/cgi/pt?id=mdp.39015077928664%3Bview%3D1up%3Bseq%3D241" target="_blank">redundancy</a>. The central system in Connecticut was connected to regional centers in Atlanta, Chicago, New York and San Francisco where requests were aggregated and disseminated. As of December 1975 there was 20,000 miles of dedicated telephone lines connecting the regional centers to 642 brokerage offices.</p>
	<p>Each NASDAQ terminal was composed of a CRT screen and dedicated keyboard. A request for a stock would return the currently available bid and ask price of each ‘market maker’ around the country. The market makers where the centers where stock purchases were aggregated and a price set. The trader could quickly see where the best price was available, and call the market maker to execute his trade. Similarly, the market makers could use the terminal units to update their quotations and transmit the latest values. This type of detailed ‘per-market-maker’ information is actually still a part of the NASDAQ system, but it’s only accessible to paying members.</p>
	<p>One thing this system didn’t do is support trading via computer, without calling the money maker on the phone (the AQ in NASDAQ actually stands for ‘Automated Quotations’, no stock purchasing capability was originally intended). This became a problem on Black Monday in 1987 when the stock market lost almost a quarter of its value in a single day. During the collapse, many money makers couldn’t keep up with the selling demand, leaving many small investors facing big loses with no way to sell.</p>
	<p>In response the NASDAQ created the <a href="https://en.wikipedia.org/wiki/Small-order_execution_system" target="_blank">Small Order Execution System</a> which allowed small orders of a thousand shares or less to be traded automatically. The theory was these small trades didn’t require the man-to-man blustering and bargaining which was necessary for large-scale trading. Eventually this was phased out, in favor of the nearly all computerized trading based system we have today.</p>
	<h3 id="now">Now</h3>
	<p>Today over three trillion dollars worth of stocks are traded every month on computerized stock exchanges. The stocks being traded represent over forty billion dollars worth of corporate value. With the right credentials and backing it’s <a href="https://en.wikipedia.org/wiki/List_of_trading_losses" target="_blank">possible</a> to gain or lose billions of dollars in minutes.</p>
	<p>These markets make it possible for both the average citizen and billion dollar funds to invest in thousands of companies. In turn, it allows those companies to raise the money they need to (hopefully) grow.</p>
	<br>
	<p>Our next post in this series is on the history of digital communication before the Internet came along. Subscribe to be notified of its release.</p>
	<style>
		/* Hide period after author */

		.post-header .meta a {
			border-right: 5px solid white;
			margin-right: -5px;
			position: relative;
		}

		/* Post */

		body {
			background-color: white;
		}

		pre,
		code {
			font-size: inherit;
			line-height: inherit;
		}

		section.primary-content {
			line-height: 1.6;
			color: black;
		}

		blockquote {
			padding-bottom: 1.5em;
			padding-top: 1em;
			font-style: italic;
			font-size: 1.2rem;
		}

		blockquote.pull-quote-centered {
			font-size: 1.2em;
			text-align: center;
			max-width: 100%;
			margin-left: auto;
			margin-right: auto;
		}

		blockquote blockquote {
			margin-left: 1em;
			padding-left: 1em;
			border-left: 5px solid rgba(0, 0, 0, 0.2);
			padding-bottom: 0.5em;
			padding-top: 0.5em;
			margin-bottom: 0.5em;
			margin-top: 0.5em;
		}

		p.attribution {
			color: #666;
			font-size: 1em;
			padding-bottom: 1em;
		}

		a code.year {
			text-decoration: underline;
		}

		figure.standard {
			margin: 2em 0;
		}
	</style><!--kg-card-end: markdown-->
</div>