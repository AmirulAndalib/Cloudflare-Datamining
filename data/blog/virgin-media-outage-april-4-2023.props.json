{
	"locale": "en-us",
	"post": {
		"id": "642c7086adcb86000a7175fd",
		"uuid": "a9847ba1-ed7a-4e2d-aefd-72e0fe85d85d",
		"title": "Cloudflare’s view of the Virgin Media outage in the UK",
		"slug": "virgin-media-outage-april-4-2023",
		"html": "<p>Just after midnight (UTC) on April 4, subscribers to UK ISP Virgin Media (AS5089) began experiencing an Internet outage, with subscriber complaints multiplying rapidly on platforms including <a href=\"https://twitter.com/search?q=(%40virginmedia)%20until%3A2023-04-05%20since%3A2023-04-04&amp;src=typed_query&amp;f=live\">Twitter</a> and <a href=\"https://www.reddit.com/r/VirginMedia/\">Reddit</a>.</p><p>Cloudflare Radar data shows Virgin Media traffic dropping to near-zero around 00:30 UTC, as seen in the figure below. Connectivity showed some signs of recovery around 02:30 UTC, but fell again an hour later. Further nominal recovery was seen around 04:45 UTC, before again experiencing another complete outage between around 05:45-06:45 UTC, after which traffic began to recover, reaching expected levels around 07:30 UTC.</p><p>After the initial set of early-morning disruptions, Virgin Media experienced another round of issues in the afternoon. Cloudflare observed instability in traffic from Virgin Media’s network (called an <a href=\"https://www.cloudflare.com/en-gb/learning/network-layer/what-is-an-autonomous-system/\">autonomous system</a> in Internet jargon) <a href=\"https://radar.cloudflare.com/as5089\">AS5089</a> starting around 15:00 UTC, with a significant drop just before 16:00 UTC. However in this case, it did not appear to be a complete outage, with traffic recovering approximately a half hour later.</p><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"http://blog.cloudflare.com/content/images/2023/04/image2-2.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>Virgin Media’s Twitter account acknowledged the early morning disruption several hours after it began, posting <a href=\"https://twitter.com/virginmedia/status/1643157411417542656\">responses</a> stating <em>“We’re aware of an issue that is affecting broadband services for Virgin Media customers as well as our contact centres. Our teams are currently working to identify and fix the problem as quickly as possible and we apologise to those customers affected.”</em> Further <a href=\"https://twitter.com/virginmedia/status/1643230963797831682\">responses</a> after service restoration noted <em>“We’ve restored broadband services for customers but are closely monitoring the situation as our engineers continue to investigate. We apologise for any inconvenience caused.”</em></p><p>However, the second disruption was acknowledged on Virgin Media’s Twitter account much more rapidly, with a <a href=\"https://twitter.com/virginmedia/status/1643288614585917450\">post</a> at 16:25 UTC stating <em>“Unfortunately we have seen a repeat of an earlier issue which is causing intermittent broadband connectivity problems for some Virgin Media customers. We apologise again to those impacted, our teams are continuing to work flat out to find the root cause of the problem and fix it.”</em></p><p>At the time of the outages, <a href=\"http://www.virginmedia.com\">www.virginmedia.com</a>, which includes the provider’s <a href=\"https://www.virginmedia.com/help/service-status\">status page</a>, was unavailable. As seen in the figure below, a DNS lookup for the hostname resulted in a <a href=\"http://blog.cloudflare.com/unwrap-the-servfail/\">SERVFAIL</a> error, indicating that the lookup failed to return a response. This is because the authoritative nameservers for <code>virginmedia.com</code> are listed as <code>ns{1-4}.virginmedia.net</code>, and these nameservers are all hosted within Virgin Media’s network (AS5089) and thus are not accessible during the outage.</p><figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2023/04/image3-2.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>Although Virgin Media has not publicly released a root cause for the series of disruptions that its network has experienced, looking at <a href=\"https://www.cloudflare.com/en-gb/learning/security/glossary/what-is-bgp/\">BGP</a> activity can be instructive.</p><p>BGP is a mechanism to exchange routing information between networks on the Internet. The big routers that make the Internet work have huge, constantly updated lists of the possible routes that can be used to deliver each network packet to its final destination. Without BGP, the Internet routers wouldn't know what to do, and the Internet wouldn't exist.</p><p>The Internet is literally a network of networks, or for math fans, a graph, with each individual network a node in it, and the edges representing the interconnections. All of this is bound together by BGP, which allows one network (Virgin Media, for instance) to advertise its presence to other networks that form the Internet. When Virgin Media is not advertising its presence, other networks can’t find its network and it becomes effectively unavailable.</p><p>BGP announcements inform a router of changes made to the routing of a prefix (a group of IP addresses) or entirely withdraws the prefix, removing it from the routing table. The figure below shows aggregate BGP announcement activity from AS5089 with spikes that align with the decreases and increases seen in the traffic graph above, suggesting that the underlying cause may in fact be BGP-related, or related to problems with core network infrastructure.</p><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"http://blog.cloudflare.com/content/images/2023/04/image1-5.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>We can drill down further to break out the observed activity between BGP announcements (dark blue) and withdrawals (light blue) seen in the figure below, with key activity coincident with the loss and return of traffic. An initial set of withdrawals are seen just after midnight, effectively removing Virgin Media from the Internet resulting in the initial outage.</p><p>A set of announcements occurred just before 03:00 UTC, aligning with the nominal increase in traffic noted above, but those were followed quickly by another set of withdrawals. A similar announcement/withdrawal exchange was observed at 05:00 and 05:30 UTC respectively, before a final set of announcements restored connectivity at 07:00 UTC.</p><p>Things remained relatively stable through the morning into the afternoon, before another set of withdrawals presaged the afternoon’s connectivity problems, with a spike of withdrawals at 15:00 UTC, followed by additional withdrawal/announcement exchanges over the next several hours.</p><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"http://blog.cloudflare.com/content/images/2023/04/image4-2.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><h3 id=\"conclusion\">Conclusion</h3><p>Track ongoing traffic trends for Virgin Media <a href=\"https://radar.cloudflare.com/as5089\">on Cloudflare Radar</a>, and follow us on <a href=\"https://twitter.com/CloudflareRadar\">Twitter</a> and <a href=\"https://cloudflare.social/@radar\">Mastodon</a> for regular updates.</p>",
		"comment_id": "642c7086adcb86000a7175fd",
		"feature_image": "http://blog.cloudflare.com/content/images/2023/04/image2-3.png",
		"featured": false,
		"visibility": "public",
		"created_at": "2023-04-04T19:46:30.000+01:00",
		"updated_at": "2023-04-04T19:57:46.000+01:00",
		"published_at": "2023-04-04T19:57:46.000+01:00",
		"custom_excerpt": "UK ISP Virgin Media (AS5089) experienced several outages on April 4, 2023. We examine the impact to Internet traffic, availability of Virgin Media web properties, and how BGP activity may provide insights into the underlying cause",
		"codeinjection_head": null,
		"codeinjection_foot": null,
		"custom_template": null,
		"canonical_url": null,
		"authors": [
			{
				"id": "61d5c2cc99c345000af82174",
				"name": "David Belson",
				"slug": "david-belson",
				"profile_image": "http://blog.cloudflare.com/content/images/2022/11/David-Belson.jpeg",
				"cover_image": null,
				"bio": null,
				"website": null,
				"location": null,
				"facebook": null,
				"twitter": "@dbelson",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/david-belson/"
			}
		],
		"tags": [
			{
				"id": "642c7125adcb86000a717603",
				"name": "#BLOG-1774",
				"slug": "hash-blog-1774",
				"description": null,
				"feature_image": null,
				"visibility": "internal",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/404/"
			},
			{
				"id": "5d16450341acde0011a95152",
				"name": "Outage",
				"slug": "outage",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/outage/"
			},
			{
				"id": "5f746602c9353501baf0c835",
				"name": "Cloudflare Radar",
				"slug": "cloudflare-radar",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/cloudflare-radar/"
			},
			{
				"id": "5e8f19bce589a401bcf8595c",
				"name": "Trends",
				"slug": "trends",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/trends/"
			},
			{
				"id": "5d16450341acde0011a9516d",
				"name": "Traffic",
				"slug": "traffic",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/traffic/"
			},
			{
				"id": "5d16450341acde0011a951b7",
				"name": "United Kingdom",
				"slug": "united-kingdom",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/united-kingdom/"
			}
		],
		"primary_author": {
			"id": "61d5c2cc99c345000af82174",
			"name": "David Belson",
			"slug": "david-belson",
			"profile_image": "http://blog.cloudflare.com/content/images/2022/11/David-Belson.jpeg",
			"cover_image": null,
			"bio": null,
			"website": null,
			"location": null,
			"facebook": null,
			"twitter": "@dbelson",
			"meta_title": null,
			"meta_description": null,
			"url": "http://blog.cloudflare.com/author/david-belson/"
		},
		"primary_tag": null,
		"url": "http://blog.cloudflare.com/virgin-media-outage-april-4-2023/",
		"excerpt": "UK ISP Virgin Media (AS5089) experienced several outages on April 4, 2023. We examine the impact to Internet traffic, availability of Virgin Media web properties, and how BGP activity may provide insights into the underlying cause",
		"reading_time": 4,
		"access": true,
		"comments": false,
		"og_image": null,
		"og_title": null,
		"og_description": null,
		"twitter_image": null,
		"twitter_title": null,
		"twitter_description": null,
		"meta_title": null,
		"meta_description": "UK ISP Virgin Media (AS5089) experienced several outages on April 4, 2023. We examine the impact to Internet traffic, availability of Virgin Media web properties, and how BGP activity may provide insights into the underlying cause.",
		"email_subject": null,
		"frontmatter": null,
		"feature_image_alt": null,
		"feature_image_caption": null
	}
}