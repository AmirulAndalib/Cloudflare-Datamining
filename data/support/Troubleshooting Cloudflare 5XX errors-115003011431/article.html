<p><i>Diagnose and resolve 5XX errors for Cloudflare proxied sites.</i></p>
<div class="cf-toc">
	<ul>
		<li><a href="#h_42ad57a0-3926-4162-b55e-c3a31864ea09">Overview</a></li>
		<li><a href="#500error">Error analytics</a></li>
		<li><a href="#500error">Error 500: internal server error</a></li>
		<li><a href="#502504error">Error 502 bad gateway or error 504 gateway timeout</a></li>
		<li><a href="#503error">Error 503: service temporarily unavailable</a></li>
		<li><a href="#520error">Error 520: web server returns an unknown error</a></li>
		<li><a href="#521error">Error 521: web server is down</a></li>
		<li><a href="#522error">Error 522: connection timed out</a></li>
		<li><a href="#523error">Error 523: origin is unreachable</a></li>
		<li><a href="#524error">Error 524: a timeout occurred</a></li>
		<li><a href="#525error">Error 525: SSL handshake failed</a></li>
		<li><a href="#526error">Error 526: invalid SSL certificate</a></li>
		<li><a href="#527error">527 Error: Railgun Listener to origin error</a></li>
		<li><a href="#530error">Error 530</a></li>
		<li><a href="#h_3ef3e669-ebcb-41e6-b688-e9ade0944392">Related resources</a></li>
	</ul>
</div>
<hr>
<h2 id="h_42ad57a0-3926-4162-b55e-c3a31864ea09">Overview</h2>
<p>When troubleshooting most 5XX errors, the correct course of action is to first contact your hosting provider or site administrator to troubleshoot and gather data.</p>
<p></p>
<div class="cf-sidebar-2 cf-note">Cloudflare Support only assists the domain owner to resolve issues. If you are a site visitor, report the problem to the site owner.
</div>
<h3>Required error details to provide your hosting provider</h3>
<ol>
	<li>Specific 5XX error code and message</li>
	<li>Time and timezone the 5XX error occurred</li>
	<li>URL that resulted in the HTTP 5XX error (for example: <i>https://www.example.com/images/icons/image1.png</i>)</li>
</ol>
<p></p>
<div class="cf-sidebar-2 cf-note">The error cause is not always found in the origin server error logs. Check logs of all load balancers, caches, proxies, or firewalls between Cloudflare and the origin web server.
</div>
<p>Additional details to provide to your hosting provider or site administrator are listed within each error description below. Cloudflare <a href="https://support.cloudflare.com/hc/articles/200172706">Custom Error Pages</a> change the appearance of default error pages discussed in this article.</p>
<p></p>
<div class="cf-sidebar-2 cf-note">Dedicated email support is available for all Pro, Business, and Enterprise Plan users. Business and Enterprise plan users also have access to chat support. If you require additional support, explore <a href="https://www.cloudflare.com/plans/">our plans</a>.
</div>
<hr>
<h2 id="500error">Error analytics</h2>
<p>Error Analytics per domain are available within the support portal for your account.  Error Analytics allows insight into overall errors by HTTP error code and provides the URLs, responses, origin server IP addresses, and Cloudflare data centers needed to diagnose and resolve the issue.  Error Analytics are based on a 1% traffic sample.</p>
<p>To view Error Analytics:</p>
<ul>
	<li>Navigate to the Cloudflare support portal.  Refer to <a href="https://support.cloudflare.com/hc/articles/200172476#h_4b8753c8-f422-4c74-9e8e-07026c4da730">instructions about filing a support ticket</a> for information on how to reach the support portal.</li>
	<li>Scroll down to the <b>Error Analytics</b> section.</li>
	<li>Click <b>Visit Error Analytics</b>.</li>
	<li>Enter the domain to investigate.</li>
	<li>A graph of <b>Errors over time</b> is displayed.</li>
	<li>Click on a status code in the table beneath the graph to expand traffic error details.</li>
</ul>
<p></p>
<hr>
<h2 id="500error">Error 500: internal server error</h2>
<p>Error 500 generally indicates an issue with your origin web server.  <i>Error establishing database</i> <i>connection</i> is a common HTTP 500 error message generated by your origin web server.  <a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider</a> to resolve.</p>
<p><b>Resolution</b></p>
<p><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Provide details to your hosting provider</a> to assist troubleshooting the issue.</p>
<p>However, if the 500 error contains “cloudflare” or “cloudflare-nginx” in the HTML response body, provide <a href="https://support.cloudflare.com/hc/articles/200172476">Cloudflare support</a> with the following information:</p>
<ol>
	<li>Your domain name</li>
	<li>The time and timezone of the 500 error occurrence</li>
	<li>The output of <i>www.example.com/cdn-cgi/trace </i>from the browser where the 500 error was observed (replace <i>www.example.com</i> with your actual domain and host name)</li>
</ol>
<p></p>
<div class="cf-sidebar-2 cf-note">If you observe blank or white pages when visiting your website, confirm whether the issue occurs when <a href="https://support.cloudflare.com/hc/articles/203118044#h_8654c523-e31e-4f40-a3c7-0674336a2753">temporarily pausing Cloudflare</a> and contact your hosting provider for assistance.
</div>
<hr>
<h2 id="502504error">Error 502 bad gateway or error 504 gateway timeout</h2>
<p>An HTTP 502 or 504 error occurs when Cloudflare is unable to establish contact with your origin web server.</p>
<p>There are two possible causes:</p>
<ul>
	<li>(Most common cause) <a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_85e06a1a-fa89-4685-aa24-2aaf57c0141b">502/504 from your origin web server</a>
	</li>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_845d633d-0842-4315-9dd2-53185cc4e1de">502/504 from Cloudflare</a></li>
</ul>
<h3>502/504 from your origin web server</h3>
<p>Cloudflare returns an Cloudflare-branded HTTP 502 or 504 error when your origin web server responds with a standard HTTP 502 bad gateway or 504 gateway timeout error:</p><img src="https://images.ctfassets.net/slt3lc6tev37/CTIa7Nqay9uZoBZnh7ao7/e61d8968ea919d75b26e0098437f7174/image1.png" alt="Example of a Cloudflare-branded error 502.">
<p><b>Resolution</b></p>
<p>Contact your hosting provider to troubleshoot these common causes at your origin web server:</p>
<ul>
	<li>Ensure the origin server responds to requests for the hostname and domain within the visitor’s URL that generated the 502 or 504 error.</li>
	<li>Investigate excessive server loads, crashes, or network failures.</li>
	<li>Identify applications or services that timed out or were blocked.</li>
</ul>
<h3>502/504 from Cloudflare</h3>
<p>A 502 or 504 error originating from Cloudflare appears as follows:</p><img src="https://images.ctfassets.net/slt3lc6tev37/2BPhw2fUEiOLLFaHqCIsTP/679902b3c75ec783371cb3fecdc1066f/image5.png" alt="Example of an unbranded error 502.">
<p>If the error does not mention “cloudflare,” contact your hosting provider for assistance on <a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_85e06a1a-fa89-4685-aa24-2aaf57c0141b">502/504 errors from your origin</a>.</p>
<p><b>Resolution</b></p>
<p>To avoid delays processing your inquiry, provide these required details to <a href="https://support.cloudflare.com/hc/articles/200172476">Cloudflare Support</a>:</p>
<ol>
	<li>Time and timezone the issue occurred.</li>
	<li>URL that resulted in the HTTP 502 or 504 response (for example: <i>https://www.example.com/images/icons/image1.png</i>)</li>
	<li>Output from browsing to <i>www.example.com/cdn-cgi/trace</i> (replace <i>www.example.com</i> with the domain and host name that caused the HTTP 502 or 504 error)</li>
</ol>
<p></p>
<hr>
<h2 id="503error">Error 503: service temporarily unavailable</h2>
<p>HTTP error 503 occurs when your origin web server is overloaded. There are two possible causes discernible by error message:</p>
<ul>
	<li>Error doesn’t contain “cloudflare” or “cloudflare-nginx” in the HTML response body.</li>
</ul>
<p><b>Resolution</b>: Contact your hosting provider to verify if they rate limit requests to your origin web server.</p>
<ul>
	<li>Error contains “cloudflare” or “cloudflare-nginx” in the HTML response body.</li>
</ul>
<p><b>Resolution</b>: A connectivity issue occured in a Cloudflare data center. Provide <a href="https://support.cloudflare.com/hc/articles/200172476">Cloudflare support</a> with the following information:</p>
<ol>
	<li>Your domain name</li>
	<li>The time and timezone of the 503 error occurrence</li>
	<li>The output of <i>www.example.com/cdn-cgi/trace</i> from the browser where the 503 error was observed (replace <i>www.example.com</i> with your actual domain and host name)</li>
</ol>
<p></p>
<hr>
<h2 id="520error">Error 520: web server returns an unknown error</h2>
<p>Error 520 occurs when the origin server returns an empty, unknown, or unexpected response to Cloudflare.</p>
<p><b>Resolution</b></p>
<p><b></b></p>
<div class="cf-sidebar-2 cf-note">A quick workaround while further investigating 520 errors is to either make the record <a href="https://developers.cloudflare.com/dns/manage-dns-records/reference/proxied-dns-records">DNS-only</a> in the Cloudflare <strong>DNS</strong> app or <a href="https://support.cloudflare.com/hc/articles/203118044#h_8654c523-e31e-4f40-a3c7-0674336a2753">temporarily pause Cloudflare</a>.
</div><b></b>
<p><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider or site administrator</a> and request a review of your origin web server error logs for crashes and to check for these common causes:</p>
<ul>
	<li>Origin web server application crashes</li>
	<li>
		<a href="https://www.cloudflare.com/ips">Cloudflare IPs</a> not allowed at your origin
	</li>
	<li>Headers exceeding 16 KB (typically due to too many cookies)</li>
	<li>An empty response from the origin web server that lacks an HTTP status code or response body</li>
	<li>Missing response headers or origin web server not returning <a href="https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml">proper HTTP error responses</a>. <ul>
			<li>
				<code>upstream prematurely closed connection while reading response header from upstream</code> is a common error we may notice in our logs. This indicates the origin web server was having issues which caused Cloudflare to generate 520 errors.
			</li>
		</ul>
	</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-note">520 errors are prevalent with certain PHP applications that crash the origin web server.
</div>
<p>If 520 errors continue after contacting your hosting provider or site administrator, provide the following information to <a href="https://support.cloudflare.com/hc/articles/200172476">Cloudflare Support</a>:</p>
<ul>
	<li>Full URL(s) of the resource requested when the error occurred</li>
	<li>Cloudflare<b> cf-ray</b> from the 520 error message</li>
	<li>Output from <i>http://www.example.com/cdn-cgi/trace</i> (replace <i>www.example.com</i> with your hostname and domain where the 520 error occurred)</li>
	<li>Two <a href="https://support.cloudflare.com/hc/articles/203118044">HAR files</a>:<ul>
			<li>one with Cloudflare enabled on your website, and</li>
			<li>the other with <a href="https://support.cloudflare.com/hc/articles/200169176">Cloudflare temporarily disabled</a>.</li>
		</ul>
	</li>
</ul>
<p></p>
<hr>
<h2 id="521error">Error 521: web server is down</h2>
<p>Error 521 occurs when the origin web server refuses connections from Cloudflare. Security solutions at your origin may block legitimate connections from certain <a href="https://www.cloudflare.com/ips">Cloudflare IP addresses</a>.</p>
<p>The two most common causes of 521 errors are:</p>
<ul>
	<li>Offlined origin web server application</li>
	<li>Blocked Cloudflare requests</li>
</ul>
<p><b>Resolution</b></p>
<p><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your site administrator or hosting provider</a> to eliminate these common causes:</p>
<ul>
	<li>Ensure your origin web server is responsive</li>
	<li>Review origin web server error logs to identify web server application crashes or outages.</li>
	<li>Confirm <a href="https://www.cloudflare.com/ips">Cloudflare IP addresses</a> are not blocked or rate limited</li>
	<li>Allow all <a href="https://www.cloudflare.com/ips">Cloudflare IP ranges</a> in your origin web server's firewall or other security software</li>
	<li>Confirm that — if you have your <b>SSL/TLS mode</b> set to <b>Full </b>or <b>Full (Strict</b>) — you have installed a <a href="https://developers.cloudflare.com/ssl/origin-configuration/origin-ca">Cloudflare Origin Certificate</a>
	</li>
	<li>Find additional troubleshooting information on the <a href="https://community.cloudflare.com/t/community-tip-fixing-error-521-web-server-is-down/42461">Cloudflare Community</a>.</li>
</ul>
<p></p>
<hr>
<h2 id="522error">Error 522: connection timed out</h2>
<p>Error 522 occurs when Cloudflare times out contacting the origin web server. Two different timeouts cause HTTP error 522 depending on when they occur between Cloudflare and the origin web server:</p>
<ol>
	<li>Before a connection is established, the origin web server does not return a SYN+ACK to Cloudflare within 15 seconds of Cloudflare sending a SYN.</li>
	<li>After a connection is established, the origin web server doesn’t acknowledge (ACK) Cloudflare’s resource request within 90 seconds.</li>
</ol>
<p></p>
<div class="cf-sidebar-2 cf-note">An <a href="#524error">HTTP 524 error</a> occurs if the origin web server acknowledges (<em>ACK</em>) the resource request after the connection has been established, but does not send a timely response.
</div>
<p><b>Resolution</b></p>
<p><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider</a> to check the following common causes at your origin web server:</p>
<ul>
	<li>(Most common cause) <a href="https://www.cloudflare.com/ips/">Cloudflare IP addresses</a> are rate limited or blocked in .htaccess, iptables, or firewalls. Confirm your hosting provider allows Cloudflare IP addresses.</li>
	<li>An overloaded or offline origin web server drops incoming requests.</li>
	<li>
		<a href="http://tldp.org/HOWTO/TCP-Keepalive-HOWTO/overview.html">Keepalives</a> are disabled at the origin web server.
	</li>
	<li>The origin IP address in your Cloudflare <b>DNS</b> app does not match the IP address currently provisioned to your origin web server by your hosting provider.</li>
	<li>Packets were dropped at your origin web server.</li>
</ul>
<p>If you are using <a href="https://developers.cloudflare.com/pages/">Cloudflare Pages</a>, verify that you have a custom domain set up and that your CNAME record is pointed to your custom Pages domain. Instructions on how to set up a custom Pages domain can be found <a href="https://developers.cloudflare.com/pages/getting-started#adding-a-custom-domain">here</a>.</p>
<p>If none of the above leads to a resolution, request the following information from your hosting provider or site administrator before <a href="https://support.cloudflare.com/hc/articles/200172476">contacting Cloudflare support</a>:</p>
<ul>
	<li>An <a href="https://support.cloudflare.com/hc/articles/203118044#h_b8cebafd-9243-40e9-9c44-d4b94ccd3a87">MTR or traceroute</a> from your origin web server to a <a href="http://www.cloudflare.com/ips">Cloudflare IP address</a> that most commonly connected to your origin web server before the issue occurred. Identify a connecting Cloudflare IP recorded in the origin web server logs.</li>
	<li>Details from the hosting provider’s investigation such as pertinent logs or conversations with the hosting provider.</li>
</ul>
<p></p>
<hr>
<h2 id="523error">Error 523: origin is unreachable</h2>
<p>Error 523 occurs when Cloudflare cannot contact your origin web server. This typically occurs when a network device between Cloudflare and the origin web server doesn’t have a route to the origin’s IP address.</p>
<p><b>Resolution</b>
	<a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider</a> to exclude the following common causes at your origin web server:
</p>
<ul>
	<li>Confirm the correct origin IP address is listed for A or AAAA records within your Cloudflare DNS app.</li>
	<li>Troubleshoot Internet routing issues between your origin and Cloudflare, or with the origin itself.</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-note">If your hosting provider frequently changes your origin web server’s IP address, refer to Cloudflare’s documentation on <a href="https://developers.cloudflare.com/dns/manage-dns-records/how-to/managing-dynamic-ip-addresses">dynamic DNS updates</a>.
</div>
<p>If none of the above leads to a resolution, request the following information from your hosting provider or site administrator:</p>
<ul>
	<li>An <a href="https://support.cloudflare.com/hc/articles/203118044#h_b8cebafd-9243-40e9-9c44-d4b94ccd3a87">MTR or traceroute</a> from your origin web server to a <a href="http://www.cloudflare.com/ips">Cloudflare IP address</a> that most commonly connected to your origin web server before the issue occurred. Identify a connecting Cloudflare IP from the logs of the origin web server.</li>
	<li>If you use Railgun via a Cloudflare Hosting Partner, <a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">contact your hosting provider</a> to troubleshoot the 523 errors.</li>
	<li>If you manage your Railgun installation, provide the following to:<ul>
			<li>A <a href="https://support.cloudflare.com/hc/articles/203118044#h_b8cebafd-9243-40e9-9c44-d4b94ccd3a87">traceroute</a> to your origin web server from your Railgun server.</li>
			<li>The most recent syslog file from your Railgun server.</li>
		</ul>
	</li>
</ul>
<p></p>
<hr>
<h2 id="524error">Error 524: a timeout occurred</h2>
<p>Error 524 indicates that Cloudflare successfully connected to the origin web server, but the origin did not provide an HTTP response before the default 100 second connection timed out. This can happen if the origin server is simply taking too long because it has too much work to do - e.g. a large data query, or because the server is struggling for resources and cannot return any data in time.</p>
<p><b>Resolution</b></p>
<p>Here are the options we'd suggest to work around this issue:</p>
<ul>
	<li>Implement status polling of large HTTP processes to avoid hitting this error.</li>
	<li>
		<a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider</a> to exclude the following common causes at your origin web server:<ul>
			<li>A long-running process on the origin web server.</li>
			<li>An overloaded origin web server.</li>
		</ul>
	</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-note">Logging request response time at your origin web server helps identify the cause of resource slowness. Contact your hosting provider or site administrator for assistance in adjusting log formats or search for related logging documentation for your brand of web server such as <a href="http://httpd.apache.org/docs/current/mod/mod_log_config.html">Apache</a> or <a href="http://nginx.org/en/docs/http/ngx_http_log_module.html#log_format">Nginx</a>.
</div>
<ul>
	<li>Enterprise customers can increase the 524 timeout up to 6000 seconds using the <a href="https://api.cloudflare.com/#zone-settings-change-proxy-read-timeout-setting">proxy_read_timeout API endpoint</a>.</li>
	<li>If you regularly run HTTP requests that take over 100 seconds to complete (for example large data exports), move those processes behind a subdomain not proxied (grey clouded) in the Cloudflare <b>DNS</b> app.</li>
	<li>If error 524 occurs for a domain using Cloudflare Railgun, ensure the <i>lan.timeout</i> is set higher than the default of 30 seconds and restart the railgun service.</li>
</ul>
<p></p>
<hr>
<h2 id="525error">Error 525: SSL handshake failed</h2>
<p>525 errors indicate that the SSL handshake between Cloudflare and the origin web server failed. Error 525 occurs when these two conditions are true:</p>
<ol>
	<li>The <a href="https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/">SSL handshake</a> fails between Cloudflare and the origin web server, and</li>
	<li>
		<a href="https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes"><i>Full </i>or<i> Full (Strict)</i></a> <b>SSL</b> is set in the <b>Overview</b> tab of your Cloudflare <b>SSL/TLS</b> app.
	</li>
</ol>
<p><b>Resolution</b></p>
<p><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_cf28c038-16c1-4841-a85f-f905240aaebe">Contact your hosting provider</a> to exclude the following common causes at your origin web server:</p>
<ul>
	<li>No valid SSL certificate installed</li>
	<li>Port 443 (or other custom secure port) is not open</li>
	<li>No <a href="https://support.cloudflare.com/hc/articles/360026016272">SNI</a> support</li>
	<li>The <a href="https://developers.cloudflare.com/ssl/ssl-tls/cipher-suites">cipher suites</a> accepted by Cloudflare does not match the cipher suites supported by the origin web server</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-tip">If 525 errors occur intermittently, review the origin web server error logs to determine the cause. Configure Apache to <a href="https://cwiki.apache.org/confluence/display/HTTPD/DebuggingSSLProblems#Enable_SSL_logging">log mod_ssl errors</a>. Also, nginx includes SSL errors in its standard error log, but may possibly require <a href="https://docs.nginx.com/nginx/admin-guide/monitoring/logging/">an increased log level</a>.
</div>
<p><b>Additional checks</b></p>
<ul>
	<li>Check if you have a certificate installed on your origin server. You can check <a href="https://support.cloudflare.com/hc/en-us/articles/203118044-Gathering-information-for-troubleshooting-sites#h_0c7f48b3-fc29-4266-8c63-477fe61a11c4">this article</a> for more details on how to run some tests. In case you don't have any certificate, you can create and install our free <a href="https://developers.cloudflare.com/ssl/origin-configuration/origin-ca">Cloudflare origin CA certificate</a>. Using Origin CA certificates allows you to encrypt traffic between Cloudflare and your origin web server.</li>
	<li>
		<a href="https://developers.cloudflare.com/ssl/ssl-tls/cipher-suites">Review the cipher suites</a> your server is using to ensure they match what is supported by Cloudflare.
	</li>
	<li>Check your server's error logs from the timestamps you see 525s to ensure there are errors that could be causing the connection to be reset during the SSL handshake.</li>
</ul>
<p></p>
<hr>
<h2 id="526error">Error 526: invalid SSL certificate</h2>
<p>Error 526 occurs when these two conditions are true:</p>
<ol>
	<li>Cloudflare cannot validate the SSL certificate at your origin web server, and</li>
	<li>
		<a href="https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes#full-strict"><i>Full SSL (Strict)</i></a> <b>SSL</b> is set in the <b>Overview</b> tab of your Cloudflare <b>SSL/TLS</b> app.
	</li>
</ol>
<p><b>Resolution</b></p>
<p></p>
<div class="cf-sidebar-2 cf-tip">For a potential quick fix, set <strong>SSL</strong> to <em>Full</em> instead of <em>Full (strict)</em> in the <strong>Overview</strong> tab of your Cloudflare <strong>SSL/TLS</strong> app for the domain.
</div>
<p>Request your server administrator or hosting provider to review the origin web server’s SSL certificates and verify that:</p>
<ul>
	<li>Certificate is not expired</li>
	<li>Certificate is not revoked</li>
	<li>Certificate is signed by a <a href="https://support.cloudflare.com/hc/articles/360026016272">C</a><a href="https://support.cloudflare.com/hc/articles/360026016272">ertificate Authority</a> (not self-signed)</li>
	<li>The requested or target domain name and hostname are in the certificate's <b>Common Name</b> or <b>Subject Alternative Name</b>
	</li>
	<li>Your origin web server accepts connections over port SSL port 443</li>
	<li>
		<a href="https://support.cloudflare.com/hc/articles/200169176">Temporarily pause Cloudflare</a> and visit <a href="https://www.sslshopper.com/ssl-checker.html#hostname=www.example.com">https://www.sslshopper.com/ssl-checker.html#hostname=www.example.com</a> (replace www.example.com with your hostname and domain) to verify no issues exists with the origin SSL certificate:
	</li>
</ul><img src="https://images.ctfassets.net/slt3lc6tev37/5vKfYKeOgh0GAa9vnr0Qwb/1db00bea64cd5fb77a839f41273840b9/hc-import-troubleshooting_5xx_errors_sslshopper_output.png" alt="Screen showing an SSL certificate with no errors.">
<p>If the origin server uses a self-signed certificate, configure the domain to use <i>Full</i> <i>SSL</i> instead of <i>Full SSL (Strict)</i>. Refer to <a href="https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes">recommended SSL settings for your origin</a>.</p>
<hr>
<h2 id="527error">527 Error: Railgun Listener to origin error</h2>
<p>A 527 error indicates an interrupted connection between Cloudflare and your origin's <a href="https://support.cloudflare.com/hc/articles/200168406">Railgun server (rg-listener)</a>. Common causes include:</p>
<ul>
	<li>Firewall interference</li>
	<li>Network incidents or packet loss between the Railgun server and Cloudflare</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-note">For additional details to aid troubleshooting, <a href="https://support.cloudflare.com/hc/articles/218444227">increase Railgun logging</a>.
</div>
<p>Common causes of 527 errors include:</p>
<ul>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_c559b9e5-a342-47ed-bfae-66e10e42aade">Connection timeouts</a></li>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_f8e4890c-9459-4c9a-a4ab-e9b44fa16dbf">LAN timeout exceeded</a></li>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_2e3e4251-3642-4fce-bbcf-1a45bb2b2c11">Connection refusals</a></li>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/115003011431-Troubleshooting-Cloudflare-5XX-errors#h_c30fe02c-98f2-4cbf-af8c-bafa9b4f5b8f">TLS/SSL related errors</a></li>
</ul>
<p>If contacting Cloudflare support, provide the following information from the Railgun Listener:</p>
<ul>
	<li>The full content of the <i>railgun.conf</i> file</li>
	<li>The full content of the <i>railgun-nat.conf</i> file</li>
	<li>Railgun log files that detail the observed errors</li>
</ul>
<h3>Connection timeouts</h3>
<p>The following Railgun log errors indicate a connection failure between the Railgun Listener and your origin web server:</p>
<p></p>
<pre>connection failed 0.0.0.0:443/example.com: dial tcp 0.0.0.0:443: i/o timeout
no response from origin (timeout) 0.0.0.0:80/example.com</pre>
<p><b>Resolution</b></p>
<p>Contact your hosting provider for assistance to test for connectivity issues between your origin web server and your Railgun Listener. For example, a netcat command tests connectivity when run from the Railgun Listener to the origin web server’s <i>SERVERIP</i> and <i>PORT</i> (80 for HTTP or 443 for HTTPS):</p>
<pre>nc -vz SERVERIP PORT</pre>
<h3>LAN timeout exceeded</h3>
<p>The following Railgun Listener log error is generated if the origin web server does not send an HTTP response to the Railgun Listener within the 30 second default timeout:</p>
<p></p>
<pre>  connection failed 0.0.0.0:443/example.com: dial tcp 0.0.0.0:443: i/o timeout</pre>
<p>The time is adjusted by the lan.timeout parameter of the railgun.conf file.</p>
<p><b>Resolution</b></p>
<p>Either increase the <i>lan.timeout</i> limit in <i>railgun.conf</i>, or review the web server configuration. Contact your hosting provider to confirm if the origin web server is overloaded.</p>
<h3>Connection refusals</h3>
<p>The following errors appear in the Railgun logs when requests from the Railgun Listener are refused:</p>
<p></p>
<pre>Error getting page: dial tcp 0.0.0.0:80:connection refused</pre>
<p><b>Resolution</b></p>
<p>Allow the IP of your Railgun Listener at your origin web server’s firewall.</p>
<h3>TLS/SSL related errors</h3>
<p>The following errors appear in the Railgun logs if TLS connections fail:</p>
<p></p>
<pre>connection failed 0.0.0.0:443/example.com: remote error: handshake failure
connection failed 0.0.0.0:443/example.com: dial tcp 0.0.0.0:443:connection refused
connection failed 127.0.0.1:443/www.example.com: x509: certificate is valid for
example.com, not www.example.com</pre>
<p><b>Resolution</b></p>
<p>If TLS/SSL errors occur, check the following on the origin web server and ensure that:</p>
<ul>
	<li>Port 443 is open</li>
	<li>An SSL certificate is presented by the origin web server</li>
	<li>the SAN or Common Name of the origin web server’s SSL certificate contains the requested or target hostname</li>
	<li>
		<b>SSL</b> is set to <a href="https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes">Full or Full (Strict)</a> in the <b>Overview</b> tab of the Cloudflare <b>SSL/TLS</b> app
	</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-tip">If your origin web server SSL certificate is self-signed, <a href="https://support.cloudflare.com/hc/articles/219336007">set <em>validate.cert=0</em> in <em>railgun.conf</em></a>.
</div>
<hr>
<h2 id="530error">Error 530</h2>
<p>HTTP error 530 is returned with an accompanying 1XXX error displayed. Search for the specific <a href="https://support.cloudflare.com/hc/sections/200820298">1XXX error within the Cloudflare Help Center</a> for troubleshooting information.</p>
<hr>
<h2 id="h_3ef3e669-ebcb-41e6-b688-e9ade0944392">Related resources</h2>
<ul>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/203118044">Gathering information to troubleshoot site issues</a></li>
	<li><a href="https://support.cloudflare.com/hc/articles/200172476#h_7b55d494-b84d-439b-8e60-e291a9fd3d16">Contacting Cloudflare Support</a></li>
	<li><a href="https://support.cloudflare.com/hc/articles/200172706">Customizing Cloudflare error pages</a></li>
	<li><a href="https://support.cloudflare.com/hc/articles/203118044#h_b8cebafd-9243-40e9-9c44-d4b94ccd3a87">MTR/Traceroute Diagnosis and Usage</a></li>
	<li><a href="https://community.cloudflare.com/tag/communitytip">Cloudflare Community Tips</a></li>
</ul>
<p></p>