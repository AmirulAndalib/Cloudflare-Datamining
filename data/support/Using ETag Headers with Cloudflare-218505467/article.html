<p><i>Learn how Cloudflare interacts with Entity Tag (ETag) headers set by your origin web server to ensure your resource versions cached in Cloudflare’s CDN match those cached in your visitor’s browser.</i></p>
<hr>
<h2 id="h_48qFJ171jymQuMjb0Z0nJA">Overview</h2>
<p>ETag headers identify whether the version of a resource cached in the browser is the same as the resource at the web server.  A visitor’s browser stores ETags. When a visitor revisits a site, the browser compares each ETag to the one it stored. Matching values cause a <i>304 Not-Modified HTTP</i> response that indicates the cached resource version is current.   Cloudflare supports both strong and weak ETags configured at your origin web server.</p>
<h3>Weak ETags</h3>
<p>Weak ETag headers indicate a cached resource is semantically equivalent to the version on the web server but not necessarily byte-for-byte identical.   Cloudflare supports weak ETag headers on all plans.</p>
<p><b></b></p>
<div class="cf-sidebar-2 cf-tip">When using weak ETag headers, disable <a href="https://support.cloudflare.com/hc/articles/200170016">Email Obfuscation</a> and <a href="https://developers.cloudflare.com/ssl/edge-certificates/additional-options/automatic-https-rewrites">Automatic HTTPS Rewrites</a> to ensure Cloudflare doesn't remove the ETag headers set by your origin web server.
</div><b></b>
<h3>Strong ETags</h3>
<p>Strong ETag headers ensure the resource in browser cache and on the web server are byte-for-byte identical.  Domains on <a href="https://www.cloudflare.com/pricing/">Enterprise</a> plans enable strong ETag headers via a <b>Respect Strong ETags</b> <a href="https://support.cloudflare.com/hc/articles/200168306">Page Rule</a>.  Otherwise, strong ETag headers are converted to weak ETag headers. Also, set a strong ETag header in quotes (Etag: "example") or Cloudflare removes the ETag instead of converting it to a weak ETag. </p>
<p>Without a Page Rule, Cloudflare preserves strong ETags set by the origin web server if:</p>
<ul>
	<li>the content is gzipped on the origin server,</li>
	<li>the origin sends the gzipped content with a strong ETag header, and</li>
	<li>
		<a href="https://support.cloudflare.com/hc/articles/200168056">Rocket Loader</a>, <a href="https://support.cloudflare.com/hc/articles/200168196">Minification</a>, <a href="https://support.cloudflare.com/hc/articles/200170016">Email Obfuscation</a>, and <a href="https://www.cloudflare.com/railgun/">Railgun</a> features are disabled.
	</li>
</ul>
<p></p>
<div class="cf-sidebar-2 cf-tip">Enabling Strong ETags via Cloudflare automatically disables Rocket Loader, Minification, Email Obfuscation, and Railgun.
</div> <p></p>
<div class="cf-sidebar-2 cf-note">If a resource is cacheable and there is a cache miss, Cloudflare does not send ETag headers to the origin. This is because Cloudflare requires the full response body to fill its cache.
</div> 
<hr>
<h2 id="h_52WZo0VunFDlsa4BLY1bTD">Related resources</h2>
<ul>
	<li><a href="https://support.cloudflare.com/hc/en-us/articles/200172516">Understanding Cloudflare’s CDN</a></li>
	<li><a href="https://support.cloudflare.com/hc/articles/202775670">Controlling Cloudflare’s cache</a></li>
</ul>
<p></p>